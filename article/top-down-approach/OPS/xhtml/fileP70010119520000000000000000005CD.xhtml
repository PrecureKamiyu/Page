<?xml version="1.0" encoding="utf-8"?><html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/"><head>
<meta name="dcterms.conformsTo" content="PXE Basic 1.0"></meta>
<meta name="generator" content="PXE Tools version 1.39.109"></meta>
<!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.109, partial=false-->
<title>1.4 Delay, Loss, and Throughput in Packet-Switched Networks</title><link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/sepia.css"></link><link rel="alternate stylesheet" type="text/css" title="night" href="../css/night.css"></link><link rel="stylesheet" type="text/css" title="day" href="../css/main.css"></link><link rel="stylesheet" type="text/css" title="day" href="../css/print.css"></link>
<script src="js/format_lg_obj.js"></script>
</head><body epub:type="bodymatter">
<section id="P70010119520000000000000000005CD" class="level1"><header><h1 class="title" id="P7001011952000000000000000009800" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009800" epub:type="title"><span class="pagebreak" title="35" id="P70010119520000000000000000005CF" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005CF" epub:type="pagebreak" role="doc-pagebreak"></span><span class="number">1.4</span> Delay, Loss, and Throughput in Packet-Switched Networks</h1></header>
<p id="P7001011952000000000000000009801" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009801">Back in <a class="xref" href="fileP7001011952000000000000000000461.xhtml#P7001011952000000000000000000461" data-foobar="7"><span class="label">Section</span> <span class="number">1.1</span></a> we said that the Internet can be viewed as an infrastructure that provides services to distributed applications running on end systems. Ideally, we would like Internet services to be able to move as much data as we want between any two end systems, instantaneously, without any loss of data. Alas, this is a lofty goal, one that is unachievable in reality. Instead, computer networks necessarily constrain throughput (the amount of data per second that can be transferred) between end systems, introduce delays between end systems, and can actually lose packets. On one hand, it is unfortunate that the physical laws of reality introduce delay and loss as well as constrain throughput. On the other hand, because computer networks have these problems, there are many fascinating issues surrounding how to deal with the problems—more than enough issues to fill a course on computer networking and to motivate thousands of PhD theses! In this section, we’ll begin to examine and quantify delay, loss, and throughput in computer networks.</p>
<section id="P70010119520000000000000000005D1" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005D1" class="level2"><header><h1 class="title" id="P7001011952000000000000000009802" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009802" epub:type="title"><span class="number">1.4.1</span> Overview of Delay in Packet-Switched Networks</h1></header>
<p id="P7001011952000000000000000009803" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009803">Recall that a packet starts in a host (the source), passes through a series of routers, and ends its journey in another host (the destination). As a packet travels from one node (host or router) to the subsequent node (host or router) along this path, the packet suffers from several types of delays at <i>each</i> node along the path. The most important of these delays are the <span class="keyword" id="P70010119520000000000000000005D4" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005D4"><b>nodal processing delay</b></span>, <span class="keyword" id="P70010119520000000000000000005D5" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005D5"><b>queuing delay</b></span>, <span class="keyword" id="P70010119520000000000000000005D6" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005D6"><b>transmission delay</b></span>, and <span class="keyword" id="P70010119520000000000000000005D7" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005D7"><b>propagation delay</b></span>; together, these delays accumulate to give a <span class="keyword" id="P70010119520000000000000000005D8" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005D8"><b>total nodal delay</b></span>. The performance of many Internet applications—such as search, Web browsing, e-mail, maps, instant messaging, and voice-over-IP—are greatly affected by network delays. In order to acquire a deep understanding of packet switching and computer networks, we must understand the nature and importance of these delays.</p>
<section id="P70010119520000000000000000005D9" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005D9" class="level3"><header><h1 class="title" id="P7001011952000000000000000009804" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009804" epub:type="title">Types of Delay</h1></header>
<p id="P7001011952000000000000000009805" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009805">Let’s explore these delays in the context of <a class="xref" href="#P70010119520000000000000000005DD" data-foobar="1"><span class="label">Figure</span> <span class="number">1.16</span></a>. As part of its end-to-end route between source and destination, a packet is sent from the upstream node through router A to router B. Our goal is to characterize the nodal delay at router A. Note that router A has an outbound link leading to router B. This link is preceded by a queue (also known as a buffer). When the packet arrives at router A from the upstream node, router A examines the packet’s header to determine the appropriate outbound link for the packet and then directs the packet to this link. In this example, the outbound link for the packet is the one that leads to router B. A packet can be transmitted on a link only if there is no other packet currently being transmitted on the link and if there are no other packets preceding it in the queue; if the link is<span class="pagebreak" title="36" id="P70010119520000000000000000005DC" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005DC" epub:type="pagebreak" role="doc-pagebreak"></span></p>
<figure id="P70010119520000000000000000005DD" class="figure" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005DD">
<img alt="An illustration of nodal delay." height="211" width="533" aria-describedby="P70010119520000000000000000005E1" id="P7001011952000000000000000009806" data-uri="P700101195200000000000000000550D" src="../images/4055101016.png"></img>
<figcaption id="P7001011952000000000000000009807" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009807"><header><h1 class="title" id="P7001011952000000000000000009808" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009808" epub:type="title"><span class="label">Figure </span> <span class="number">1.16</span> The nodal delay at router A</h1></header>

</figcaption>
</figure><div class="longdesc" id="P70010119520000000000000000005E1" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005E1" aria-hidden="false"><a class="xref" aria-hidden="false" href="../longalt/la_4055101016.xhtml#la_4055101016"><span class="label">Description</span></a></div>
<p class="continued" id="P700101195200000000000000000980A" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000980A">currently busy or if there are other packets already queued for the link, the newly arriving packet will then join the queue.</p>
<section id="P70010119520000000000000000005E4" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005E4" class="level4"><header><h1 class="title" id="P700101195200000000000000000980B" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000980B" epub:type="title">Processing Delay</h1></header>
<p id="P700101195200000000000000000980C" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000980C">The time required to examine the packet’s header and determine where to direct the packet is part of the <span class="keyword" id="P70010119520000000000000000005E7" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005E7"><b>processing delay</b></span>. The processing delay can also include other factors, such as the time needed to check for bit-level errors in the packet that occurred in transmitting the packet’s bits from the upstream node to router A. Processing delays in high-speed routers are typically on the order of microseconds or less. After this nodal processing, the router directs the packet to the queue that precedes the link to router B. (In <a class="xref" href="fileP70010119520000000000000000019C1.xhtml#P70010119520000000000000000019C1" data-foobar="7"><span class="label">Chapter</span> <span class="number">4</span></a> we’ll study the details of how a router operates.)</p>
</section>
<section id="P70010119520000000000000000005E8" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005E8" class="level4"><header><h1 class="title" id="P700101195200000000000000000980D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000980D" epub:type="title">Queuing Delay</h1></header>
<p id="P700101195200000000000000000980E" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000980E">At the queue, the packet experiences a <span class="keyword" id="P70010119520000000000000000005EB" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005EB"><b>queuing delay</b></span> as it waits to be transmitted onto the link. The length of the queuing delay of a specific packet will depend on the number of earlier-arriving packets that are queued and waiting for transmission onto the link. If the queue is empty and no other packet is currently being transmitted, then our packet’s queuing delay will be zero. On the other hand, if the traffic is heavy and many other packets are also waiting to be transmitted, the queuing delay will be long. We will see shortly that the number of packets that an arriving packet might expect to find is a function of the intensity and nature of the traffic arriving at the queue. ­Queuing delays can be on the order of microseconds to milliseconds in practice.</p>
</section>
<section id="P70010119520000000000000000005EC" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005EC" class="level4"><header><h1 class="title" id="P700101195200000000000000000980F" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000980F" epub:type="title">Transmission Delay</h1></header>
<p id="P7001011952000000000000000009810" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009810">Assuming that packets are transmitted in a first-come-first-served manner, as is common in packet-switched networks, our packet can be transmitted only after all the packets that have arrived before it have been transmitted. Denote the length of the <span class="pagebreak" title="37" id="P70010119520000000000000000005EF" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005EF" epub:type="pagebreak" role="doc-pagebreak"></span>packet by <i>L</i> bits, and denote the transmission rate of the link from router A to router B by <i>R</i> bits/sec. For example, for a 10 Mbps Ethernet link, the rate is <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="113" altimg-height="17" altimg="../images/ch01math05.png"><m:mrow><m:mi>R</m:mi><m:mo>=</m:mo><m:mn>10</m:mn><m:mtext> Mbps</m:mtext><m:mo>;</m:mo></m:mrow></m:math></span> for a 100 Mbps Ethernet link, the rate is <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="122" altimg-height="17" altimg="../images/ch01math06.png"><m:mrow><m:mi>R</m:mi><m:mo>=</m:mo><m:mn>100</m:mn><m:mtext> Mbps</m:mtext><m:mo>.</m:mo></m:mrow></m:math></span> The <span class="keyword" id="P70010119520000000000000000005F0" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005F0"><b>transmission delay</b></span> is <i>L/R.</i> This is the amount of time required to push (that is, transmit) all of the packet’s bits into the link. Transmission delays are typically on the order of microseconds to milliseconds in practice.</p>
</section>
<section id="P70010119520000000000000000005F1" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005F1" class="level4"><header><h1 class="title" id="P7001011952000000000000000009811" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009811" epub:type="title">Propagation Delay</h1></header>
<p id="P7001011952000000000000000009812" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009812">Once a bit is pushed into the link, it needs to propagate to router B. The time required to propagate from the beginning of the link to router B is the <span class="keyword" id="P70010119520000000000000000005F4" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005F4"><b>propagation delay</b></span>. The bit propagates at the propagation speed of the link. The propagation speed depends on the physical medium of the link (that is, fiber optics, twisted-pair copper wire, and so on) and is in the range of</p>
<div class="informalequation" id="P70010119520000000000000000005F5" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005F5"><m:math display="block" alttext="" data-uri="" altimg-width="295" altimg-height="17" altimg="../images/ch01math07.png"><m:mrow><m:mn>2</m:mn><m:mo>⋅</m:mo><m:msup><m:mrow><m:mn>10</m:mn></m:mrow><m:mn>8</m:mn></m:msup><m:mtext> meters</m:mtext><m:mo>/</m:mo><m:mi>sec</m:mi><m:mtext> to </m:mtext><m:mn>3</m:mn><m:mo>⋅</m:mo><m:msup><m:mrow><m:mn>10</m:mn></m:mrow><m:mn>8</m:mn></m:msup><m:mtext> meters</m:mtext><m:mo>/</m:mo><m:mi>sec</m:mi></m:mrow></m:math></div>
<p class="continued" id="P7001011952000000000000000009813" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009813">which is equal to, or a little less than, the speed of light. The propagation delay is the distance between two routers divided by the propagation speed. That is, the propagation delay is <i>d/s,</i> where <i>d</i> is the distance between router A and router B and <i>s</i> is the propagation speed of the link. Once the last bit of the packet propagates to node B, it and all the preceding bits of the packet are stored in router B. The whole process then continues with router B now performing the forwarding. In wide-area networks, propagation delays are on the order of milliseconds.</p>
</section>
<section id="P70010119520000000000000000005F7" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005F7" class="level4"><header><h1 class="title" id="P7001011952000000000000000009814" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009814" epub:type="title">Comparing Transmission and Propagation Delay</h1></header>
<aside class="marginalia" id="P70010119520000000000000000005F9" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005F9">
<p id="P7001011952000000000000000009815" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009815"><img alt="" height="55" width="58" id="P7001011952000000000000000009816" data-uri="P7001011952000000000000000005893" src="../images/VideoNote.png"></img></p>
<p id="P7001011952000000000000000009817" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009817">Exploring propagation delay and transmission delay</p>
</aside>
<p id="P7001011952000000000000000009818" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009818">Newcomers to the field of computer networking sometimes have difficulty understanding the difference between transmission delay and propagation delay. The difference is subtle but important. The transmission delay is the amount of time required for the router to push out the packet; it is a function of the packet’s length and the transmission rate of the link, but has nothing to do with the distance between the two routers. The propagation delay, on the other hand, is the time it takes a bit to propagate from one router to the next; it is a function of the distance between the two routers, but has nothing to do with the packet’s length or the transmission rate of the link.</p>
<p id="P7001011952000000000000000009819" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009819">An analogy might clarify the notions of transmission and propagation delay. Consider a highway that has a tollbooth every 100 kilometers, as shown in <a class="xref" href="#P7001011952000000000000000000600" data-foobar="1"><span class="label">Figure</span> <span class="number">1.17</span></a>. You can think of the highway segments between tollbooths as links and the tollbooths as routers. Suppose that cars travel (that is, propagate) on the highway at a rate of 100 km/hour (that is, when a car leaves a tollbooth, it instantaneously accelerates to 100 km/hour and maintains that speed between tollbooths). Suppose next that 10 cars, traveling together as a caravan, follow each other in a fixed order. You can think of each car as a bit and the caravan as a packet. Also suppose that each<span class="pagebreak" title="38" id="P70010119520000000000000000005FF" data-uri="M01_KURO4140_07_SE_C01.xhtml#P70010119520000000000000000005FF" epub:type="pagebreak" role="doc-pagebreak"></span></p>
<figure id="P7001011952000000000000000000600" class="figure" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000600">
<img alt="An illustration of the caravan analogy." height="133" width="673" aria-describedby="P7001011952000000000000000000604" id="P700101195200000000000000000981A" data-uri="P700101195200000000000000000550E" src="../images/4055101017.png"></img>
<figcaption id="P700101195200000000000000000981B" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000981B"><header><h1 class="title" id="P700101195200000000000000000981C" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000981C" epub:type="title"><span class="label">Figure </span> <span class="number">1.17</span> Caravan analogy</h1></header>

</figcaption>
</figure><div class="longdesc" id="P7001011952000000000000000000604" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000604" aria-hidden="false"><a class="xref" aria-hidden="false" href="../longalt/la_4055101017.xhtml#la_4055101017"><span class="label">Description</span></a></div>
<p class="continued" id="P700101195200000000000000000981E" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000981E">tollbooth services (that is, transmits) a car at a rate of one car per 12 seconds, and that it is late at night so that the caravan’s cars are the only cars on the highway. Finally, suppose that whenever the first car of the caravan arrives at a tollbooth, it waits at the entrance until the other nine cars have arrived and lined up behind it. (Thus the entire caravan must be stored at the tollbooth before it can begin to be forwarded.) The time required for the tollbooth to push the entire caravan onto the highway is <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="294" altimg-height="17" altimg="../images/ch01math08.png"><m:mrow><m:mrow><m:mo>(</m:mo><m:mrow><m:mn>10</m:mn><m:mtext> cars</m:mtext></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>/</m:mo><m:mrow><m:mo>(</m:mo><m:mrow><m:mn>5</m:mn><m:mtext> cars</m:mtext><m:mo>/</m:mo><m:mtext>minute</m:mtext></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>=</m:mo><m:mn>2</m:mn><m:mtext> minutes</m:mtext></m:mrow></m:math></span>. This time is analogous to the transmission delay in a router. The time required for a car to travel from the exit of one tollbooth to the next tollbooth is <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="254" altimg-height="17" altimg="../images/ch01math09.png"><m:mrow><m:mn>100</m:mn><m:mtext> km</m:mtext><m:mo>/</m:mo><m:mrow><m:mo>(</m:mo><m:mrow><m:mn>100</m:mn><m:mtext> km</m:mtext><m:mo>/</m:mo><m:mtext>hour</m:mtext></m:mrow><m:mo>)</m:mo></m:mrow><m:mo>=</m:mo><m:mn>1</m:mn><m:mtext> hour</m:mtext></m:mrow></m:math></span>. This time is analogous to propagation delay. Therefore, the time from when the caravan is stored in front of a tollbooth until the caravan is stored in front of the next tollbooth is the sum of transmission delay and propagation delay—in this example, 62 minutes.</p>
<p id="P700101195200000000000000000981F" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000981F">Let’s explore this analogy a bit more. What would happen if the tollbooth service time for a caravan were greater than the time for a car to travel between tollbooths? For example, suppose now that the cars travel at the rate of 1,000 km/hour and the tollbooth services cars at the rate of one car per minute. Then the traveling delay between two tollbooths is 6 minutes and the time to serve a caravan is 10 minutes. In this case, the first few cars in the caravan will arrive at the second tollbooth before the last cars in the caravan leave the first tollbooth. This situation also arises in packet-switched networks—the first bits in a packet can arrive at a router while many of the remaining bits in the packet are still waiting to be transmitted by the preceding router.</p>
<p id="P7001011952000000000000000009820" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009820">If a picture speaks a thousand words, then an animation must speak a million words. The Web site for this textbook provides an interactive Java applet that nicely illustrates and contrasts transmission delay and propagation delay. The reader is highly encouraged to visit that applet. <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003C18" data-foobar="7">[Smith 2009]</a> also provides a very readable discussion of propagation, queueing, and transmission delays.</p>
<p id="P7001011952000000000000000009821" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009821">If we let <i>d</i><sub>proc</sub>, <i>d</i><sub>queue</sub>, <i>d</i><sub>trans</sub>, and <i>d</i><sub>prop</sub> denote the processing, queuing, transmission, and propagation delays, then the total nodal delay is given by</p>
<div class="informalequation" id="P700101195200000000000000000060A" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000060A"><m:math display="block" alttext="" data-uri="" altimg-width="300" altimg-height="20" altimg="../images/ch01math10.png"><m:mrow><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>nodal</m:mtext></m:mrow></m:msub><m:mo>=</m:mo><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>proc</m:mtext></m:mrow></m:msub><m:mo>+</m:mo><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>queue</m:mtext></m:mrow></m:msub><m:mo>+</m:mo><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>trans</m:mtext></m:mrow></m:msub><m:mo>+</m:mo><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>prop</m:mtext></m:mrow></m:msub></m:mrow></m:math></div>
<p id="P7001011952000000000000000009822" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009822">The contribution of these delay components can vary significantly. For example, <i>d</i><sub>prop</sub> can be negligible (for example, a couple of microseconds) for a link connecting <span class="pagebreak" title="39" id="P700101195200000000000000000060C" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000060C" epub:type="pagebreak" role="doc-pagebreak"></span>two routers on the same university campus; however, <i>d</i><sub>prop</sub> is hundreds of milliseconds for two routers interconnected by a geostationary satellite link, and can be the dominant term in <i>d</i><sub>nodal</sub>. Similarly, <i>d</i><sub>trans</sub> can range from negligible to significant. Its contribution is typically negligible for transmission rates of 10 Mbps and higher (for example, for LANs); however, it can be hundreds of milliseconds for large Internet packets sent over low-speed dial-up modem links. The processing delay, <i>d</i><sub>proc</sub>, is often negligible; however, it strongly influences a router’s maximum throughput, which is the maximum rate at which a router can forward packets.</p>
</section>
</section>
</section>
<section id="P700101195200000000000000000060D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000060D" class="level2"><header><h1 class="title" id="P7001011952000000000000000009823" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009823" epub:type="title"><span class="number">1.4.2</span> Queuing Delay and Packet Loss</h1></header>
<p id="P7001011952000000000000000009824" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009824">The most complicated and interesting component of nodal delay is the queuing delay, <i>d</i><sub>queue</sub>. In fact, queuing delay is so important and interesting in computer networking that thousands of papers and numerous books have been written about it <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003837" data-foobar="7">[Bertsekas 1991</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P70010119520000000000000000038B3" data-foobar="7">Daigle 1991</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P70010119520000000000000000039EA" data-foobar="7">Kleinrock 1975</a>, <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P70010119520000000000000000039EE" data-foobar="7">Kleinrock 1976</a>; Ross 1995]. We give only a high-level, intuitive discussion of queuing delay here; the more curious reader may want to browse through some of the books (or even eventually write a PhD thesis on the subject!). Unlike the other three delays (namely, <i>d</i><sub>proc</sub>, <i>d</i><sub>trans</sub>, and <i>d</i><sub>prop</sub>), the queuing delay can vary from packet to packet. For example, if 10 packets arrive at an empty queue at the same time, the first packet transmitted will suffer no queuing delay, while the last packet transmitted will suffer a relatively large queuing delay (while it waits for the other nine packets to be transmitted). Therefore, when characterizing queuing delay, one typically uses statistical measures, such as average queuing delay, variance of queuing delay, and the probability that the queuing delay exceeds some specified value.</p>
<p id="P7001011952000000000000000009825" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009825">When is the queuing delay large and when is it insignificant? The answer to this question depends on the rate at which traffic arrives at the queue, the transmission rate of the link, and the nature of the arriving traffic, that is, whether the traffic arrives periodically or arrives in bursts. To gain some insight here, let <i>a</i> denote the average rate at which packets arrive at the queue (<i>a</i> is in units of packets/sec). Recall that <i>R</i> is the transmission rate; that is, it is the rate (in bits/sec) at which bits are pushed out of the queue. Also suppose, for simplicity, that all packets consist of <i>L</i> bits. Then the average rate at which bits arrive at the queue is <i>La</i> bits/sec. Finally, assume that the queue is very big, so that it can hold essentially an infinite number of bits. The ratio <i>La/R,</i> called the <span class="keyword" id="P7001011952000000000000000000611" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000611"><b>traffic intensity</b></span>, often plays an important role in estimating the extent of the queuing delay. If <i>La/R</i> &gt; 1, then the average rate at which bits arrive at the queue exceeds the rate at which the bits can be transmitted from the queue. In this unfortunate situation, the queue will tend to increase without bound and the queuing delay will approach infinity! Therefore, one of the golden rules in traffic engineering is: <i>Design your system so that the traffic intensity is no greater than 1.</i></p>
<p id="P7001011952000000000000000009826" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009826">Now consider the case <i>La/R</i> ≤ 1. Here, the nature of the arriving traffic impacts the queuing delay. For example, if packets arrive periodically—that is, one packet arrives every <i>L/R</i> seconds—then every packet will arrive at an empty queue and <span class="pagebreak" title="40" id="P7001011952000000000000000000613" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000613" epub:type="pagebreak" role="doc-pagebreak"></span>there will be no queuing delay. On the other hand, if packets arrive in bursts but periodically, there can be a significant average queuing delay. For example, suppose <i>N</i> packets arrive simultaneously every <i>(L/R)N</i> seconds. Then the first packet transmitted has no queuing delay; the second packet transmitted has a queuing delay of <i>L/R</i> seconds; and more generally, the <i>n</i>th packet transmitted has a queuing delay of <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="61" altimg-height="17" altimg="../images/ch01math11.png"><m:mrow><m:mrow><m:mo>(</m:mo><m:mrow><m:mi>n</m:mi><m:mo>−</m:mo><m:mn>1</m:mn></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow></m:math></span><i>L/R</i> seconds. We leave it as an exercise for you to calculate the average queuing delay in this example.</p>
<p id="P7001011952000000000000000009827" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009827">The two examples of periodic arrivals described above are a bit academic. ­Typically, the arrival process to a queue is <i>random;</i> that is, the arrivals do not follow any pattern and the packets are spaced apart by random amounts of time. In this more realistic case, the quantity <i>La/R</i> is not usually sufficient to fully characterize the queuing delay statistics. Nonetheless, it is useful in gaining an intuitive understanding of the extent of the queuing delay. In particular, if the traffic intensity is close to zero, then packet arrivals are few and far between and it is unlikely that an arriving packet will find another packet in the queue. Hence, the average queuing delay will be close to zero. On the other hand, when the traffic intensity is close to 1, there will be intervals of time when the arrival rate exceeds the transmission capacity (due to variations in packet arrival rate), and a queue will form during these periods of time; when the arrival rate is less than the transmission capacity, the length of the queue will shrink. Nonetheless, as the traffic intensity approaches 1, the average queue length gets larger and larger. The qualitative dependence of average queuing delay on the traffic intensity is shown in <a class="xref" href="#P7001011952000000000000000000616" data-foobar="1"><span class="label">Figure</span> <span class="number">1.18</span></a>.</p>
<p id="P7001011952000000000000000009828" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009828">One important aspect of <a class="xref" href="#P7001011952000000000000000000616" data-foobar="1"><span class="label">Figure</span> <span class="number">1.18</span></a> is the fact that as the traffic intensity approaches 1, the average queuing delay increases rapidly. A small percentage increase in the intensity will result in a much larger percentage-wise increase in delay. Perhaps you have experienced this phenomenon on the highway. If you regularly drive on a road that is typically congested, the fact that the road is typically</p>
<figure id="P7001011952000000000000000000616" class="figure" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000616">
<img alt="A graph depicting the dependence of average queuing delay on traffic intensity." height="291" width="318" aria-describedby="P700101195200000000000000000061A" id="P7001011952000000000000000009829" data-uri="P700101195200000000000000000550F" src="../images/4055101018.png"></img>
<figcaption id="P700101195200000000000000000982A" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000982A"><header><h1 class="title" id="P700101195200000000000000000982B" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000982B" epub:type="title"><span class="label">Figure </span> <span class="number">1.18</span> Dependence of average queuing delay on traffic intensity</h1></header>

</figcaption>
</figure><div class="longdesc" id="P700101195200000000000000000061A" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000061A" aria-hidden="false"><a class="xref" aria-hidden="false" href="../longalt/la_4055101018.xhtml#la_4055101018"><span class="label">Description</span></a></div>
<p class="continued" id="P700101195200000000000000000982D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000982D"><span class="pagebreak" title="41" id="P700101195200000000000000000061D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000061D" epub:type="pagebreak" role="doc-pagebreak"></span>congested means that its traffic intensity is close to 1. If some event causes an even slightly larger-than-usual amount of traffic, the delays you experience can be huge.</p>
<p id="P700101195200000000000000000982E" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000982E">To really get a good feel for what queuing delays are about, you are encouraged once again to visit the textbook Web site, which provides an interactive Java applet for a queue. If you set the packet arrival rate high enough so that the traffic intensity exceeds 1, you will see the queue slowly build up over time.</p>
<section id="P700101195200000000000000000061F" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000061F" class="level3"><header><h1 class="title" id="P700101195200000000000000000982F" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000982F" epub:type="title">Packet Loss</h1></header>
<p id="P7001011952000000000000000009830" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009830">In our discussions above, we have assumed that the queue is capable of holding an infinite number of packets. In reality a queue preceding a link has finite capacity, although the queuing capacity greatly depends on the router design and cost. Because the queue capacity is finite, packet delays do not really approach infinity as the traffic intensity approaches 1. Instead, a packet can arrive to find a full queue. With no place to store such a packet, a router will <span class="keyword" id="P7001011952000000000000000000622" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000622"><b>drop</b></span> that packet; that is, the packet will be <span class="keyword" id="P7001011952000000000000000000623" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000623"><b>lost</b></span>. This overflow at a queue can again be seen in the Java applet for a queue when the traffic intensity is greater than 1.</p>
<p id="P7001011952000000000000000009831" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009831">From an end-system viewpoint, a packet loss will look like a packet having been transmitted into the network core but never emerging from the network at the destination. The fraction of lost packets increases as the traffic intensity increases. Therefore, performance at a node is often measured not only in terms of delay, but also in terms of the probability of packet loss. As we’ll discuss in the subsequent chapters, a lost packet may be retransmitted on an end-to-end basis in order to ensure that all data are eventually transferred from source to destination.</p>
</section>
</section>
<section id="P7001011952000000000000000000625" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000625" class="level2"><header><h1 class="title" id="P7001011952000000000000000009832" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009832" epub:type="title"><span class="number">1.4.3</span> End-to-End Delay</h1></header>
<p id="P7001011952000000000000000009833" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009833">Our discussion up to this point has focused on the nodal delay, that is, the delay at a single router. Let’s now consider the total delay from source to destination. To get a handle on this concept, suppose there are <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="51" altimg-height="14" altimg="../images/ch01math12.png"><m:mrow><m:mi>N</m:mi><m:mo>−</m:mo><m:mn>1</m:mn></m:mrow></m:math></span> routers between the source host and the destination host. Let’s also suppose for the moment that the network is uncongested (so that queuing delays are negligible), the processing delay at each router and at the source host is <i>d</i><sub>proc</sub>, the transmission rate out of each router and out of the source host is <i>R</i> bits/sec, and the propagation on each link is <i>d</i><sub>prop</sub>. The nodal delays accumulate and give an end-to-end delay,</p>
<div class="equation" id="P7001011952000000000000000000628" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000628"><m:math display="block" alttext="" data-uri="" altimg-width="281" altimg-height="20" altimg="../images/ch01math13.png"><m:mrow><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>end</m:mtext><m:mo>−</m:mo><m:mtext>end</m:mtext></m:mrow></m:msub><m:mo>=</m:mo><m:mi>N</m:mi><m:mrow><m:mo>(</m:mo><m:mrow><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>proc</m:mtext></m:mrow></m:msub><m:mo>+</m:mo><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>trans</m:mtext></m:mrow></m:msub><m:mo>+</m:mo><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>prop</m:mtext></m:mrow></m:msub></m:mrow><m:mo>)</m:mo></m:mrow></m:mrow></m:math><span class="number">(1.2)</span></div>
<p class="continued" id="P7001011952000000000000000009834" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009834">where, once again, <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="97" altimg-height="17" altimg="../images/ch01math14.png"><m:mrow><m:msub><m:mi>d</m:mi><m:mrow><m:mtext>trans</m:mtext></m:mrow></m:msub><m:mo>=</m:mo><m:mi>L</m:mi><m:mo>/</m:mo><m:mi>R</m:mi><m:mo>,</m:mo></m:mrow></m:math></span> where <i>L</i> is the packet size. Note that <a class="xref" href="#P7001011952000000000000000000628" data-foobar="1"><span class="label">Equation</span> <span class="number">1.2</span></a> is a generalization of <a class="xref" href="fileP7001011952000000000000000000542.xhtml#P7001011952000000000000000000563" data-foobar="7"><span class="label">Equation</span> <span class="number">1.1</span></a>, which did not take into account processing and propagation delays. We leave it to you to generalize <a class="xref" href="#P7001011952000000000000000000628" data-foobar="1"><span class="label">Equation</span> <span class="number">1.2</span></a> to the case of ­heterogeneous delays at the nodes and to the presence of an average queuing delay at each node.</p>
<section id="P700101195200000000000000000062A" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000062A" class="level3"><header><h1 class="title" id="P7001011952000000000000000009835" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009835" epub:type="title"><span class="pagebreak" title="42" id="P700101195200000000000000000062C" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000062C" epub:type="pagebreak" role="doc-pagebreak"></span>Traceroute</h1></header>
<aside class="marginalia" id="P700101195200000000000000000062D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000062D">
<p id="P7001011952000000000000000009836" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009836"><img alt="" height="55" width="58" id="P7001011952000000000000000009837" data-uri="P7001011952000000000000000005893" src="../images/VideoNote.png"></img></p>
<p id="P7001011952000000000000000009838" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009838">Using Traceroute to discover network paths and measure network delay</p>
</aside>
<p id="P7001011952000000000000000009839" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009839">To get a hands-on feel for end-to-end delay in a computer network, we can make use of the Traceroute program. Traceroute is a simple program that can run in any Internet host. When the user specifies a destination hostname, the program in the source host sends multiple, special packets toward that destination. As these packets work their way toward the destination, they pass through a series of routers. When a router receives one of these special packets, it sends back to the source a short message that contains the name and address of the router.</p>
<p id="P700101195200000000000000000983A" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000983A">More specifically, suppose there are <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="51" altimg-height="14" altimg="../images/ch01math15.png"><m:mrow><m:mi>N</m:mi><m:mo>−</m:mo><m:mn>1</m:mn></m:mrow></m:math></span> routers between the source and the destination. Then the source will send <i>N</i> special packets into the network, with each packet addressed to the ultimate destination. These <i>N</i> special packets are marked <i>1</i> through <i>N,</i> with the first packet marked <i>1</i> and the last packet marked <i>N</i>. When the <i>n</i>th router receives the <i>n</i>th packet marked <i>n,</i> the router does not forward the packet toward its destination, but instead sends a message back to the source. When the destination host receives the <i>N</i>th packet, it too returns a message back to the source. The source records the time that elapses between when it sends a packet and when it receives the corresponding return message; it also records the name and address of the router (or the destination host) that returns the message. In this manner, the source can reconstruct the route taken by packets flowing from source to destination, and the source can determine the round-trip delays to all the intervening routers. Traceroute actually repeats the experiment just described three times, so the source actually sends <i>3</i> • <i>N</i> packets to the destination. RFC 1393 describes Traceroute in detail.</p>
<p id="P700101195200000000000000000983B" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000983B">Here is an example of the output of the Traceroute program, where the route was being traced from the source host <a class="ulink" href="http://gaia.cs.umass.edu">gaia.cs.umass.edu</a> (at the University of ­Massachusetts) to the host <a class="ulink" href="http://cis.poly.edu">cis.poly.edu</a> (at Polytechnic University in Brooklyn). The output has six columns: the first column is the <i>n</i> value described above, that is, the number of the router along the route; the second column is the name of the router; the third column is the address of the router (of the form xxx.xxx.xxx.xxx); the last three columns are the round-trip delays for three experiments. If the source receives fewer than three messages from any given router (due to packet loss in the network), Traceroute places an asterisk just after the router number and reports fewer than three round-trip times for that router.</p>
<pre id="P700101195200000000000000000983C" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000983C"><code id="P700101195200000000000000000983D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000983D">
1  cs-gw (128.119.240.254) 1.009 ms 0.899 ms 0.993 ms
2  128.119.3.154 (128.119.3.154) 0.931 ms 0.441 ms 0.651 ms
3  -border4-rt-gi-1-3.gw.umass.edu (128.119.2.194) 1.032 ms 0.484 ms 0.451 ms
4  -acr1-ge-2-1-0.Boston.cw.net (208.172.51.129) 10.006 ms 8.150 ms 8.460 ms
5  -agr4-loopback.NewYork.cw.net (206.24.194.104) 12.272 ms 14.344 ms 13.267 ms
6  -acr2-loopback.NewYork.cw.net (206.24.194.62) 13.225 ms 12.292 ms 12.148 ms
7  -pos10-2.core2.NewYork1.Level3.net (209.244.160.133) 12.218 ms 11.823 ms 11.793 ms
8   -gige9-1-52.hsipaccess1.NewYork1.Level3.net (64.159.17.39) 13.081 ms 11.556 ms 13.297 ms
9  -p0-0.polyu.bbnplanet.net (4.25.109.122) 12.716 ms 13.052 ms 12.786 ms
10 cis.poly.edu (128.238.32.126) 14.080 ms 13.035 ms 12.802 ms</code></pre>
<p class="continued" id="P700101195200000000000000000983E" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000983E"><span class="pagebreak" title="43" id="P7001011952000000000000000000637" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000637" epub:type="pagebreak" role="doc-pagebreak"></span>In the trace above there are nine routers between the source and the destination. Most of these routers have a name, and all of them have addresses. For example, the name of Router 3 is <code id="P700101195200000000000000000983F" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000983F">border4-rt-gi-1-3.gw.umass.edu</code> and its address is <code id="P7001011952000000000000000009840" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009840">128.119.2.194</code>. Looking at the data provided for this same router, we see that in the first of the three trials the round-trip delay between the source and the router was 1.03 msec. The round-trip delays for the subsequent two trials were 0.48 and 0.45 msec. These round-trip delays include all of the delays just discussed, including transmission delays, propagation delays, router processing delays, and queuing delays. Because the queuing delay is varying with time, the round-trip delay of packet <i>n</i> sent to a router <i>n</i> can sometimes be longer than the round-trip delay of packet <i>n+</i>1 sent to router <i>n+</i>1. Indeed, we observe this phenomenon in the above example: the delays to Router 6 are larger than the delays to Router 7!</p>
<p id="P7001011952000000000000000009841" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009841">Want to try out Traceroute for yourself? We <i>highly</i> recommended that you visit <a class="ulink" href="http://www.traceroute.org">http:/<wbr></wbr>/<wbr></wbr>www.traceroute.org</a>, which provides a Web interface to an extensive list of sources for route tracing. You choose a source and supply the hostname for any destination. The Traceroute program then does all the work. There are a number of free software programs that provide a graphical interface to Traceroute; one of our favorites is PingPlotter <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003AB5" data-foobar="7">[PingPlotter 2016]</a>.</p>
</section>
<section id="P700101195200000000000000000063B" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000063B" class="level3"><header><h1 class="title" id="P7001011952000000000000000009842" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009842" epub:type="title">End System, Application, and Other Delays</h1></header>
<p id="P7001011952000000000000000009843" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009843">In addition to processing, transmission, and propagation delays, there can be additional significant delays in the end systems. For example, an end system wanting to transmit a packet into a shared medium (e.g., as in a WiFi or cable modem scenario) may <i>purposefully</i> delay its transmission as part of its protocol for sharing the medium with other end systems; we’ll consider such protocols in detail in <a class="xref" href="fileP70010119520000000000000000023B1.xhtml#P70010119520000000000000000023B1" data-foobar="7"><span class="label">Chapter</span> <span class="number">6</span></a>. Another important delay is media packetization delay, which is present in Voice-over-IP (VoIP) applications. In VoIP, the sending side must first fill a packet with encoded digitized speech before passing the packet to the Internet. This time to fill a packet—called the packetization delay—can be significant and can impact the user-perceived quality of a VoIP call. This issue will be further explored in a homework problem at the end of this chapter.</p>
</section>
</section>
<section id="P700101195200000000000000000063E" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000063E" class="level2"><header><h1 class="title" id="P7001011952000000000000000009844" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009844" epub:type="title"><span class="number">1.4.4</span> Throughput in Computer Networks</h1></header>
<p id="P7001011952000000000000000009845" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009845">In addition to delay and packet loss, another critical performance measure in computer networks is end-to-end throughput. To define throughput, consider transferring a large file from Host A to Host B across a computer network. This transfer might be, for example, a large video clip from one peer to another in a P2P file sharing system. The <span class="keyword" id="P7001011952000000000000000000641" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000641"><b>instantaneous throughput</b></span> at any instant of time is the rate (in bits/sec) at which Host B is receiving the file. (Many applications, including many P2P <span class="pagebreak" title="44" id="P7001011952000000000000000000642" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000642" epub:type="pagebreak" role="doc-pagebreak"></span>file sharing ­systems, display the instantaneous throughput during downloads in the user interface—perhaps you have observed this before!) If the file consists of <i>F</i> bits and the transfer takes <i>T</i> seconds for Host B to receive all <i>F</i> bits, then the <span class="keyword" id="P7001011952000000000000000000643" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000643"><b>average throughput</b></span> of the file transfer is <i>F/T</i> bits/sec. For some applications, such as Internet telephony, it is desirable to have a low delay and an instantaneous throughput consistently above some threshold (for example, over 24 kbps for some Internet telephony applications and over 256 kbps for some real-time video applications). For other applications, including those involving file transfers, delay is not critical, but it is desirable to have the highest possible throughput.</p>
<p id="P7001011952000000000000000009846" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009846">To gain further insight into the important concept of throughput, let’s consider a few examples. <a class="xref" href="#P7001011952000000000000000000645" data-foobar="1"><span class="label">Figure</span> <span class="number">1.19(a)</span></a> shows two end systems, a server and a client, connected by two communication links and a router. Consider the throughput for a file transfer from the server to the client. Let <i>R<sub>s</sub></i> denote the rate of the link between the server and the router; and <i>R<sub>c</sub></i> denote the rate of the link between the router and the client. Suppose that the only bits being sent in the entire network are those from the server to the client. We now ask, in this ideal scenario, what is the server-to-client throughput? To answer this question, we may think of bits as <i>fluid</i> and communication links as <i>pipes</i>. Clearly, the server cannot pump bits through its link at a rate faster than <i>R<sub>s</sub></i> bps; and the router cannot forward bits at a rate faster than <i>R<sub>c</sub></i> bps. If <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="70" altimg-height="17" altimg="../images/ch01math16.png"><m:mrow><m:msub><m:mi>R</m:mi><m:mi>s</m:mi></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>R</m:mi><m:mi>c</m:mi></m:msub><m:mo>,</m:mo></m:mrow></m:math></span> then the bits pumped by the server will “flow” right through the router and arrive at the client at a rate of <i>R<sub>s</sub></i> bps, giving a throughput of <i>R<sub>s</sub></i> bps. If, on the other hand, <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="69" altimg-height="17" altimg="../images/ch01math17.png"><m:mrow><m:msub><m:mi>R</m:mi><m:mi>c</m:mi></m:msub><m:mo>&lt;</m:mo><m:msub><m:mi>R</m:mi><m:mi>s</m:mi></m:msub><m:mo>,</m:mo></m:mrow></m:math></span> then the router will not be able to forward bits as quickly as it receives them. In this case, bits will only leave the router at rate <i>R<sub>c</sub></i>, giving an end-to-end throughput of <i>R<sub>c</sub></i>. (Note also that if bits continue to arrive at the router at rate <i>R<sub>s</sub></i>, and continue to leave the router at <i>R<sub>c</sub></i>, the backlog of bits at the router waiting</p>
<figure id="P7001011952000000000000000000645" class="figure" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000645">
<img alt="Two illustrated examples of throughput in computer networks." height="289" width="540" aria-describedby="P7001011952000000000000000000649" id="P7001011952000000000000000009847" data-uri="P7001011952000000000000000005510" src="../images/4055101019.png"></img>
<figcaption id="P7001011952000000000000000009848" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009848"><header><h1 class="title" id="P7001011952000000000000000009849" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009849" epub:type="title"><span class="label">Figure </span> <span class="number">1.19</span> Throughput for a file transfer from server to client</h1></header>

</figcaption>
</figure><div class="longdesc" id="P7001011952000000000000000000649" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000649" aria-hidden="false"><a class="xref" aria-hidden="false" href="../longalt/la_4055101019.xhtml#la_4055101019"><span class="label">Description</span></a></div>
<p class="continued" id="P700101195200000000000000000984C" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000984C"><span class="pagebreak" title="45" id="P700101195200000000000000000064D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000064D" epub:type="pagebreak" role="doc-pagebreak"></span>for transmission to the client will grow and grow—a most undesirable situation!) Thus, for this simple two-link network, the throughput is min{<i>R<sub>c</sub></i>, <i>R<sub>s</sub></i>}, that is, it is the transmission rate of the <span class="keyword" id="P700101195200000000000000000064E" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000064E"><b>bottleneck link</b></span>. Having determined the throughput, we can now approximate the time it takes to transfer a large file of <i>F</i> bits from server to client as <i>F</i>/min{<i>R<sub>s</sub></i>, <i>R<sub>c</sub></i>}. For a specific example, suppose you are downloading an MP3 file of <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="61" altimg-height="13" altimg="../images/ch01math18.png"><m:mrow><m:mi>F</m:mi><m:mo>=</m:mo><m:mn>32</m:mn></m:mrow></m:math></span> million bits, the server has a transmission rate of <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="62" altimg-height="17" altimg="../images/ch01math19.png"><m:mrow><m:msub><m:mi>R</m:mi><m:mi>s</m:mi></m:msub><m:mo>=</m:mo><m:mn>2</m:mn></m:mrow></m:math></span> Mbps, and you have an access link of <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="57" altimg-height="17" altimg="../images/ch01math20.png"><m:mrow><m:msub><m:mi>R</m:mi><m:mi>c</m:mi></m:msub><m:mo>=</m:mo><m:mn>1</m:mn></m:mrow></m:math></span> Mbps. The time needed to transfer the file is then 32 seconds. Of course, these expressions for throughput and transfer time are only approximations, as they do not account for store-and-forward and processing delays as well as protocol issues.</p>
<p id="P700101195200000000000000000984D" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000984D"><a class="xref" href="#P7001011952000000000000000000645" data-foobar="1"><span class="label">Figure</span> <span class="number">1.19(b)</span></a> now shows a network with <i>N</i> links between the server and the client, with the transmission rates of the <i>N</i> links being <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="121" altimg-height="18" altimg="../images/ch01math21.png"><m:mrow><m:msub><m:mi>R</m:mi><m:mn>1</m:mn></m:msub><m:mo>,</m:mo><m:msub><m:mi>R</m:mi><m:mn>2</m:mn></m:msub><m:mo>,</m:mo><m:mo>…</m:mo><m:mo>,</m:mo><m:mtext> </m:mtext><m:msub><m:mi>R</m:mi><m:mi>N</m:mi></m:msub><m:mo>.</m:mo></m:mrow></m:math></span> Applying the same analysis as for the two-link network, we find that the throughput for a file transfer from server to client is min<span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="132" altimg-height="17" altimg="../images/ch01math22.png"><m:mrow><m:mrow><m:mo>{</m:mo><m:mrow><m:msub><m:mi>R</m:mi><m:mn>1</m:mn></m:msub><m:mo>,</m:mo><m:msub><m:mi>R</m:mi><m:mn>2</m:mn></m:msub><m:mo>,</m:mo><m:mo>…</m:mo><m:mo>,</m:mo><m:mtext> </m:mtext><m:msub><m:mi>R</m:mi><m:mi>N</m:mi></m:msub></m:mrow><m:mo>}</m:mo></m:mrow></m:mrow></m:math></span>, which is once again the transmission rate of the bottleneck link along the path between server and client.</p>
<p id="P700101195200000000000000000984E" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000984E">Now consider another example motivated by today’s Internet. <a class="xref" href="#P7001011952000000000000000000653" data-foobar="1"><span class="label">Figure</span> <span class="number">1.20(a)</span></a> shows two end systems, a server and a client, connected to a computer network. Consider the throughput for a file transfer from the server to the client. The server is connected to the network with an access link of rate <i>R<sub>s</sub></i> and the client is connected to the network with an access link of rate <i>R<sub>c</sub></i>. Now suppose that all the links in the core of the communication network have very high transmission rates, much higher than <i>R<sub>s</sub></i> and <i>R<sub>c</sub></i>. Indeed, today, the core of the Internet is over-provisioned with high speed links that experience little congestion. Also suppose that the only bits being sent in the entire network are those from the server to the client. Because the core of the computer network is like a wide pipe in this example, the rate at which bits can flow from source to destination is again the minimum of <i>R<sub>s</sub></i> and <i>R<sub>c</sub></i>, that is, throughput <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="15" altimg-height="5" altimg="../images/ch01math23.png"><m:mo>=</m:mo></m:math></span> min{<i>R<sub>s</sub></i>, <i>R<sub>c</sub></i>}. Therefore, the constraining factor for throughput in today’s Internet is typically the access network.</p>
<p id="P700101195200000000000000000984F" data-uri="M01_KURO4140_07_SE_C01.xhtml#P700101195200000000000000000984F">For a final example, consider <a class="xref" href="#P7001011952000000000000000000653" data-foobar="1"><span class="label">Figure</span> <span class="number">1.20(b)</span></a> in which there are 10 servers and 10 clients connected to the core of the computer network. In this example, there are 10 simultaneous downloads taking place, involving 10 client-server pairs. Suppose that these 10 downloads are the only traffic in the network at the current time. As shown in the figure, there is a link in the core that is traversed by all 10 downloads. Denote <i>R</i> for the transmission rate of this link <i>R</i>. Let’s suppose that all server access links have the same rate <i>R<sub>s</sub></i>, all client access links have the same rate <i>R<sub>c</sub></i>, and the transmission rates of all the links in the core—except the one common link of rate <i>R—</i>are much larger than <i>R<sub>s</sub></i>, <i>R<sub>c</sub></i>, and <i>R</i>. Now we ask, what are the throughputs of the downloads? Clearly, if the rate of the common link, <i>R</i>, is large—say a hundred times larger than both <i>R<sub>s</sub></i> and <i>R<sub>c</sub></i>—then the throughput for each download will once again be min{<i>R<sub>s</sub></i>, <i>R<sub>c</sub></i>}. But what if the rate of the common link is of the same order as <i>R<sub>s</sub></i> and <i>R<sub>c</sub></i>? What will the throughput be in this case? Let’s take a look at a specific example. Suppose <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="57" altimg-height="17" altimg="../images/ch01math24.png"><m:mrow><m:msub><m:mi>R</m:mi><m:mi>s</m:mi></m:msub><m:mo>=</m:mo><m:mn>2</m:mn></m:mrow></m:math></span> Mbps, <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="56" altimg-height="17" altimg="../images/ch01math25.png"><m:mrow><m:msub><m:mi>R</m:mi><m:mi>c</m:mi></m:msub><m:mo>=</m:mo><m:mn>1</m:mn></m:mrow></m:math></span> Mbps, <span class="inlineequation"><m:math display="inline" alttext="" data-uri="" altimg-width="52" altimg-height="13" altimg="../images/ch01math26.png"><m:mrow><m:mi>R</m:mi><m:mo>=</m:mo><m:mn>5</m:mn></m:mrow></m:math></span> Mbps, and the<span class="pagebreak" title="46" id="P7001011952000000000000000000652" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000652" epub:type="pagebreak" role="doc-pagebreak"></span></p>
<figure id="P7001011952000000000000000000653" class="figure" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000653">
<img alt="An illustration of an end-to-end throughput in which a client downloads a file from a server." height="461" width="138" id="P7001011952000000000000000009850" data-uri="P7001011952000000000000000005511" aria-describedby="P7001011952000000000000000000658" src="../images/4055101020.png"></img>
<img alt="An illustration of an end-to-end throughput in which ten clients are downloading from ten servers." height="461" width="288" id="P7001011952000000000000000009851" data-uri="P7001011952000000000000000005512" aria-describedby="P7001011952000000000000000000658" src="../images/4055101020a.png"></img>
<figcaption id="P7001011952000000000000000009852" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009852"><header><h1 class="title" id="P7001011952000000000000000009853" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009853" epub:type="title"><span class="label">Figure </span> <span class="number">1.20</span> End-to-end throughput: (a) Client downloads a file from ­server; (b) 10 clients ­downloading with 10 servers</h1></header>

</figcaption>
</figure><div class="longdesc" id="P7001011952000000000000000000658" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000000658" aria-hidden="false"><a class="xref" aria-hidden="false" href="../longalt/la_4055101020.xhtml#la_4055101020"><span class="label">Description</span></a></div>
<p class="continued" id="P7001011952000000000000000009856" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009856">common link divides its transmission rate equally among the 10 downloads. Then the bottleneck for each download is no longer in the access network, but is now instead the shared link in the core, which only provides each download with 500 kbps of throughput. Thus the end-to-end throughput for each download is now reduced to 500 kbps.</p>
<p id="P7001011952000000000000000009857" data-uri="M01_KURO4140_07_SE_C01.xhtml#P7001011952000000000000000009857">The examples in <a class="xref" href="#P7001011952000000000000000000645" data-foobar="1"><span class="label">Figure</span> <span class="number">1.19</span></a> and <a class="xref" href="#P7001011952000000000000000000653" data-foobar="1"><span class="label">Figure</span> <span class="number">1.20(a)</span></a> show that throughput depends on the transmission rates of the links over which the data flows. We saw that when there is no other intervening traffic, the throughput can simply be approximated as the minimum transmission rate along the path between source and destination. The example in <a class="xref" href="#P7001011952000000000000000000653" data-foobar="1"><span class="label">Figure</span> <span class="number">1.20(b)</span></a> shows that more generally the throughput depends not only on the transmission rates of the links along the path, but also on the intervening traffic. In particular, a link with a high transmission rate may nonetheless be the bottleneck link for a file transfer if many other data flows are also passing through that link. We will examine throughput in computer networks more closely in the homework problems and in the subsequent chapters.</p>
</section>
</section></body></html>