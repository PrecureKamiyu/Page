<?xml version='1.0' encoding='utf-8'?>
<html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/">
  <head>
    <meta name="dcterms.conformsTo" content="PXE Basic 1.0"/>
    <meta name="generator" content="PXE Tools version 1.39.52"/>
    <!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.52, partial=false-->
    <title>10.2 Files</title>
    <link rel="alternate stylesheet" type="text/css" title="night" href="../css/theme/night.css"/>
    <link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/theme/sepia.css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body epub:type="bodymatter" class="calibre pcalibre pcalibre1">
<section id="P70004970270000000000000000078AD" class="pcalibre halftitlepage pcalibre1"><header class="calibre1 pcalibre pcalibre1"><h1 class="pcalibre title pcalibre1" id="P7000497027000000000000000046374" data-uri="chapter10.xhtml#P7000497027000000000000000046374" epub:type="title"><span class="pcalibre label pcalibre1">10.2 </span>Files</h1></header>
<p id="P7000497027000000000000000046375" data-uri="chapter10.xhtml#P7000497027000000000000000046375" class="pcalibre1 pcalibre calibre2">Each Linux file has a <i class="calibre5 pcalibre pcalibre1">type</i> that indicates its role in the system:</p>
<ul id="P7000497027000000000000000046376" data-uri="chapter10.xhtml#P7000497027000000000000000046376" class="calibre28 pcalibre pcalibre1">
<li id="P7000497027000000000000000046377" data-uri="chapter10.xhtml#P7000497027000000000000000046377" class="calibre12 pcalibre pcalibre1"><p id="P7000497027000000000000000046378" data-uri="chapter10.xhtml#P7000497027000000000000000046378" class="pcalibre calibre3 pcalibre1">A <i class="calibre5 pcalibre pcalibre1">regular file</i> contains arbitrary data. Application programs often distinguish between <i class="calibre5 pcalibre pcalibre1">text files</i>, which are regular files that contain only ASCII or Unicode characters, and <i class="calibre5 pcalibre pcalibre1">binary files</i>, which are everything else. To the kernel there is no difference between text and binary files.</p>
<p id="P7000497027000000000000000046379" data-uri="chapter10.xhtml#P7000497027000000000000000046379" class="pcalibre1 calibre32 pcalibre">A Linux text file consists of a sequence of <i class="calibre5 pcalibre pcalibre1">text lines</i>, where each line is a sequence of characters terminated by a <i class="calibre5 pcalibre pcalibre1">newline</i> character (`\n'). The newline character is the same as the ASCII line feed character (LF) and has a numeric value of <code id="P700049702700000000000000004637A" data-uri="chapter10.xhtml#P700049702700000000000000004637A" class="pcalibre1 calibre8 pcalibre">0x0a</code>.</p></li>
<li id="P700049702700000000000000004637B" data-uri="chapter10.xhtml#P700049702700000000000000004637B" class="calibre12 pcalibre pcalibre1"><p id="P700049702700000000000000004637C" data-uri="chapter10.xhtml#P700049702700000000000000004637C" class="pcalibre calibre3 pcalibre1">A <i class="calibre5 pcalibre pcalibre1">directory</i> is a file consisting of an array of <i class="calibre5 pcalibre pcalibre1">links</i>, where each link maps a <i class="calibre5 pcalibre pcalibre1">filename</i> to a file, which may be another directory. Each directory contains at</p>
<aside class="sidebar pcalibre5 pcalibre" id="P70004970270000000000000000078B7" data-uri="chapter10.xhtml#P70004970270000000000000000078B7"><header class="pcalibre halftitlepage pcalibre1"><h1 class="pcalibre1 title2 pcalibre" id="P700049702700000000000000004637D" data-uri="chapter10.xhtml#P700049702700000000000000004637D" epub:type="title"><span class="pcalibre pagebreak pcalibre1" id="P70004970270000000000000000078B9" title="892" data-uri="chapter10.xhtml#P70004970270000000000000000078B9" epub:type="pagebreak"></span><span class="pcalibre label1 pcalibre1">Aside </span>End of line (EOL) indicators</h1></header>
<p id="P700049702700000000000000004637E" data-uri="chapter10.xhtml#P700049702700000000000000004637E" class="pcalibre calibre3 pcalibre1">One of the clumsy aspects of working with text files is that different systems use different characters to mark the end of a line. Linux and Mac OS X use `\n' (<code id="P700049702700000000000000004637F" data-uri="chapter10.xhtml#P700049702700000000000000004637F" class="pcalibre1 calibre8 pcalibre">0xa</code>), which is the ASCII line feed (LF) character. However, MS Windows and Internet protocols such as HTTP use the sequence `\r\n' (<code id="P7000497027000000000000000046380" data-uri="chapter10.xhtml#P7000497027000000000000000046380" class="pcalibre1 calibre8 pcalibre">0xd 0xa</code>), which is the ASCII carriage return (CR) character followed by a line feed (LF). If you create a file <code id="P7000497027000000000000000046381" data-uri="chapter10.xhtml#P7000497027000000000000000046381" class="pcalibre1 calibre8 pcalibre">foo.txt</code> in Windows and then view it in a Linux text editor, you'll see an annoying <code id="P7000497027000000000000000046382" data-uri="chapter10.xhtml#P7000497027000000000000000046382" class="pcalibre1 calibre8 pcalibre">‚ÅÅM</code> at the end of each line, which is how Linux tools display the CR character. You can remove these unwanted CR characters from <code id="P7000497027000000000000000046383" data-uri="chapter10.xhtml#P7000497027000000000000000046383" class="pcalibre1 calibre8 pcalibre">foo.txt</code> in place by running the following command:</p>
<pre id="P7000497027000000000000000046384" data-uri="chapter10.xhtml#P7000497027000000000000000046384" class="calibre9 pcalibre pcalibre1"><code id="P7000497027000000000000000046385" data-uri="chapter10.xhtml#P7000497027000000000000000046385" class="calibre10 pcalibre pcalibre1">linux&gt; <i class="calibre5 pcalibre pcalibre1">perl -pi -e "s/\r\n/\n/g" foo.txt</i></code></pre>
</aside>
<p class="pcalibre calibre3 pcalibre1" id="P7000497027000000000000000046386" data-uri="chapter10.xhtml#P7000497027000000000000000046386">least two entries: . (dot) is a link to the directory itself, and <code id="P7000497027000000000000000046387" data-uri="chapter10.xhtml#P7000497027000000000000000046387" class="pcalibre1 calibre8 pcalibre">..</code> (dot-dot) is a link to the <i class="calibre5 pcalibre pcalibre1">parent directory</i> in the directory hierarchy (see below). You can create a directory with the <code id="P7000497027000000000000000046388" data-uri="chapter10.xhtml#P7000497027000000000000000046388" class="pcalibre1 calibre8 pcalibre">mkdir</code> command, view its contents with <code id="P7000497027000000000000000046389" data-uri="chapter10.xhtml#P7000497027000000000000000046389" class="pcalibre1 calibre8 pcalibre">ls</code>, and delete it with <code id="P700049702700000000000000004638A" data-uri="chapter10.xhtml#P700049702700000000000000004638A" class="pcalibre1 calibre8 pcalibre">rmdir</code>.</p></li>
<li id="P700049702700000000000000004638B" data-uri="chapter10.xhtml#P700049702700000000000000004638B" class="calibre12 pcalibre pcalibre1"><p id="P700049702700000000000000004638C" data-uri="chapter10.xhtml#P700049702700000000000000004638C" class="pcalibre calibre3 pcalibre1">A <i class="calibre5 pcalibre pcalibre1">socket</i> is a file that is used to communicate with another process across a network (<a class="pcalibre xref1 pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007CC1.xhtml#P7000497027000000000000000007CC1"><span class="pcalibre label pcalibre1">Section </span><span class="pcalibre label pcalibre1">11.4</span></a>).</p></li>
</ul>
<p class="pcalibre1 pcalibre calibre2" id="P700049702700000000000000004638D" data-uri="chapter10.xhtml#P700049702700000000000000004638D">Other file types include <i class="calibre5 pcalibre pcalibre1">named pipes</i>, <i class="calibre5 pcalibre pcalibre1">symbolic links</i>, and <i class="calibre5 pcalibre pcalibre1">character</i> and <i class="calibre5 pcalibre pcalibre1">block devices</i>, which are beyond our scope.</p>
<p id="P700049702700000000000000004638E" data-uri="chapter10.xhtml#P700049702700000000000000004638E" class="pcalibre1 pcalibre calibre2">The Linux kernel organizes all files in a single <i class="calibre5 pcalibre pcalibre1">directory hierarchy</i> anchored by the <i class="calibre5 pcalibre pcalibre1">root directory</i> named / (slash). Each file in the system is a direct or indirect descendant of the root directory. <a class="pcalibre xref1 pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="#P70004970270000000000000000078CD"><span class="pcalibre label pcalibre1">Figure </span><span class="pcalibre label pcalibre1">10.1</span></a> shows a portion of the directory hierarchy on our Linux system.</p>
<p id="P700049702700000000000000004638F" data-uri="chapter10.xhtml#P700049702700000000000000004638F" class="pcalibre1 pcalibre calibre2">As part of its context, each process has a <i class="calibre5 pcalibre pcalibre1">current working directory</i> that identifies its current location in the directory hierarchy. You can change the shell's current working directory with the <code id="P7000497027000000000000000046390" data-uri="chapter10.xhtml#P7000497027000000000000000046390" class="pcalibre1 calibre8 pcalibre">cd</code> command.</p>
<figure class="pcalibre5 figure pcalibre" id="P70004970270000000000000000078CD" data-uri="chapter10.xhtml#P70004970270000000000000000078CD">
<img alt="A diagram illustrates a portion of the Linux directory hierarchy." id="P7000497027000000000000000046391" data-uri="P700049702700000000000000000B7B3" src="../images/p892-1.png" class="pcalibre1 calibre309 pcalibre"/>
<figcaption id="P7000497027000000000000000046392" data-uri="chapter10.xhtml#P7000497027000000000000000046392" class="calibre11 pcalibre pcalibre1"><header class="pcalibre halftitlepage pcalibre1"><h1 class="title3 pcalibre pcalibre1" id="P7000497027000000000000000046393" data-uri="chapter10.xhtml#P7000497027000000000000000046393" epub:type="title"><span class="pcalibre1 label2 pcalibre">Figure </span><span class="number pcalibre pcalibre1">10.1 </span>Portion of the Linux directory hierarchy.</h1></header>
<div class="edition pcalibre pcalibre1" id="P7000497027000000000000000046394" data-uri="chapter10.xhtml#P7000497027000000000000000046394"><p id="P7000497027000000000000000046395" data-uri="chapter10.xhtml#P7000497027000000000000000046395" class="pcalibre calibre3 pcalibre1">A trailing slash denotes a directory.</p></div>
<details class="longdesc pcalibre pcalibre1" id="P70004970270000000000000000266F4" data-uri="chapter10.xhtml#P70004970270000000000000000266F4">
<summary class="pcalibre6 pcalibre1 pcalibre calibre30"><span class="number pcalibre pcalibre1">Description</span></summary>
<p id="P7000497027000000000000000046396" data-uri="chapter10.xhtml#P7000497027000000000000000046396" class="pcalibre1 pcalibre calibre2">A diagram branches as per the following list.</p>
<ul id="P7000497027000000000000000046397" data-uri="chapter10.xhtml#P7000497027000000000000000046397" class="pcalibre calibre31 pcalibre1">
<li id="P7000497027000000000000000046398" data-uri="chapter10.xhtml#P7000497027000000000000000046398" class="calibre12 pcalibre pcalibre1"><p id="P7000497027000000000000000046399" data-uri="chapter10.xhtml#P7000497027000000000000000046399" class="pcalibre calibre3 pcalibre1">/</p>
<ul id="P700049702700000000000000004639A" data-uri="chapter10.xhtml#P700049702700000000000000004639A" class="pcalibre calibre39 pcalibre1">
<li id="P700049702700000000000000004639B" data-uri="chapter10.xhtml#P700049702700000000000000004639B" class="calibre12 pcalibre pcalibre1"><p id="P700049702700000000000000004639C" data-uri="chapter10.xhtml#P700049702700000000000000004639C" class="pcalibre calibre3 pcalibre1">bin/</p>
<ul id="P700049702700000000000000004639D" data-uri="chapter10.xhtml#P700049702700000000000000004639D" class="calibre112 pcalibre pcalibre1">
<li id="P700049702700000000000000004639E" data-uri="chapter10.xhtml#P700049702700000000000000004639E" class="calibre12 pcalibre pcalibre1"><p id="P700049702700000000000000004639F" data-uri="chapter10.xhtml#P700049702700000000000000004639F" class="pcalibre calibre3 pcalibre1">bash</p></li>
</ul></li>
<li id="P70004970270000000000000000463A0" data-uri="chapter10.xhtml#P70004970270000000000000000463A0" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463A1" data-uri="chapter10.xhtml#P70004970270000000000000000463A1" class="pcalibre calibre3 pcalibre1">dev/</p>
<ul id="P70004970270000000000000000463A2" data-uri="chapter10.xhtml#P70004970270000000000000000463A2" class="calibre112 pcalibre pcalibre1">
<li id="P70004970270000000000000000463A3" data-uri="chapter10.xhtml#P70004970270000000000000000463A3" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463A4" data-uri="chapter10.xhtml#P70004970270000000000000000463A4" class="pcalibre calibre3 pcalibre1">ttyl</p></li>
</ul></li>
<li id="P70004970270000000000000000463A5" data-uri="chapter10.xhtml#P70004970270000000000000000463A5" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463A6" data-uri="chapter10.xhtml#P70004970270000000000000000463A6" class="pcalibre calibre3 pcalibre1">etc/</p>
<ul id="P70004970270000000000000000463A7" data-uri="chapter10.xhtml#P70004970270000000000000000463A7" class="calibre112 pcalibre pcalibre1">
<li id="P70004970270000000000000000463A8" data-uri="chapter10.xhtml#P70004970270000000000000000463A8" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463A9" data-uri="chapter10.xhtml#P70004970270000000000000000463A9" class="pcalibre calibre3 pcalibre1">group</p></li>
<li id="P70004970270000000000000000463AA" data-uri="chapter10.xhtml#P70004970270000000000000000463AA" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463AB" data-uri="chapter10.xhtml#P70004970270000000000000000463AB" class="pcalibre calibre3 pcalibre1">passwd</p></li>
</ul></li>
<li id="P70004970270000000000000000463AC" data-uri="chapter10.xhtml#P70004970270000000000000000463AC" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463AD" data-uri="chapter10.xhtml#P70004970270000000000000000463AD" class="pcalibre calibre3 pcalibre1">home/</p>
<ul id="P70004970270000000000000000463AE" data-uri="chapter10.xhtml#P70004970270000000000000000463AE" class="calibre112 pcalibre pcalibre1">
<li id="P70004970270000000000000000463AF" data-uri="chapter10.xhtml#P70004970270000000000000000463AF" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463B0" data-uri="chapter10.xhtml#P70004970270000000000000000463B0" class="pcalibre calibre3 pcalibre1">droh/</p>
<ul id="P70004970270000000000000000463B1" data-uri="chapter10.xhtml#P70004970270000000000000000463B1" class="pcalibre calibre31 pcalibre1">
<li id="P70004970270000000000000000463B2" data-uri="chapter10.xhtml#P70004970270000000000000000463B2" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463B3" data-uri="chapter10.xhtml#P70004970270000000000000000463B3" class="pcalibre calibre3 pcalibre1">hello.c</p></li>
</ul></li>
<li id="P70004970270000000000000000463B4" data-uri="chapter10.xhtml#P70004970270000000000000000463B4" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463B5" data-uri="chapter10.xhtml#P70004970270000000000000000463B5" class="pcalibre calibre3 pcalibre1">bryant</p></li>
</ul></li>
<li id="P70004970270000000000000000463B6" data-uri="chapter10.xhtml#P70004970270000000000000000463B6" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463B7" data-uri="chapter10.xhtml#P70004970270000000000000000463B7" class="pcalibre calibre3 pcalibre1">usr/</p>
<ul id="P70004970270000000000000000463B8" data-uri="chapter10.xhtml#P70004970270000000000000000463B8" class="calibre112 pcalibre pcalibre1">
<li id="P70004970270000000000000000463B9" data-uri="chapter10.xhtml#P70004970270000000000000000463B9" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463BA" data-uri="chapter10.xhtml#P70004970270000000000000000463BA" class="pcalibre calibre3 pcalibre1">include/</p>
<ul id="P70004970270000000000000000463BB" data-uri="chapter10.xhtml#P70004970270000000000000000463BB" class="pcalibre calibre31 pcalibre1">
<li id="P70004970270000000000000000463BC" data-uri="chapter10.xhtml#P70004970270000000000000000463BC" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463BD" data-uri="chapter10.xhtml#P70004970270000000000000000463BD" class="pcalibre calibre3 pcalibre1">stdio.h</p></li>
<li id="P70004970270000000000000000463BE" data-uri="chapter10.xhtml#P70004970270000000000000000463BE" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463BF" data-uri="chapter10.xhtml#P70004970270000000000000000463BF" class="pcalibre calibre3 pcalibre1">sys/</p>
<ul id="P70004970270000000000000000463C0" data-uri="chapter10.xhtml#P70004970270000000000000000463C0" class="pcalibre calibre31 pcalibre1">
<li id="P70004970270000000000000000463C1" data-uri="chapter10.xhtml#P70004970270000000000000000463C1" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463C2" data-uri="chapter10.xhtml#P70004970270000000000000000463C2" class="pcalibre calibre3 pcalibre1">unistd.h</p></li>
</ul></li>
</ul></li>
<li id="P70004970270000000000000000463C3" data-uri="chapter10.xhtml#P70004970270000000000000000463C3" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463C4" data-uri="chapter10.xhtml#P70004970270000000000000000463C4" class="pcalibre calibre3 pcalibre1">bin/</p>
<ul id="P70004970270000000000000000463C5" data-uri="chapter10.xhtml#P70004970270000000000000000463C5" class="pcalibre calibre31 pcalibre1">
<li id="P70004970270000000000000000463C6" data-uri="chapter10.xhtml#P70004970270000000000000000463C6" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463C7" data-uri="chapter10.xhtml#P70004970270000000000000000463C7" class="pcalibre calibre3 pcalibre1">vim</p></li>
</ul></li>
</ul>
</li>
</ul>
</li></ul>
</details>
</figcaption>
</figure>
<p id="P70004970270000000000000000463C8" data-uri="chapter10.xhtml#P70004970270000000000000000463C8" class="pcalibre1 pcalibre calibre2"><span class="pcalibre pagebreak pcalibre1" id="P70004970270000000000000000078D4" title="893" data-uri="chapter10.xhtml#P70004970270000000000000000078D4" epub:type="pagebreak"></span>Locations in the directory hierarchy are specified by <i class="calibre5 pcalibre pcalibre1">pathnames</i>. A pathname is a string consisting of an optional slash followed by a sequence of filenames separated by slashes. Pathnames have two forms:</p>
<ul id="P70004970270000000000000000463C9" data-uri="chapter10.xhtml#P70004970270000000000000000463C9" class="calibre28 pcalibre pcalibre1">
<li id="P70004970270000000000000000463CA" data-uri="chapter10.xhtml#P70004970270000000000000000463CA" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463CB" data-uri="chapter10.xhtml#P70004970270000000000000000463CB" class="pcalibre calibre3 pcalibre1">An <i class="calibre5 pcalibre pcalibre1">absolute pathname</i> starts with a slash and denotes a path from the root node. For example, in <a class="pcalibre xref1 pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="#P70004970270000000000000000078CD"><span class="pcalibre label pcalibre1">Figure </span><span class="pcalibre label pcalibre1">10.1</span></a>, the absolute pathname for <code id="P70004970270000000000000000463CC" data-uri="chapter10.xhtml#P70004970270000000000000000463CC" class="pcalibre1 calibre8 pcalibre">hello.c</code> is <code id="P70004970270000000000000000463CD" data-uri="chapter10.xhtml#P70004970270000000000000000463CD" class="pcalibre1 calibre8 pcalibre">/home/droh/hello.c</code>.</p></li>
<li id="P70004970270000000000000000463CE" data-uri="chapter10.xhtml#P70004970270000000000000000463CE" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000463CF" data-uri="chapter10.xhtml#P70004970270000000000000000463CF" class="pcalibre calibre3 pcalibre1">A <i class="calibre5 pcalibre pcalibre1">relative pathname</i> starts with a filename and denotes a path from the current working directory. For example, in <a class="pcalibre xref1 pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="#P70004970270000000000000000078CD"><span class="pcalibre label pcalibre1">Figure </span><span class="pcalibre label pcalibre1">10.1</span></a>, if <code id="P70004970270000000000000000463D0" data-uri="chapter10.xhtml#P70004970270000000000000000463D0" class="pcalibre1 calibre8 pcalibre">/home/droh</code> is the current working directory, then the relative pathname for <code id="P70004970270000000000000000463D1" data-uri="chapter10.xhtml#P70004970270000000000000000463D1" class="pcalibre1 calibre8 pcalibre">hello.c</code> is <code id="P70004970270000000000000000463D2" data-uri="chapter10.xhtml#P70004970270000000000000000463D2" class="pcalibre1 calibre8 pcalibre">./hello.c.</code> On the other hand, if <code id="P70004970270000000000000000463D3" data-uri="chapter10.xhtml#P70004970270000000000000000463D3" class="pcalibre1 calibre8 pcalibre">/home/bryant</code> is the current working directory, then the relative pathname is <code id="P70004970270000000000000000463D4" data-uri="chapter10.xhtml#P70004970270000000000000000463D4" class="pcalibre1 calibre8 pcalibre">../home/droh/hello.c.</code></p></li>
</ul>
</section></body></html>
