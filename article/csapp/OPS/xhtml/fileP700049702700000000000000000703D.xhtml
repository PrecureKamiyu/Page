<?xml version='1.0' encoding='utf-8'?>
<html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/">
  <head>
    <meta name="dcterms.conformsTo" content="PXE Basic 1.0"/>
    <meta name="generator" content="PXE Tools version 1.39.52"/>
    <!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.52, partial=false-->
    <title>9.2 Address Spaces</title>
    <link rel="alternate stylesheet" type="text/css" title="night" href="../css/theme/night.css"/>
    <link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/theme/sepia.css"/>
    <script src="js/format_lg_obj.js"></script>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body epub:type="bodymatter" class="calibre pcalibre pcalibre1">
<section id="P700049702700000000000000000703D" class="pcalibre halftitlepage pcalibre1"><header class="calibre1 pcalibre pcalibre1"><h1 class="pcalibre title pcalibre1" id="P70004970270000000000000000457FA" data-uri="chapter09.xhtml#P70004970270000000000000000457FA" epub:type="title"><span class="pcalibre label pcalibre1">9.2 </span>Address Spaces</h1></header>
<p id="P70004970270000000000000000457FB" data-uri="chapter09.xhtml#P70004970270000000000000000457FB" class="pcalibre1 pcalibre calibre2">An <i class="calibre5 pcalibre pcalibre1">address space</i> is an ordered set of nonnegative integer addresses</p>
<div class="informalequation pcalibre pcalibre1" id="P70004970270000000000000000457FC" data-uri="chapter09.xhtml#P70004970270000000000000000457FC"><m:math display="block" alttext="" data-uri="" altimg-width="105" altimg-height="19" altimg="../images/ch09-eq1.png"><m:mrow><m:mrow><m:mo>{</m:mo> <m:mrow><m:mn>0</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mn>1</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mn>2</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mo>…</m:mo></m:mrow> <m:mo>}</m:mo></m:mrow></m:mrow></m:math></div>
<p class="pcalibre1 pcalibre calibre2" id="P70004970270000000000000000457FD" data-uri="chapter09.xhtml#P70004970270000000000000000457FD">If the integers in the address space are consecutive, then we say that it is a <i class="calibre5 pcalibre pcalibre1">linear address space.</i> To simplify our discussion, we will always assume linear address spaces. In a system with virtual memory, the CPU generates virtual addresses from an address space of <var class="calibre5 pcalibre pcalibre1">N</var> = 2<i class="calibre5 pcalibre pcalibre1"><sup class="calibre51 pcalibre pcalibre1">n</sup></i> addresses called the <i class="calibre5 pcalibre pcalibre1">virtual address space:</i></p>
<div class="informalequation pcalibre pcalibre1" id="P70004970270000000000000000457FE" data-uri="chapter09.xhtml#P70004970270000000000000000457FE"><m:math display="block" alttext="" data-uri="" altimg-width="173" altimg-height="19" altimg="../images/ch09-eq2.png"><m:mrow><m:mrow><m:mo>{</m:mo> <m:mrow><m:mn>0</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mn>1</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mn>2</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mo>…</m:mo><m:mo>,</m:mo><m:mtext> </m:mtext><m:mi>N</m:mi><m:mo>−</m:mo><m:mn>1</m:mn></m:mrow> <m:mo>}</m:mo></m:mrow></m:mrow></m:math></div>
<p id="P70004970270000000000000000457FF" data-uri="chapter09.xhtml#P70004970270000000000000000457FF" class="pcalibre1 pcalibre calibre2">The size of an address space is characterized by the number of bits that are needed to represent the largest address. For example, a virtual address space with <var class="calibre5 pcalibre pcalibre1">N</var> = 2<i class="calibre5 pcalibre pcalibre1"><sup class="calibre51 pcalibre pcalibre1">n</sup></i> addresses is called an <var class="calibre5 pcalibre pcalibre1">n</var>-bit address space. Modern systems typically support either 32-bit or 64-bit virtual address spaces.</p>
<p id="P7000497027000000000000000045800" data-uri="chapter09.xhtml#P7000497027000000000000000045800" class="pcalibre1 pcalibre calibre2">A system also has <i class="calibre5 pcalibre pcalibre1">a physical address space</i> that corresponds to the <var class="calibre5 pcalibre pcalibre1">M</var> bytes of physical memory in the system:</p>
<div class="informalequation pcalibre pcalibre1" id="P7000497027000000000000000045801" data-uri="chapter09.xhtml#P7000497027000000000000000045801"><m:math display="block" alttext="" data-uri="" altimg-width="176" altimg-height="19" altimg="../images/ch09-eq3.png"><m:mrow><m:mrow><m:mo>{</m:mo> <m:mrow><m:mn>0</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mn>1</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mn>2</m:mn><m:mo>,</m:mo><m:mtext> </m:mtext><m:mo>…</m:mo><m:mo>,</m:mo><m:mtext> </m:mtext><m:mi>M</m:mi><m:mo>−</m:mo><m:mn>1</m:mn></m:mrow> <m:mo>}</m:mo></m:mrow></m:mrow></m:math></div>
<p class="pcalibre1 pcalibre calibre2" id="P7000497027000000000000000045802" data-uri="chapter09.xhtml#P7000497027000000000000000045802"><var class="calibre5 pcalibre pcalibre1">M</var> is not required to be a power of 2, but to simplify the discussion, we will assume that <var class="calibre5 pcalibre pcalibre1">M</var> = 2<sup class="calibre51 pcalibre pcalibre1"><var class="calibre5 pcalibre pcalibre1">m</var></sup>.</p>
<p id="P7000497027000000000000000045803" data-uri="chapter09.xhtml#P7000497027000000000000000045803" class="pcalibre1 pcalibre calibre2"><span class="pcalibre pagebreak pcalibre1" id="P7000497027000000000000000007048" title="805" data-uri="chapter09.xhtml#P7000497027000000000000000007048" epub:type="pagebreak"></span>The concept of an address space is important because it makes a clean distinction between data objects (bytes) and their attributes (addresses). Once we recognize this distinction, then we can generalize and allow each data object to have multiple independent addresses, each chosen from a different address space. This is the basic idea of virtual memory. Each byte of main memory has a virtual address chosen from the virtual address space, and a physical address chosen from the physical address space.</p>
<section id="P7000497027000000000000000007049" data-uri="chapter09.xhtml#P7000497027000000000000000007049" epub:type="practice" class="pcalibre halftitlepage pcalibre1"><header class="calibre1 pcalibre pcalibre1"><h1 class="pcalibre title1 pcalibre1" id="P7000497027000000000000000045804" data-uri="chapter09.xhtml#P7000497027000000000000000045804" epub:type="title"><span class="pcalibre label pcalibre1">Practice Problem </span><span class="pcalibre label pcalibre1">9.1 </span>(solution page <a class="ulink pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" epub:type="pagebreak" href="fileP7000497027000000000000000007663.xhtml#P700049702700000000000000000774C">880</a>)</h1></header>
<ol class="practicelist pcalibre pcalibre1" id="P7000497027000000000000000045805" data-uri="chapter09.xhtml#P7000497027000000000000000045805">
<li class="general-problem pcalibre pcalibre1" id="P7000497027000000000000000045806" data-uri="chapter09.xhtml#P7000497027000000000000000045806">
<div class="edition pcalibre pcalibre1" id="P7000497027000000000000000045807" data-uri="chapter09.xhtml#P7000497027000000000000000045807"><p id="P7000497027000000000000000045808" data-uri="chapter09.xhtml#P7000497027000000000000000045808" class="pcalibre calibre3 pcalibre1">Complete the following table, filling in the missing entries and replacing each question mark with the appropriate integer. Use the following units: K = 2<sup class="calibre51 pcalibre pcalibre1">10</sup> (kilo), M = 2<sup class="calibre51 pcalibre pcalibre1">20</sup> (mega), G = 2<sup class="calibre51 pcalibre pcalibre1">30</sup> (giga), T = 2<sup class="calibre51 pcalibre pcalibre1">40</sup> (tera), P = 2<sup class="calibre51 pcalibre pcalibre1">50</sup> (peta), or E = 2<sup class="calibre51 pcalibre pcalibre1">60</sup> (exa).</p>
<table id="P7000497027000000000000000045809" data-uri="chapter09.xhtml#P7000497027000000000000000045809" class="pcalibre largetable pcalibre1">
<thead class="pcalibre1 pcalibre calibre16"><tr class="pcalibre calibre17 pcalibre1">
<th id="P700049702700000000000000004580A" data-uri="chapter09.xhtml#P700049702700000000000000004580A" class="calibre18 pcalibre pcalibre1">Number of virtual address bits <i class="calibre5 pcalibre pcalibre1">(n)</i></th>
<th id="P700049702700000000000000004580B" data-uri="chapter09.xhtml#P700049702700000000000000004580B" class="calibre18 pcalibre pcalibre1">Number of virtual addresses <i class="calibre5 pcalibre pcalibre1">(N)</i></th>
<th id="P700049702700000000000000004580C" data-uri="chapter09.xhtml#P700049702700000000000000004580C" class="calibre18 pcalibre pcalibre1">Largest possible virtual address</th>
</tr>
</thead>
<tbody class="calibre19 pcalibre pcalibre1">
<tr class="pcalibre calibre17 pcalibre1">
<td id="P700049702700000000000000004580D" data-uri="chapter09.xhtml#P700049702700000000000000004580D" class="calibre20 pcalibre pcalibre1">8</td>
<td id="P700049702700000000000000004580E" data-uri="chapter09.xhtml#P700049702700000000000000004580E" class="calibre20 pcalibre pcalibre1">_____</td>
<td id="P700049702700000000000000004580F" data-uri="chapter09.xhtml#P700049702700000000000000004580F" class="calibre20 pcalibre pcalibre1">_____</td>
</tr>
<tr class="pcalibre calibre17 pcalibre1">
<td id="P7000497027000000000000000045810" data-uri="chapter09.xhtml#P7000497027000000000000000045810" class="calibre20 pcalibre pcalibre1">_____</td>
<td id="P7000497027000000000000000045811" data-uri="chapter09.xhtml#P7000497027000000000000000045811" class="calibre20 pcalibre pcalibre1">2<sup class="pcalibre1 calibre21 pcalibre">?</sup> = 64 K</td>
<td id="P7000497027000000000000000045812" data-uri="chapter09.xhtml#P7000497027000000000000000045812" class="calibre20 pcalibre pcalibre1">_____</td>
</tr>
<tr class="pcalibre calibre17 pcalibre1">
<td id="P7000497027000000000000000045813" data-uri="chapter09.xhtml#P7000497027000000000000000045813" class="calibre20 pcalibre pcalibre1">_____</td>
<td id="P7000497027000000000000000045814" data-uri="chapter09.xhtml#P7000497027000000000000000045814" class="calibre20 pcalibre pcalibre1">_____</td>
<td id="P7000497027000000000000000045815" data-uri="chapter09.xhtml#P7000497027000000000000000045815" class="calibre20 pcalibre pcalibre1">2<sup class="pcalibre1 calibre21 pcalibre">32</sup> -- 1 =? G -- 1</td>
</tr>
<tr class="pcalibre calibre17 pcalibre1">
<td id="P7000497027000000000000000045816" data-uri="chapter09.xhtml#P7000497027000000000000000045816" class="calibre20 pcalibre pcalibre1">_____</td>
<td id="P7000497027000000000000000045817" data-uri="chapter09.xhtml#P7000497027000000000000000045817" class="calibre20 pcalibre pcalibre1">2<sup class="pcalibre1 calibre21 pcalibre">?</sup> = 256 T</td>
<td id="P7000497027000000000000000045818" data-uri="chapter09.xhtml#P7000497027000000000000000045818" class="calibre20 pcalibre pcalibre1">_____</td>
</tr>
<tr class="pcalibre calibre17 pcalibre1">
<td id="P7000497027000000000000000045819" data-uri="chapter09.xhtml#P7000497027000000000000000045819" class="calibre20 pcalibre pcalibre1">64</td>
<td id="P700049702700000000000000004581A" data-uri="chapter09.xhtml#P700049702700000000000000004581A" class="calibre20 pcalibre pcalibre1">_____</td>
<td id="P700049702700000000000000004581B" data-uri="chapter09.xhtml#P700049702700000000000000004581B" class="calibre20 pcalibre pcalibre1">_____</td>
</tr>
</tbody>
</table>
</div></li></ol>
</section>
</section></body></html>
