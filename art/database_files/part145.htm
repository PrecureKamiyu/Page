<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Practice Exercises</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part144.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part146.htm">下一个 &gt;</a></p><p class="s45" style="padding-top: 10pt;padding-left: 36pt;text-indent: 0pt;text-align: left;">Practice Exercises</p><p style="padding-top: 12pt;padding-left: 119pt;text-indent: -24pt;text-align: justify;"><b>6.1  </b>Construct an <span class="s44">E-R </span>diagram for a car insurance company whose customers own one or more cars each. Each car has associated with it zero to any number of recorded accidents. Each insurance policy covers one or more cars and has one or more premium payments associated with it. Each payment is for a particular period of time, and has an associated due date, and the date when the payment was received.</p><p class="s64" style="padding-top: 3pt;padding-left: 119pt;text-indent: 0pt;text-align: right;">Practice Exercise  <span class="s164">295</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 150pt;text-indent: -25pt;text-align: justify;"><b>6.2  </b>Consider a database that includes the entity sets <i>student</i>, <i>course</i>, and <i>section </i>from the university schema and that additionally records the marks that students receive in diﬀerent exams of diﬀerent sections.</p><p style="padding-top: 8pt;padding-left: 176pt;text-indent: -18pt;text-align: justify;">a.  Construct an <span class="s44">E-R </span>diagram that models exams as entities and uses a ternary relationship as part of the design.</p><p style="padding-top: 6pt;padding-left: 176pt;text-indent: -19pt;text-align: justify;">b.  Construct an alternative <span class="s44">E-R </span>diagram that uses only a binary relationship between <i>student </i>and <i>section</i>. Make sure that only one relationship exists between a particular <i>student </i>and <i>section </i>pair, yet you can represent the marks that a student gets in diﬀerent exams.</p><p style="padding-top: 8pt;padding-left: 150pt;text-indent: -25pt;text-align: justify;"><b>6.3 </b>Design an <span class="s44">E-R </span>diagram for keeping track of the scoring statistics of your favorite sports team. You should store the matches played, the scores in each match, the players in each match, and individual player scoring statistics for each match. Summary statistics should be modeled as derived attributes with an explanation as to how they are computed.</p><p style="padding-top: 6pt;padding-left: 150pt;text-indent: -25pt;text-align: justify;"><b>6.4  </b>Consider an <span class="s44">E-R </span>diagram in which the same entity set appears several times, with its attributes repeated in more than one occurrence. Why is allowing this redundancy a bad practice that one should avoid?</p><p style="padding-top: 6pt;padding-left: 150pt;text-indent: -25pt;text-align: justify;"><b>6.5  </b>An <span class="s44">E-R </span>diagram can be viewed as a graph. What do the following mean in terms of the structure of an enterprise schema?</p><p style="padding-top: 8pt;padding-left: 157pt;text-indent: 0pt;text-align: left;">a. The graph is disconnected.</p><p style="padding-top: 6pt;padding-left: 157pt;text-indent: 0pt;text-align: left;">b. The graph has a cycle.</p><p class="s46" style="padding-top: 8pt;padding-left: 150pt;text-indent: -25pt;text-align: justify;">6.6  <span class="p">Consider the representation of the ternary relationship of Figure 6.29a using the binary relationships illustrated in Figure 6.29b (attributes not shown).</span></p><p style="padding-top: 9pt;padding-left: 176pt;text-indent: -18pt;line-height: 90%;text-align: justify;">a.  Show a simple instance of <i>E</i>, <i>A</i>, <i>B</i>, <i>C</i>, <i>R</i><span class="s145">A</span>, <i>R</i><span class="s145">B</span>, and <i>R</i><span class="s145">C </span>that cannot corre- spond to any instance of <i>A</i>, <i>B</i>, <i>C</i>, and <i>R</i>.</p><p style="padding-top: 7pt;padding-left: 176pt;text-indent: -19pt;line-height: 94%;text-align: justify;">b.  Modify the <span class="s44">E-R </span>diagram of Figure 6.29b to introduce constraints that will guarantee that any instance of <i>E</i>, <i>A</i>, <i>B</i>, <i>C</i>, <i>R</i><span class="s97">A</span>, <i>R</i><span class="s97">B</span>, and <i>R</i><span class="s97">C </span>that satisﬁes the constraints will correspond to an instance of <i>A</i>, <i>B</i>, <i>C</i>, and <i>R</i>.</p><p style="padding-top: 6pt;padding-left: 176pt;text-indent: -18pt;text-align: justify;">c.  Modify the preceding translation to handle total participation constraints on the ternary relationship.</p><p class="s46" style="padding-top: 8pt;padding-left: 150pt;text-indent: -25pt;text-align: justify;">6.7  <span class="p">A weak entity set can always be made into a strong entity set by adding to its attributes the primary-key attributes of its identifying entity set. Outline what sort of redundancy will result if we do so.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1823.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1824.png"/></span></p><p style="padding-top: 6pt;padding-left: 150pt;text-indent: -25pt;text-align: justify;"><b>6.8 </b>Consider a relation such as <i>sec course</i>, generated from a many-to-one relation- ship set <i>sec course</i>. Do the primary and foreign key constraints created on the relation enforce the many-to-one cardinality constraint? Explain why.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s465" style="padding-left: 124pt;text-indent: 0pt;text-align: left;">	</p><p style="text-indent: 0pt;text-align: left;"><span><img width="207" height="110" alt="image" src="Image_1825.png"/></span></p><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">A</p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 10pt;text-align: left;">R<span class="s144">A</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">B</p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 10pt;text-align: left;">R<span class="s144">B</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">E</p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 10pt;text-align: left;">R<span class="s144">C</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">C</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="111" height="70" alt="image" src="Image_1826.png"/></span></p><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">A</p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">B</p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">R</p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">C</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="150" height="82" alt="image" src="Image_1827.png"/></span></p><p class="s217" style="text-indent: 0pt;line-height: 10pt;text-align: left;">R<span class="s218">AB</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">A</p><p style="text-indent: 0pt;text-align: left;"/><p class="s217" style="text-indent: 0pt;line-height: 10pt;text-align: left;">R<span class="s218">AC</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">B</p><p style="text-indent: 0pt;text-align: left;"/><p class="s217" style="text-indent: 0pt;line-height: 10pt;text-align: left;">R<span class="s218">BC</span></p><p style="text-indent: 0pt;text-align: left;"/><p class="s111" style="text-indent: 0pt;line-height: 9pt;text-align: left;">C</p><p style="text-indent: 0pt;text-align: left;"/><p class="s42" style="padding-top: 4pt;padding-left: 161pt;text-indent: 0pt;text-align: left;">(a)                     (b)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s42" style="padding-top: 3pt;padding-left: 55pt;text-indent: 0pt;text-align: center;">(c)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s73" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Figure 6.29 <span class="s74">Representation of a ternary relationship using binary relationships.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: -25pt;text-align: justify;"><b>6.9 </b>Suppose the <i>advisor </i>relationship set were one-to-one. What extra constraints are required on the relation <i>advisor </i>to ensure that the one-to-one cardinality constraint is enforced?</p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: -29pt;text-align: justify;"><b>6.10  </b>Consider a many-to-one relationship <i>R </i>between entity sets <i>A </i>and <i>B</i>. Suppose the relation created from <i>R </i>is combined with the relation created from <i>A</i>. In <span class="s44">SQL</span>, attributes participating in a foreign key constraint can be null. Explain how a constraint on total participation of <i>A </i>in <i>R </i>can be enforced using <b>not null </b>constraints in <span class="s44">SQL</span>.</p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: -29pt;text-align: justify;"><b>6.11 </b>In <span class="s44">SQL</span>, foreign key constraints can reference only the primary key attributes of the referenced relation or other attributes declared to be a superkey using the <b>unique </b>constraint. As a result, total participation constraints on a many-to-many relationship set (or on the “one” side of a one-to-many relationship set) cannot be enforced on the relations created from the relationship set, using primary key, foreign key, and not null constraints on the relations.</p><p style="padding-top: 8pt;padding-left: 126pt;text-indent: 0pt;text-align: justify;">a. Explain why.</p><p style="padding-top: 6pt;padding-left: 145pt;text-indent: -19pt;text-align: justify;">b.  Explain how to enforce total participation constraints using complex check constraints or assertions (see Section 4.4.8). (Unfortunately, these features are not supported on any widely used database currently.)</p><p class="s46" style="padding-top: 8pt;padding-left: 119pt;text-indent: -30pt;text-align: justify;">6.12  <span class="p">Consider the following lattice structure of generalization and specialization (at- tributes not shown).</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="235" height="92" alt="image" src="Image_1828.png"/></span></p><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">X</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">Y</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">A</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">B</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">C</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 4pt;padding-left: 150pt;text-indent: 0pt;text-align: justify;">For entity sets <i>A</i>, <i>B</i>, and <i>C</i>, explain how attributes are inherited from the higher- level entity sets <i>X </i>and <i>Y </i>. Discuss how to handle a case where an attribute of <i>X </i>has the same name as some attribute of <i>Y </i>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1829.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1830.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1831.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1832.png"/></span></p><p style="padding-top: 6pt;padding-left: 150pt;text-indent: -30pt;text-align: right;"><b>6.13 </b>An <span class="s44">E-R </span>diagram usually models the state of an enterprise at a point in time. Suppose we wish to track <i>temporal changes</i>, that is, changes to data over time. For example, Zhang may have been a student between September 2015 and May 2019, while Shankar may have had instructor Einstein as advisor from May 2018 to December 2018, and again from June 2019 to January 2020. Similarly, attribute values of an entity or relationship, such as <i>title </i>and <i>credits </i>of <i>course</i>, <i>salary</i>, or even <i>name </i>of <i>instructor</i>, and <i>tot cred </i>of <i>student</i>, can change over time. One way to model temporal changes is as follows: We deﬁne a new data type called <span class="s63">valid time</span>, which is a time interval, or a set of time intervals. We then associate a <i>valid time </i>attribute with each entity and relationship, recording the time periods during which the entity or relationship is valid. The end time of an interval can be inﬁnity; for example, if Shankar became a student in September 2018, and is still a student, we can represent the end time of the <i>valid time </i>in- terval as inﬁnity for the Shankar entity. Similarly, we model attributes that can</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1833.png"/></span></p><p style="padding-left: 150pt;text-indent: 0pt;text-align: justify;">change over time as a set of values, each with its own <i>valid time</i>.</p><p style="padding-top: 10pt;padding-left: 176pt;text-indent: -18pt;text-align: left;">a.  Draw an <span class="s44">E-R </span>diagram with the <i>student </i>and <i>instructor </i>entities, and the <i>ad- visor </i>relationship, with the above extensions to track temporal changes.</p><p style="padding-top: 6pt;padding-left: 157pt;text-indent: 0pt;text-align: left;">b.  Convert the <span class="s44">E-R </span>diagram discussed above into a set of relations.</p><p style="padding-top: 9pt;padding-left: 150pt;text-indent: 0pt;text-align: justify;">It should be clear that the set of relations generated is rather complex, leading to diﬃculties in tasks such as writing queries in <span class="s44">SQL</span>. An alternative approach, which is used more widely, is to ignore temporal changes when designing the <span class="s44">E-R </span>model (in particular, temporal changes to attribute values), and to modify the relations generated from the <span class="s44">E-R </span>model to track temporal changes.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part144.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part146.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
