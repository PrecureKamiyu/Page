<?xml version='1.0' encoding='utf-8'?>
<html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/">
  <head>
    <meta name="dcterms.conformsTo" content="PXE Basic 1.0"/>
    <meta name="generator" content="PXE Tools version 1.39.52"/>
    <!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.52, partial=false-->
    <title>Chapter 10 System-Level I/O</title>
    <link rel="alternate stylesheet" type="text/css" title="night" href="../css/theme/night.css"/>
    <link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/theme/sepia.css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body epub:type="bodymatter" class="calibre pcalibre pcalibre1">
<section class="pcalibre halftitlepage pcalibre1" id="P7000497027000000000000000007867" epub:type="chapter"><header class="calibre24 pcalibre pcalibre1"><h1 class="title4 pcalibre pcalibre1" id="P7000497027000000000000000046333" data-uri="chapter10.xhtml#P7000497027000000000000000046333" epub:type="title"><span class="pcalibre pagebreak pcalibre1" id="P7000497027000000000000000007869" title="889" data-uri="chapter10.xhtml#P7000497027000000000000000007869" epub:type="pagebreak"></span><span class="pcalibre label pcalibre1">Chapter </span><span class="pcalibre number1 pcalibre1">10 </span>System-Level I/O</h1></header>
<section class="pcalibre halftitlepage pcalibre1" id="d9e163213">
<nav class="pcalibre halftitlepage pcalibre1" id="P7000497027000000000000000046334" data-uri="chapter10.xhtml#P7000497027000000000000000046334" epub:type="toc">
<div class="edition pcalibre pcalibre1" id="P7000497027000000000000000046335" data-uri="chapter10.xhtml#P7000497027000000000000000046335">
<ol class="tocentrylist pcalibre pcalibre1" id="P7000497027000000000000000046336" data-uri="chapter10.xhtml#P7000497027000000000000000046336">
<li id="P7000497027000000000000000046337" data-uri="chapter10.xhtml#P7000497027000000000000000046337" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P7000497027000000000000000046338" data-uri="chapter10.xhtml#P7000497027000000000000000046338" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007899.xhtml#P7000497027000000000000000007899"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.1 </span>Unix I/O </span><span class="pcalibre pcalibre1" epub:type="pagebreak">890</span></a></p></li>
<li id="P7000497027000000000000000046339" data-uri="chapter10.xhtml#P7000497027000000000000000046339" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P700049702700000000000000004633A" data-uri="chapter10.xhtml#P700049702700000000000000004633A" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP70004970270000000000000000078AD.xhtml#P70004970270000000000000000078AD"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.2 </span>Files </span><span class="pcalibre pcalibre1" epub:type="pagebreak">891</span></a></p></li>
<li id="P700049702700000000000000004633B" data-uri="chapter10.xhtml#P700049702700000000000000004633B" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P700049702700000000000000004633C" data-uri="chapter10.xhtml#P700049702700000000000000004633C" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP70004970270000000000000000078E1.xhtml#P70004970270000000000000000078E1"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.3 </span>Opening and Closing Files </span><span class="pcalibre pcalibre1" epub:type="pagebreak">893</span></a></p></li>
<li id="P700049702700000000000000004633D" data-uri="chapter10.xhtml#P700049702700000000000000004633D" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P700049702700000000000000004633E" data-uri="chapter10.xhtml#P700049702700000000000000004633E" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007939.xhtml#P7000497027000000000000000007939"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.4 </span>Reading and Writing Files </span><span class="pcalibre pcalibre1" epub:type="pagebreak">895</span></a></p></li>
<li id="P700049702700000000000000004633F" data-uri="chapter10.xhtml#P700049702700000000000000004633F" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P7000497027000000000000000046340" data-uri="chapter10.xhtml#P7000497027000000000000000046340" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007975.xhtml#P7000497027000000000000000007975"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.5 </span>Robust Reading and Writing with the Rio Package </span><span class="pcalibre pcalibre1" epub:type="pagebreak">897</span></a></p></li>
<li id="P7000497027000000000000000046341" data-uri="chapter10.xhtml#P7000497027000000000000000046341" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P7000497027000000000000000046342" data-uri="chapter10.xhtml#P7000497027000000000000000046342" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007A14.xhtml#P7000497027000000000000000007A14"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.6 </span>Reading File Metadata </span><span class="pcalibre pcalibre1" epub:type="pagebreak">903</span></a></p></li>
<li id="P7000497027000000000000000046343" data-uri="chapter10.xhtml#P7000497027000000000000000046343" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P7000497027000000000000000046344" data-uri="chapter10.xhtml#P7000497027000000000000000046344" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007A3E.xhtml#P7000497027000000000000000007A3E"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.7 </span>Reading Directory Contents </span><span class="pcalibre pcalibre1" epub:type="pagebreak">905</span></a></p></li>
<li id="P7000497027000000000000000046345" data-uri="chapter10.xhtml#P7000497027000000000000000046345" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P7000497027000000000000000046346" data-uri="chapter10.xhtml#P7000497027000000000000000046346" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007A61.xhtml#P7000497027000000000000000007A61"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.8 </span>Sharing Files </span><span class="pcalibre pcalibre1" epub:type="pagebreak">906</span></a></p></li>
<li id="P7000497027000000000000000046347" data-uri="chapter10.xhtml#P7000497027000000000000000046347" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P7000497027000000000000000046348" data-uri="chapter10.xhtml#P7000497027000000000000000046348" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007A9B.xhtml#P7000497027000000000000000007A9B"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.9 </span>I/O Redirection </span><span class="pcalibre pcalibre1" epub:type="pagebreak">909</span></a></p></li>
<li id="P7000497027000000000000000046349" data-uri="chapter10.xhtml#P7000497027000000000000000046349" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P700049702700000000000000004634A" data-uri="chapter10.xhtml#P700049702700000000000000004634A" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007ACB.xhtml#P7000497027000000000000000007ACB"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.10 </span>Standard I/O</span>	<span class="pcalibre pcalibre1" epub:type="pagebreak">911</span></a></p></li>
<li id="P700049702700000000000000004634B" data-uri="chapter10.xhtml#P700049702700000000000000004634B" class="tocpreface pcalibre pcalibre1" data-class="toclevel1"><p id="P700049702700000000000000004634C" data-uri="chapter10.xhtml#P700049702700000000000000004634C" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007AE3.xhtml#P7000497027000000000000000007AE3"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.11 </span>Putting It Together: Which I/O Functions Should I Use? </span><span class="pcalibre pcalibre1" epub:type="pagebreak">911</span></a></p></li>
</ol></div>
<div class="edition pcalibre pcalibre1" id="P700049702700000000000000004634D" data-uri="chapter10.xhtml#P700049702700000000000000004634D">
<ol class="tocentrylist pcalibre pcalibre1" id="P700049702700000000000000004634E" data-uri="chapter10.xhtml#P700049702700000000000000004634E">
<li class="tocpreface pcalibre pcalibre1" id="P700049702700000000000000004634F" data-uri="chapter10.xhtml#P700049702700000000000000004634F"><p id="P7000497027000000000000000046350" data-uri="chapter10.xhtml#P7000497027000000000000000046350" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007975.xhtml#P7000497027000000000000000007975"><span class="pcalibre pcalibre1" epub:type="title"><span class="pcalibre label pcalibre1">10.12 </span><span class="pcalibre label pcalibre1">Summary</span> </span><span class="pcalibre pcalibre1" epub:type="pagebreak">913</span></a></p></li>
<li class="tocpreface pcalibre pcalibre1" id="P7000497027000000000000000046351" data-uri="chapter10.xhtml#P7000497027000000000000000046351"><p id="P7000497027000000000000000046352" data-uri="chapter10.xhtml#P7000497027000000000000000046352" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007B21.xhtml#P7000497027000000000000000007B21"><span class="pcalibre pcalibre1" epub:type="title">Bibliographic Notes </span><span class="pcalibre pcalibre1" epub:type="pagebreak">914</span></a></p></li>
<li class="tocpreface pcalibre pcalibre1" id="P7000497027000000000000000046353" data-uri="chapter10.xhtml#P7000497027000000000000000046353"><p id="P7000497027000000000000000046354" data-uri="chapter10.xhtml#P7000497027000000000000000046354" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007B24.xhtml#P7000497027000000000000000007B24"><span class="pcalibre pcalibre1" epub:type="title">Homework Problems </span><span class="pcalibre pcalibre1" epub:type="pagebreak">914</span></a></p></li>
<li class="tocpreface pcalibre pcalibre1" id="P7000497027000000000000000046355" data-uri="chapter10.xhtml#P7000497027000000000000000046355"><p id="P7000497027000000000000000046356" data-uri="chapter10.xhtml#P7000497027000000000000000046356" class="pcalibre calibre3 pcalibre1"><a class="xref pcalibre pcalibre4 pcalibre2 pcalibre3 pcalibre1" href="fileP7000497027000000000000000007B49.xhtml#P7000497027000000000000000007B49"><span class="pcalibre pcalibre1" epub:type="title">Solutions to Practice Problems </span><span class="pcalibre pcalibre1" epub:type="pagebreak">915</span></a></p></li>
</ol></div>
</nav>

<section id="P7000497027000000000000000046357" data-uri="chapter10.xhtml#P7000497027000000000000000046357" epub:type="introduction" class="introduction pcalibre pcalibre1">
<p id="P7000497027000000000000000046358" data-uri="chapter10.xhtml#P7000497027000000000000000046358" class="pcalibre1 pcalibre calibre2"><span class="pcalibre pagebreak pcalibre1" id="P700049702700000000000000000788F" title="890" data-uri="chapter10.xhtml#P700049702700000000000000000788F" epub:type="pagebreak"></span>I<i class="calibre5 pcalibre pcalibre1">nput/output (I/O)</i> is the process of copying data between main memory and external devices such as disk drives, terminals, and networks. An input operation copies data from an I/O device to main memory, and an output operation copies data from memory to a device.</p>
<p id="P7000497027000000000000000046359" data-uri="chapter10.xhtml#P7000497027000000000000000046359" class="pcalibre1 pcalibre calibre2">All language run-time systems provide higher-level facilities for performing I/O. For example, ANSIC provides the <i class="calibre5 pcalibre pcalibre1">standard I/O</i> library, with functions such as <code id="P700049702700000000000000004635A" data-uri="chapter10.xhtml#P700049702700000000000000004635A" class="calibre25 pcalibre pcalibre1">printf</code> and <code id="P700049702700000000000000004635B" data-uri="chapter10.xhtml#P700049702700000000000000004635B" class="calibre25 pcalibre pcalibre1">scanf</code> that perform buffered I/O. The C++ language provides similar functionality with its overloaded &lt;&lt; ("put to") and &gt;&gt; ("get from") operators. On Linux systems, these higher-level I/O functions are implemented using system-level <i class="calibre5 pcalibre pcalibre1">Unix I/O</i> functions provided by the kernel. Most of the time, the higher-level I/O functions work quite well and there is no need to use Unix I/O directly. So why bother learning about Unix I/O?</p>
<ul id="P700049702700000000000000004635C" data-uri="chapter10.xhtml#P700049702700000000000000004635C" class="calibre28 pcalibre pcalibre1">
<li id="P700049702700000000000000004635D" data-uri="chapter10.xhtml#P700049702700000000000000004635D" class="calibre12 pcalibre pcalibre1"><p id="P700049702700000000000000004635E" data-uri="chapter10.xhtml#P700049702700000000000000004635E" class="pcalibre calibre3 pcalibre1"><span class="pcalibre leadin pcalibre1">Understanding Unix I/O will help you understand other systems concepts. </span>I/O is integral to the operation of a system, and because of this, we often encounter circular dependencies between I/O and other systems ideas. For example, I/O plays a key role in process creation and execution. Conversely, process creation plays a key role in how files are shared by different processes. Thus, to really understand I/O, you need to understand processes, and vice versa. We have already touched on aspects of I/O in our discussions of the memory hierarchy, linking and loading, processes, and virtual memory. Now that you have a better understanding of these ideas, we can close the circle and delve into I/O in more detail.</p></li>
<li id="P700049702700000000000000004635F" data-uri="chapter10.xhtml#P700049702700000000000000004635F" class="calibre12 pcalibre pcalibre1"><p id="P7000497027000000000000000046360" data-uri="chapter10.xhtml#P7000497027000000000000000046360" class="pcalibre calibre3 pcalibre1"><span class="pcalibre leadin pcalibre1">Sometimes you have no choice but to use Unix I/O. </span>There are some important cases where using higher-level I/O functions is either impossible or inappropriate. For example, the standard I/O library provides no way to access file metadata such as file size or file creation time. Further, there are problems with the standard I/O library that make it risky to use for network programming.</p></li>
</ul>
<p id="P7000497027000000000000000046361" data-uri="chapter10.xhtml#P7000497027000000000000000046361" class="pcalibre1 pcalibre calibre2">This chapter introduces you to the general concepts of Unix I/O and standard I/O and shows you how to use them reliably from your C programs. Besides serving as a general introduction, this chapter lays a firm foundation for our subsequent study of network programming and concurrency.</p>
</section>

</section>
<!--EOF:P7000497027000000000000000007899-->
<!--EOF:P70004970270000000000000000078AD-->
<!--EOF:P70004970270000000000000000078E1-->
<!--EOF:P7000497027000000000000000007939-->
<!--EOF:P7000497027000000000000000007975-->
<!--EOF:P7000497027000000000000000007A14-->
<!--EOF:P7000497027000000000000000007A3E-->
<!--EOF:P7000497027000000000000000007A61-->
<!--EOF:P7000497027000000000000000007A9B-->
<!--EOF:P7000497027000000000000000007ACB-->
<!--EOF:P7000497027000000000000000007AE3-->

<!--EOF:P7000497027000000000000000007B1B-->
<!--EOF:P7000497027000000000000000007B21-->
<!--EOF:P7000497027000000000000000007B24-->
<!--EOF:P7000497027000000000000000007B49-->

</section></body></html>
