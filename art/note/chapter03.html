<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
<!-- 2023-06-20 Tue 17:56 -->
<meta http-equiv="Content-Type" content="text/html;charset=utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>&lrm;</title>
<meta name="generator" content="Org mode" />
<style type="text/css">
 <!--/*--><![CDATA[/*><!--*/
  .title  { text-align: center;
             margin-bottom: .2em; }
  .subtitle { text-align: center;
              font-size: medium;
              font-weight: bold;
              margin-top:0; }
  .todo   { font-family: monospace; color: red; }
  .done   { font-family: monospace; color: green; }
  .priority { font-family: monospace; color: orange; }
  .tag    { background-color: #eee; font-family: monospace;
            padding: 2px; font-size: 80%; font-weight: normal; }
  .timestamp { color: #bebebe; }
  .timestamp-kwd { color: #5f9ea0; }
  .org-right  { margin-left: auto; margin-right: 0px;  text-align: right; }
  .org-left   { margin-left: 0px;  margin-right: auto; text-align: left; }
  .org-center { margin-left: auto; margin-right: auto; text-align: center; }
  .underline { text-decoration: underline; }
  #postamble p, #preamble p { font-size: 90%; margin: .2em; }
  p.verse { margin-left: 3%; }
  pre {
    border: 1px solid #ccc;
    box-shadow: 3px 3px 3px #eee;
    padding: 8pt;
    font-family: monospace;
    overflow: auto;
    margin: 1.2em;
  }
  pre.src {
    position: relative;
    overflow: visible;
    padding-top: 1.2em;
  }
  pre.src:before {
    display: none;
    position: absolute;
    background-color: white;
    top: -10px;
    right: 10px;
    padding: 3px;
    border: 1px solid black;
  }
  pre.src:hover:before { display: inline;}
  /* Languages per Org manual */
  pre.src-asymptote:before { content: 'Asymptote'; }
  pre.src-awk:before { content: 'Awk'; }
  pre.src-C:before { content: 'C'; }
  /* pre.src-C++ doesn't work in CSS */
  pre.src-clojure:before { content: 'Clojure'; }
  pre.src-css:before { content: 'CSS'; }
  pre.src-D:before { content: 'D'; }
  pre.src-ditaa:before { content: 'ditaa'; }
  pre.src-dot:before { content: 'Graphviz'; }
  pre.src-calc:before { content: 'Emacs Calc'; }
  pre.src-emacs-lisp:before { content: 'Emacs Lisp'; }
  pre.src-fortran:before { content: 'Fortran'; }
  pre.src-gnuplot:before { content: 'gnuplot'; }
  pre.src-haskell:before { content: 'Haskell'; }
  pre.src-hledger:before { content: 'hledger'; }
  pre.src-java:before { content: 'Java'; }
  pre.src-js:before { content: 'Javascript'; }
  pre.src-latex:before { content: 'LaTeX'; }
  pre.src-ledger:before { content: 'Ledger'; }
  pre.src-lisp:before { content: 'Lisp'; }
  pre.src-lilypond:before { content: 'Lilypond'; }
  pre.src-lua:before { content: 'Lua'; }
  pre.src-matlab:before { content: 'MATLAB'; }
  pre.src-mscgen:before { content: 'Mscgen'; }
  pre.src-ocaml:before { content: 'Objective Caml'; }
  pre.src-octave:before { content: 'Octave'; }
  pre.src-org:before { content: 'Org mode'; }
  pre.src-oz:before { content: 'OZ'; }
  pre.src-plantuml:before { content: 'Plantuml'; }
  pre.src-processing:before { content: 'Processing.js'; }
  pre.src-python:before { content: 'Python'; }
  pre.src-R:before { content: 'R'; }
  pre.src-ruby:before { content: 'Ruby'; }
  pre.src-sass:before { content: 'Sass'; }
  pre.src-scheme:before { content: 'Scheme'; }
  pre.src-screen:before { content: 'Gnu Screen'; }
  pre.src-sed:before { content: 'Sed'; }
  pre.src-sh:before { content: 'shell'; }
  pre.src-sql:before { content: 'SQL'; }
  pre.src-sqlite:before { content: 'SQLite'; }
  /* additional languages in org.el's org-babel-load-languages alist */
  pre.src-forth:before { content: 'Forth'; }
  pre.src-io:before { content: 'IO'; }
  pre.src-J:before { content: 'J'; }
  pre.src-makefile:before { content: 'Makefile'; }
  pre.src-maxima:before { content: 'Maxima'; }
  pre.src-perl:before { content: 'Perl'; }
  pre.src-picolisp:before { content: 'Pico Lisp'; }
  pre.src-scala:before { content: 'Scala'; }
  pre.src-shell:before { content: 'Shell Script'; }
  pre.src-ebnf2ps:before { content: 'ebfn2ps'; }
  /* additional language identifiers per "defun org-babel-execute"
       in ob-*.el */
  pre.src-cpp:before  { content: 'C++'; }
  pre.src-abc:before  { content: 'ABC'; }
  pre.src-coq:before  { content: 'Coq'; }
  pre.src-groovy:before  { content: 'Groovy'; }
  /* additional language identifiers from org-babel-shell-names in
     ob-shell.el: ob-shell is the only babel language using a lambda to put
     the execution function name together. */
  pre.src-bash:before  { content: 'bash'; }
  pre.src-csh:before  { content: 'csh'; }
  pre.src-ash:before  { content: 'ash'; }
  pre.src-dash:before  { content: 'dash'; }
  pre.src-ksh:before  { content: 'ksh'; }
  pre.src-mksh:before  { content: 'mksh'; }
  pre.src-posh:before  { content: 'posh'; }
  /* Additional Emacs modes also supported by the LaTeX listings package */
  pre.src-ada:before { content: 'Ada'; }
  pre.src-asm:before { content: 'Assembler'; }
  pre.src-caml:before { content: 'Caml'; }
  pre.src-delphi:before { content: 'Delphi'; }
  pre.src-html:before { content: 'HTML'; }
  pre.src-idl:before { content: 'IDL'; }
  pre.src-mercury:before { content: 'Mercury'; }
  pre.src-metapost:before { content: 'MetaPost'; }
  pre.src-modula-2:before { content: 'Modula-2'; }
  pre.src-pascal:before { content: 'Pascal'; }
  pre.src-ps:before { content: 'PostScript'; }
  pre.src-prolog:before { content: 'Prolog'; }
  pre.src-simula:before { content: 'Simula'; }
  pre.src-tcl:before { content: 'tcl'; }
  pre.src-tex:before { content: 'TeX'; }
  pre.src-plain-tex:before { content: 'Plain TeX'; }
  pre.src-verilog:before { content: 'Verilog'; }
  pre.src-vhdl:before { content: 'VHDL'; }
  pre.src-xml:before { content: 'XML'; }
  pre.src-nxml:before { content: 'XML'; }
  /* add a generic configuration mode; LaTeX export needs an additional
     (add-to-list 'org-latex-listings-langs '(conf " ")) in .emacs */
  pre.src-conf:before { content: 'Configuration File'; }

  table { border-collapse:collapse; }
  caption.t-above { caption-side: top; }
  caption.t-bottom { caption-side: bottom; }
  td, th { vertical-align:top;  }
  th.org-right  { text-align: center;  }
  th.org-left   { text-align: center;   }
  th.org-center { text-align: center; }
  td.org-right  { text-align: right;  }
  td.org-left   { text-align: left;   }
  td.org-center { text-align: center; }
  dt { font-weight: bold; }
  .footpara { display: inline; }
  .footdef  { margin-bottom: 1em; }
  .figure { padding: 1em; }
  .figure p { text-align: center; }
  .inlinetask {
    padding: 10px;
    border: 2px solid gray;
    margin: 10px;
    background: #ffffcc;
  }
  #org-div-home-and-up
   { text-align: right; font-size: 70%; white-space: nowrap; }
  textarea { overflow-x: auto; }
  .linenr { font-size: smaller }
  .code-highlighted { background-color: #ffff00; }
  .org-info-js_info-navigation { border-style: none; }
  #org-info-js_console-label
    { font-size: 10px; font-weight: bold; white-space: nowrap; }
  .org-info-js_search-highlight
    { background-color: #ffff00; color: #000000; font-weight: bold; }
  .org-svg { width: 90%; }
  /*]]>*/-->
</style>
<style>body {font-family: serif, 宋体;font-size: 200%;} a {color: black; text-decoration: none;}</style>
<script type="text/javascript">
/*
@licstart  The following is the entire license notice for the
JavaScript code in this tag.

Copyright (C) 2012-2019 Free Software Foundation, Inc.

The JavaScript code in this tag is free software: you can
redistribute it and/or modify it under the terms of the GNU
General Public License (GNU GPL) as published by the Free Software
Foundation, either version 3 of the License, or (at your option)
any later version.  The code is distributed WITHOUT ANY WARRANTY;
without even the implied warranty of MERCHANTABILITY or FITNESS
FOR A PARTICULAR PURPOSE.  See the GNU GPL for more details.

As additional permission under GNU GPL version 3 section 7, you
may distribute non-source (e.g., minimized or compacted) forms of
that code without the copy of the GNU GPL normally required by
section 4, provided you include this license notice and a URL
through which recipients can access the Corresponding Source.


@licend  The above is the entire license notice
for the JavaScript code in this tag.
*/
<!--/*--><![CDATA[/*><!--*/
 function CodeHighlightOn(elem, id)
 {
   var target = document.getElementById(id);
   if(null != target) {
     elem.cacheClassElem = elem.className;
     elem.cacheClassTarget = target.className;
     target.className = "code-highlighted";
     elem.className   = "code-highlighted";
   }
 }
 function CodeHighlightOff(elem, id)
 {
   var target = document.getElementById(id);
   if(elem.cacheClassElem)
     elem.className = elem.cacheClassElem;
   if(elem.cacheClassTarget)
     target.className = elem.cacheClassTarget;
 }
/*]]>*///-->
</script>
<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
        displayAlign: "center",
        displayIndent: "0em",

        "HTML-CSS": { scale: 100,
                        linebreaks: { automatic: "false" },
                        webFont: "TeX"
                       },
        SVG: {scale: 100,
              linebreaks: { automatic: "false" },
              font: "TeX"},
        NativeMML: {scale: 100},
        TeX: { equationNumbers: {autoNumber: "AMS"},
               MultLineWidth: "85%",
               TagSide: "right",
               TagIndent: ".8em"
             }
});
</script>
<script type="text/javascript"
        src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js?config=TeX-AMS_HTML"></script>
</head>
<body>
<div id="content">
<div id="table-of-contents">
<h2>Table of Contents</h2>
<div id="text-table-of-contents">
<ul>
<li><a href="#orga23fd45">1. 加法</a>
<ul>
<li><a href="#org16fb60f">1.1. 加法的基本实现</a>
<ul>
<li><a href="#org44ab107">1.1.1. 取 \(- B\) 补码的方法</a></li>
</ul>
</li>
<li><a href="#org8255981">1.2. <span class="done DONE">DONE</span> 存在基本的常识性问题 加法的溢出判断</a>
<ul>
<li><a href="#org86210c1">1.2.1. 一位符号位</a></li>
<li><a href="#org40f45cf">1.2.2. 两位符号位</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org6dec4ee">2. <span class="todo TODO">TODO</span> 缺少例子 乘法</a>
<ul>
<li><a href="#orgad50cf2">2.1. test</a>
<ul>
<li><a href="#org450d3bb">2.1.1. 笔算乘法</a></li>
<li><a href="#org9958d8e">2.1.2. 原码的乘法操作</a></li>
<li><a href="#orgd1bf5f0">2.1.3. <span class="todo TODO">TODO</span> The multipication of yuan code</a></li>
<li><a href="#org0d8acad">2.1.4. 补码的乘法操作</a></li>
<li><a href="#org4555a01">2.1.5. Booth 运算法</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org9baa76c">3. 除法</a>
<ul>
<li><a href="#org70a74a3">3.1. 笔算除法</a></li>
<li><a href="#org7a3e314">3.2. 机器除法</a>
<ul>
<li><a href="#org2112e2b">3.2.1. 回复余数法</a></li>
<li><a href="#orgf0bf911">3.2.2. 加减交替法</a></li>
</ul>
</li>
</ul>
</li>
<li><a href="#org7ac6cac">4. 浮点数运算</a>
<ul>
<li><a href="#orgc7d5f35">4.1. 运算流程</a></li>
<li><a href="#orge3e68ac">4.2. 具体流程示范</a></li>
</ul>
</li>
</ul>
</div>
</div>
<div id="outline-container-orga23fd45" class="outline-2">
<h2 id="orga23fd45"><span class="section-number-2">1</span> 加法</h2>
<div class="outline-text-2" id="text-1">
</div>
<div id="outline-container-org16fb60f" class="outline-3">
<h3 id="org16fb60f"><span class="section-number-3">1.1</span> 加法的基本实现</h3>
<div class="outline-text-3" id="text-1-1">
<p>
进行加法运算的时候, 就是补码相加. 
</p>

<p>
进行减法运算的时候, 实际上就是 \(A + ( -B)\).
</p>
</div>

<div id="outline-container-org44ab107" class="outline-4">
<h4 id="org44ab107"><span class="section-number-4">1.1.1</span> 取 \(- B\) 补码的方法</h4>
<div class="outline-text-4" id="text-1-1-1">
<p>
已知 \(B\), 运算 \(-B\) 的补码. 给定了 \(B\) 的原码, 连同符号位取反, 再 \(+1\) 就能够得到 \(-B\) 的补码.
</p>
</div>
</div>
</div>
<div id="outline-container-org8255981" class="outline-3">
<h3 id="org8255981"><span class="section-number-3">1.2</span> <span class="done DONE">DONE</span> 存在基本的常识性问题 加法的溢出判断</h3>
<div class="outline-text-3" id="text-1-2">
<ul class="org-ul">
<li>State "DONE"       from "TODO"       <span class="timestamp-wrapper"><span class="timestamp">[2023-04-16 Sun 16:39]</span></span></li>
</ul>
</div>
<div id="outline-container-org86210c1" class="outline-4">
<h4 id="org86210c1"><span class="section-number-4">1.2.1</span> 一位符号位</h4>
<div class="outline-text-4" id="text-1-2-1">
<p>
这个判断并不是很好判断, 我们只考虑进行加法的时候, 明显, 只有当两个加数
的符号相同的时候才有可能出现溢出.
</p>

<p>
也就是说, 溢出出现, 当且仅当, 加数符号相同, 并且结果的符号和加数的符号
不同. 
</p>
</div>
</div>

<div id="outline-container-org40f45cf" class="outline-4">
<h4 id="org40f45cf"><span class="section-number-4">1.2.2</span> 两位符号位</h4>
<div class="outline-text-4" id="text-1-2-2">
<p>
两位符号位之中, 00 表示正数, 11 表示负数. 
</p>

<p>
溢出的时候要么 01, 要么为 10. 前者为两正数相加溢出的情况, 后者为两个负
数相加溢出的情况. 那么, 当
</p>

<pre class="example">
s = 01 or s = 10 
</pre>

<p>
的时候, 发生了溢出. 我们的两位符号位在乘法之中有应用, 只是便宜之合.
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org6dec4ee" class="outline-2">
<h2 id="org6dec4ee"><span class="section-number-2">2</span> <span class="todo TODO">TODO</span> 缺少例子 乘法</h2>
<div class="outline-text-2" id="text-2">
</div>
<div id="outline-container-orgad50cf2" class="outline-3">
<h3 id="orgad50cf2"><span class="section-number-3">2.1</span> test</h3>
<div class="outline-text-3" id="text-2-1">
</div>
<div id="outline-container-org450d3bb" class="outline-4">
<h4 id="org450d3bb"><span class="section-number-4">2.1.1</span> 笔算乘法</h4>
<div class="outline-text-4" id="text-2-1-1">
<p>
设我们要计算 X × Y, 其中 X, Y 都是 <b>小数</b>. 先判断符号, 而后, 将 Y 的每一
位乘以 X, 相加得到结果. 即
</p>

<pre class="example">
z = |X| × y_n &gt;&gt; n
      + |X| × y_{n-1} &gt;&gt; n-1 
      + ... 
      + |X| × y_1 &gt;&gt; 1
</pre>

<p>
Note that this is 笔算乘法. No machine related.
</p>
</div>
</div>

<div id="outline-container-org9958d8e" class="outline-4">
<h4 id="org9958d8e"><span class="section-number-4">2.1.2</span> 原码的乘法操作</h4>
<div class="outline-text-4" id="text-2-1-2">
<p>
乘法分为两步走. 
</p>

<ol class="org-ol">
<li>符号位单独处理</li>
<li>计算 |X| × |Y|</li>
</ol>

<p>
设 z = |X| × |Y|, 我们有
</p>
<pre class="example">
z = (|X| × y_n) &gt;&gt; n + 
    (|X| × y_{n-1}) &gt;&gt; n-1 + ... + 
    (|X| × y_1) &gt;&gt; 1
</pre>

<p>
进行递推算法, 使用 z<sub>i</sub> 作为中间项. 计算 z<sub>0</sub> = 0 (z<sub>0</sub> is the initial number)
</p>

<pre class="example">
z1 = (z0 + y_n × |x|) &gt;&gt; 1
z2 = (z1 + y_{n-1} × |X|) &gt;&gt; 1
</pre>
<p>
以此类推, y<sub>n</sub> 最终会被位移 n 次, y<sub>n-1</sub> 会被位移 n-1 次, 以此类推! 得到 z<sub>n</sub>
即为结果. 结果还是挺妙的.
</p>

<p>
总结, 该乘法运算:
</p>
<ol class="org-ol">
<li>使用了绝对值运算</li>
<li>使用位移的次数为结束的判断条件</li>
<li>使用逻辑位移.</li>
</ol>

<p>
并且由于使用了位移, 对于 n 位乘以 m 位的乘法, 我们只需要 max{n , m}的位长来储存中间的结果. 在实际之中, 我们会将中间值 z 放在左边, 右边放着除数. 当我们进行 z 的右移的时候, 自然地, 除数也进行右移; 并且, 除数的位数越来越小, 这就使得, 当我们的除数位数变为 0 的时候, 我们的乘法就结束了. 详情请看 ppt. 对于下一节和下下节的乘法操作, ppt 上也是同样方法进行处理的.
</p>
</div>
</div>

<div id="outline-container-orgd1bf5f0" class="outline-4">
<h4 id="orgd1bf5f0"><span class="section-number-4">2.1.3</span> <span class="todo TODO">TODO</span> The multipication of yuan code</h4>
</div>

<div id="outline-container-org0d8acad" class="outline-4">
<h4 id="org0d8acad"><span class="section-number-4">2.1.4</span> 补码的乘法操作</h4>
<div class="outline-text-4" id="text-2-1-4">
<p>
直观上来看, 因为给定一个补码
</p>
<pre class="example">
y0 y1 y2 ... yn
</pre>
<p>
其真值为
</p>

<p>
\[ -y_0 + (y_1 >> 1) + (y_2 >> 2) + \dots
\]
</p>

<p>
其中 \((yi >> i)\) 简记为 \([y_i]\) .<sup><a id="fnr.1" class="footref" href="#fn.1">1</a></sup>就有
</p>

<p>
\[ X \cdot Y = X * [-y_0] + X * [y_1] + \dots + X * [y_n] +\]
</p>

<p>
But here we need to prove something like [X × Y] = [X] × Y, 就是说, we need to prove that the output of this algorithm is indeed the right answer 其结果确实为补码形式, ppt 上就有解释, 虽然跳步严重且不知所云, and apparently, is fucking wrong.
</p>
</div>
</div>

<div id="outline-container-org4555a01" class="outline-4">
<h4 id="org4555a01"><span class="section-number-4">2.1.5</span> Booth 运算法</h4>
<div class="outline-text-4" id="text-2-1-5">
<p>
Booth 法用于加速乘法运算. 原理完全类似.
</p>

<p>
推导过程省去, Booth 算法是用于简化计算的. We want to calculate the value of  \(z_{n+1-i}\), 我们 look at \(y_i - y_{i+1}\). 如果说为\(y_i - y_{i+1} = 1\) 那么 \(z_{n+1-i}\) 要加上 \(-x\) 后, 左移; 如果说, 其值为 \(y_i - y_{i+1}  = -1\) , 那么加上 \(x\) 后, 左移.
</p>

<table border="2" cellspacing="0" cellpadding="6" rules="groups" frame="hsides">


<colgroup>
<col  class="org-right" />

<col  class="org-right" />

<col  class="org-left" />
</colgroup>
<tbody>
<tr>
<td class="org-right">yi</td>
<td class="org-right">yi+1</td>
<td class="org-left">R</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">0</td>
<td class="org-left">-x</td>
</tr>

<tr>
<td class="org-right">0</td>
<td class="org-right">1</td>
<td class="org-left">x</td>
</tr>

<tr>
<td class="org-right">0</td>
<td class="org-right">0</td>
<td class="org-left">0</td>
</tr>

<tr>
<td class="org-right">1</td>
<td class="org-right">1</td>
<td class="org-left">0</td>
</tr>
</tbody>
</table>

<p>
于是我们需要 y<sub>n+1</sub> which is used to calculate the \(z_0\), 其值为 0. 
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org9baa76c" class="outline-2">
<h2 id="org9baa76c"><span class="section-number-2">3</span> 除法</h2>
<div class="outline-text-2" id="text-3">
</div>
<div id="outline-container-org70a74a3" class="outline-3">
<h3 id="org70a74a3"><span class="section-number-3">3.1</span> 笔算除法</h3>
<div class="outline-text-3" id="text-3-1">
<p>
算商的过程可以看为比较大小和减法.
</p>
</div>
</div>

<div id="outline-container-org7a3e314" class="outline-3">
<h3 id="org7a3e314"><span class="section-number-3">3.2</span> 机器除法</h3>
<div class="outline-text-3" id="text-3-2">
<p>
机器除法和乘法相反
</p>

<p>
设要计算 \(x / y\). 符号位单独处理, that is we want to calculate \(|x| / |y| \). 随后, \(|x| > |y|\) 则当前位的商为 1 否则为 0
</p>

<p>
而后余数左移 1 位. 再求下一位的商.
</p>

<p>
为了方便起见, 也是为了保证商也是一个小数, 我们最好有 |x| &lt; |y|. 于是结果也会是一个纯小数, 非常好, 不会引起误会, 于是我们第一步就是多余的了, 因为第一位永远是 0. 当然啦, 符号位之后要加上去的.
</p>
</div>

<div id="outline-container-org2112e2b" class="outline-4">
<h4 id="org2112e2b"><span class="section-number-4">3.2.1</span> 回复余数法</h4>
<div class="outline-text-4" id="text-3-2-1">
<p>
符号单独处理, 于是我们只考虑绝对值的除法. 以恢复的方式进行 x , y 绝对值的大小比较, 我们使用 y* 来当作y 的绝对值. 具体流程为四个步骤.
</p>

<ol class="org-ol">
<li><code>let x = x - y</code></li>
<li>if x &lt; 0 then 商为 0 then <b>恢复余数</b>, that is <code>let x = x + y</code></li>
<li>if x &gt; 0 then 商为 1</li>
<li>循环节结束, 商和余数左移 1 位. 回到步骤1 进行循环. 直到位移次数达到 n 次.</li>
</ol>

<p>
对于 n 位除以 m 位的除法运算, 余数的位数应该为 (不包含小数点以前的)
</p>

<p>
\[\max \{ m , n \} \]
</p>

<p>
我们也能够通过观察余数的位数来判断运算是否结束.
</p>
</div>
</div>

<div id="outline-container-orgf0bf911" class="outline-4">
<h4 id="orgf0bf911"><span class="section-number-4">3.2.2</span> 加减交替法</h4>
<div class="outline-text-4" id="text-3-2-2">
<p>
加减交替法, 实际上完全类似. 
</p>

<p>
但是我们需要知道 R 是什么. R 就是余数, 或是余数中间数. 我们
递归计算 R. R1 = 被除数 - 除数. 此处分两种情况计算下一个 R, 
也就是 R2
</p>

<p>
如果说小于零, 那么商 0
R2 = (R1 + 除数) &lt;&lt; 2 - 除数 = 2R1 + 除数. 
如果说是大于零, 商 1
R2 = 2R1 - 除数
</p>

<p>
加减交替法 in another form. Garbage. Note: 我们只要求掌握原码除法
</p>
</div>
</div>
</div>
</div>

<div id="outline-container-org7ac6cac" class="outline-2">
<h2 id="org7ac6cac"><span class="section-number-2">4</span> 浮点数运算</h2>
<div class="outline-text-2" id="text-4">
</div>
<div id="outline-container-orgc7d5f35" class="outline-3">
<h3 id="orgc7d5f35"><span class="section-number-3">4.1</span> 运算流程</h3>
<div class="outline-text-3" id="text-4-1">
<p>
第一步, 对阶. 比较阶的大小. 
阶数小的向大的阶数对齐, 阶码加一, 尾数左移.
即右规直到阶码和大阶数相等.
</p>

<p>
第二步, 进行尾数的加法
</p>

<p>
第三步, 检查溢出
尾数溢出的话, 需要进行右规
</p>

<p>
第四步, 舍入
</p>
</div>
</div>

<div id="outline-container-orge3e68ac" class="outline-3">
<h3 id="orge3e68ac"><span class="section-number-3">4.2</span> 具体流程示范</h3>
<div class="outline-text-3" id="text-4-2">
<p>
x = 0.1101 x 2 ^{01} 
y =-0.1010 x 2 ^{11}
</p>

<p>
我们有: 
[x] = 00,01; 00,1101
[y] = 00,11; 11,0110
</p>

<p>
其中使用两位符号位, 分号前面为阶码, 后面为尾数.
接下来计算 x*y
</p>

<ol class="org-ol">
<li>结束对齐</li>
</ol>
<p>
x 小阶, 需要对齐, 使用右规. 
结果为 
x = 00,11; 00,0011
</p>

<ol class="org-ol">
<li>尾数相加</li>
</ol>
<p>
00,0011 + 11,0110
= 11,1001
</p>

<p>
结果为 
00,11; 11,1001
</p>

<ol class="org-ol">
<li></li>
</ol>
<p>
检查
需要进行左规, 因为这是负数, 建议复习一下浮点数的规格化表示.
随后, 结果为
</p>

<p>
00,10; 11,0010
</p>

<ol class="org-ol">
<li>舍入</li>
</ol>
<p>
实际上 IEEE 的浮点数舍入要更复杂一些. 只不过这里没有讲. 我们
需要之后的好几位数字来进行舍入的判断. 
</p>

<p>
Note: 注意到, 我们只知道对于一位符号位的算术位移, 并不清楚两
个符号位的该怎么处理. 
我们将符号位的高位视为, 唯一的符号位对待就行. 比如说, 
10,0000
是一个中间结果, 我们要进行右移, 就有
11,0000
</p>

<p>
就是说, 如果尾数相加得到了这个结果, 我们进行一点右规, 将其修
正. 
</p>
</div>
</div>
</div>
<div id="footnotes">
<h2 class="footnotes">Footnotes: </h2>
<div id="text-footnotes">

<div class="footdef"><sup><a id="fn.1" class="footnum" href="#fnr.1">1</a></sup> <div class="footpara"><p class="footpara">
I just don't know why.</p></div></div>


</div>
</div></div>
<div id="postamble" class="status">
<p class="date">Created: 2023-06-20 Tue 17:56</p>
<p class="validation"><a href="http://validator.w3.org/check?uri=referer">Validate</a></p>
</div>
</body>
</html>