<?xml version="1.0" encoding="utf-8"?><html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/"><head>
<meta name="dcterms.conformsTo" content="PXE Basic 1.0"></meta>
<meta name="generator" content="PXE Tools version 1.39.109"></meta>
<!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.109, partial=false-->
<title>Computer Networking: A Top-Down Approach, 7/e</title><link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/sepia.css"></link><link rel="alternate stylesheet" type="text/css" title="night" href="../css/night.css"></link><link rel="stylesheet" type="text/css" title="day" href="../css/main.css"></link><link rel="stylesheet" type="text/css" title="day" href="../css/print.css"></link>
<script src="../xhtml/js/format_lg_obj.js"></script>
</head><body epub:type="bodymatter">
<section class="level1"><header><h1 class="title" epub:type="title"></h1></header><div aria-hidden="false" class="longdesc" id="la_4055104025"><p id="P700101195200000000000000000A94F" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A94F">In this illustration we see a central NAT router with a home network of three desktop computers to its right. The first computer has an IP address of 10.0.0.1; the second computer has an IP address of 10.0.0.2; and the third computer has an IP address of 10.0.0.3. The first user from the home network sends a request for a web page to the NAT router, a request that is designated as step 1. This step also includes data regarding the source and destination ports. In step 1, that information is:</p><ul class="ul_none" id="P700101195200000000000000000A950" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A950">
<li id="P700101195200000000000000000A951" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A951"><p id="P700101195200000000000000000A952" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A952">S = 10.0.0.1, 3345</p></li>
<li id="P700101195200000000000000000A953" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A953"><p id="P700101195200000000000000000A954" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A954">D = 128.119.40.186, 80</p></li>
</ul><p id="P700101195200000000000000000A955" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A955">This information is sent to the central NAT router, and the IP address for this connection is designated as 10.0.0.4. The NAT router is also associated with a NAT translation table, shown above it, and which appears like this:</p><table id="P700101195200000000000000000A956" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A956">
<tbody>
<tr>
<td colspan="2" id="P700101195200000000000000000A957" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A957">NAT translation table</td>
</tr>
<tr>
<td id="P700101195200000000000000000A958" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A958">WAN side</td>
<td id="P700101195200000000000000000A959" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A959">LAN side</td>
</tr>
<tr>
<td id="P700101195200000000000000000A95A" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A95A">138.76.29.7, 5001</td>
</tr>
<tr>
<td id="P700101195200000000000000000A95B" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A95B">...</td>
<td id="P700101195200000000000000000A95C" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A95C">10.0.0.1, 3345</td>
</tr>
<tr>
<td id="P700101195200000000000000000A95D" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A95D">...</td>
</tr>
</tbody>
</table><p id="P700101195200000000000000000A95E" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A95E">The request passes through the NAT router, which is designated as step 2. Source and destination data has changed:</p><ul class="ul_none" id="P700101195200000000000000000A95F" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A95F">
<li id="P700101195200000000000000000A960" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A960"><p id="P700101195200000000000000000A961" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A961">S = 138.76.29.7, 5001</p></li>
<li id="P700101195200000000000000000A962" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A962"><p id="P700101195200000000000000000A963" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A963">D = 128.119.40.186, 80</p></li>
</ul><p id="P700101195200000000000000000A964" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A964">The request continues to a second router and to the open Internet, and then returns. This action is designated as step 3. Source and destination information includes:</p><ul class="ul_none" id="P700101195200000000000000000A965" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A965">
<li id="P700101195200000000000000000A966" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A966"><p id="P700101195200000000000000000A967" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A967">S = 128.119.40.186, 80</p></li>
<li id="P700101195200000000000000000A968" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A968"><p id="P700101195200000000000000000A969" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A969">D = 138.76.29.7, 5001</p></li>
</ul><p id="P700101195200000000000000000A96A" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A96A">The request again passes through the NAT router, and the IP address for this connection is designated as 138.76.29.7. On the other side of NAT router, source and destination information includes:</p><ul class="ul_none" id="P700101195200000000000000000A96B" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A96B">
<li id="P700101195200000000000000000A96C" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A96C"><p id="P700101195200000000000000000A96D" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A96D">S = 128.119.40.186, 80</p></li>
<li id="P700101195200000000000000000A96E" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A96E"><p id="P700101195200000000000000000A96F" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A96F">D = 10.0.0.1, 3345</p></li>
</ul><p id="P700101195200000000000000000A970" data-uri="M04_KURO4140_07_SE_C04.xhtml#P700101195200000000000000000A970">This new data returns to the home network, which is designated as step 4.</p></div></section></body></html>