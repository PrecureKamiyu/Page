<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>6.3   Complex Attributes</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part133.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part135.htm">下一个 &gt;</a></p><p class="s65" style="padding-left: 72pt;text-indent: 0pt;text-align: left;">6.3   <span style=" color: #00AEEF;">Complex Attributes</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1386.png"/></span></p><p style="padding-top: 11pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">For each attribute, there is a set of permitted values, called the <span class="s63">domain</span>, or <span class="s63">value set</span>, of that attribute. The domain of attribute <i>course id </i>might be the set of all text strings of a certain length. Similarly, the domain of attribute <i>semester </i>might be strings from the set <span class="s95">{</span>Fall, Winter, Spring, Summer<span class="s95">}</span>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="221" height="97" alt="image" src="Image_1387.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s69" style="padding-left: 64pt;text-indent: 0pt;text-align: center;">proj_guide</p><p style="text-indent: 0pt;text-align: left;"/><p class="s99" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">ID</p><p class="s69" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 112%;text-align: left;">name tot_cred</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="padding-top: 2pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">student</p><p style="text-indent: 0pt;text-align: left;"/><p class="s99" style="padding-top: 3pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">ID</p><p class="s69" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;line-height: 112%;text-align: left;">name salary</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="padding-top: 2pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">instructor</p><p style="text-indent: 0pt;text-align: left;"/><p class="s192" style="padding-top: 1pt;padding-left: 17pt;text-indent: 0pt;text-align: left;">. . . </p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="padding-top: 1pt;padding-left: 11pt;text-indent: 0pt;text-align: left;">project</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1388.png"/></span></p><p class="s73" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Figure 6.6 <span class="s151">E-R </span><span class="s152">diagram with a ternary relationship </span><span class="s91">proj guide</span><span class="s74">.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="117" height="39" alt="image" src="Image_1389.png"/></span></p><p class="s85" style="padding-top: 4pt;padding-left: 126pt;text-indent: 0pt;text-align: left;">composite attributes</p><p class="s173" style="padding-top: 4pt;padding-left: 41pt;text-indent: 0pt;text-align: left;">name                  address</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="123" height="51" alt="image" src="Image_1390.png"/></span></p><p class="s173" style="padding-top: 4pt;padding-left: 147pt;text-indent: 0pt;text-align: left;">first_name  middle_initial  last_name      street  city  state  postal_code</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="98" height="39" alt="image" src="Image_1391.png"/></span></p><p class="s85" style="padding-top: 4pt;padding-left: 126pt;text-indent: 0pt;text-align: left;">component attributes</p><p class="s173" style="padding-top: 4pt;padding-left: 236pt;text-indent: 0pt;text-align: left;">street_number  street_name apartment_number</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s74" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: center;"><span class="s73">Figure 6.7 </span>Composite attributes instructor <span class="s91">name </span>and <span class="s91">address</span>.</p><p style="padding-top: 8pt;padding-left: 88pt;text-indent: 17pt;text-align: left;">An attribute, as used in the <span class="s44">E-R </span>model, can be characterized by the following at- tribute types.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1392.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1393.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1394.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1395.png"/></span></p><p style="padding-top: 9pt;padding-left: 107pt;text-indent: -16pt;text-align: justify;"><span class="s39">• </span><span class="s63">Simple </span>and <span class="s63">composite </span>attributes. In our examples thus far, the attributes have been <span class="s63">simple</span>; that is, they have not been divided into subparts. <span class="s63">Composite </span>attributes, on the other hand, can be divided into subparts (i.e., other attributes). For exam- ple, an attribute <i>name </i>could be structured as a composite attribute consisting of <i>ﬁrst name</i>, <i>middle initial</i>, and <i>last name</i>. Using composite attributes in a design schema is a good choice if a user will wish to refer to an entire attribute on some occasions, and to only a component of the attribute on other occasions. Suppose we were to add an address to the <i>student </i>entity-set. The address can be deﬁned as the composite attribute <i>address </i>with the attributes <i>street</i>, <i>city</i>, <i>state</i>, and <i>postal code</i>.<span class="s76">1</span> Composite attributes help us to group together related attributes, making the modeling cleaner.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1396.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1397.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1398.png"/></span></p><p style="padding-left: 107pt;text-indent: 14pt;text-align: justify;">Note also that a composite attribute may appear as a hierarchy. In the compos- ite attribute <i>address</i>, its component attribute <i>street </i>can be further divided into <i>street number</i>, <i>street name</i>, and <i>apartment number</i>. Figure 6.7 depicts these examples of composite attributes for the <i>instructor </i>entity set.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 88pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="95" height="1" alt="image" src="Image_1399.png"/></span></p><p class="s77" style="padding-top: 3pt;padding-left: 48pt;text-indent: 0pt;text-align: center;">1<span class="s78">We assume the address format used in the United States, which includes a numeric postal code called a zip code.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1400.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1401.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1402.png"/></span></p><p style="padding-top: 4pt;padding-left: 139pt;text-indent: -16pt;text-align: justify;"><span class="s39">• </span><span class="s63">Single-valued </span>and <span class="s63">multivalued </span>attributes. The attributes in our examples all have a single value for a particular entity. For instance, the <i>student </i><span class="s101">ID </span>attribute for a speciﬁc student entity refers to only one student <span class="s69">ID</span>. Such attributes are said to be <span class="s63">single valued</span>. There may be instances where an attribute has a set of values for a speciﬁc entity. Suppose we add to the <i>instructor </i>entity set a <i>phone number </i>at- tribute. An <i>instructor </i>may have zero, one, or several phone numbers, and diﬀerent instructors may have diﬀerent numbers of phones. This type of attribute is said to be <span class="s63">multivalued</span>. As another example, we could add to the <i>instructor </i>entity set an attribute <i>dependent name </i>listing all the dependents. This attribute would be multi- valued, since any particular instructor may have zero, one, or more dependents.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1403.png"/></span></p><p style="padding-top: 3pt;padding-left: 139pt;text-indent: -16pt;text-align: justify;"><span class="s39">• </span><span class="s63">Derived attributes</span>. The value for this type of attribute can be derived from the val- ues of other related attributes or entities. For instance, let us say that the <i>instructor </i>entity set has an attribute <i>students advised</i>, which represents how many students an instructor advises. We can derive the value for this attribute by counting the number of <i>student </i>entities associated with that instructor.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1404.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1405.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1406.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1407.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1408.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1409.png"/></span></p><p style="padding-left: 139pt;text-indent: 14pt;text-align: justify;">As another example, suppose that the <i>instructor </i>entity set has an attribute <i>age </i>that indicates the instructor’s age. If the <i>instructor </i>entity set also has an attribute <i>date of birth</i>, we can calculate <i>age </i>from <i>date of birth </i>and the current date. Thus, <i>age </i>is a derived attribute. In this case, <i>date of birth </i>may be referred to as a <i>base </i>attribute, or a <i>stored </i>attribute. The value of a derived attribute is not stored but is computed when required.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1410.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1411.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1412.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1413.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1414.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1415.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1416.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1417.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1418.png"/></span></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">Figure 6.8 shows how composite attributes can be represented in the <span class="s44">E-R </span>notation. Here, a composite attribute <i>name </i>with component attributes <i>ﬁrst name</i>, <i>middle initial</i>, and <i>last name </i>replaces the simple attribute <i>name </i>of <i>instructor</i>. As another example, suppose we were to add an address to the <i>instructor </i>entity set. The address can be de- ﬁned as the composite attribute <i>address </i>with the attributes <i>street</i>, <i>city</i>, <i>state</i>, and <i>postal code</i>. The attribute <i>street </i>is itself a composite attribute whose component attributes are <i>street number</i>, <i>street name</i>, and <i>apartment number</i>. The ﬁgure also illustrates a mul- tivalued attribute <i>phone number</i>, denoted by “<span class="s95">{</span><i>phone number</i><span class="s95">}</span>”, and a derived attribute <i>age</i>, depicted by “<i>age </i>( )”.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1419.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">An attribute takes a <span class="s63">null </span>value when an entity does not have a value for it. The <i>null </i>value may indicate “not applicable”— that is, the value does not exist for the entity. For example, a person who has no middle name may have the <i>middle initial </i>attribute set to <i>null</i>. <i>Null </i>can also designate that an attribute value is unknown. An unknown value may be either <i>missing </i>(the value does exist, but we do not have that information) or <i>not known </i>(we do not know whether or not the value actually exists).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1420.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">For instance, if the <i>name </i>value for a particular instructor is <i>null</i>, we assume that the value is missing, since every instructor must have a name. A null value for the <i>apartment number </i>attribute could mean that the address does not include an apartment number (not applicable), that an apartment number exists but we do not know what</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s193" style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">ID</p><p class="s91" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">name</p><p class="s91" style="padding-left: 20pt;text-indent: 0pt;text-align: left;">first_name middle_initial last_name</p><p class="s91" style="text-indent: 0pt;text-align: right;">address</p><p class="s91" style="text-indent: 0pt;text-align: right;">street</p><p class="s91" style="padding-left: 32pt;text-indent: 0pt;text-align: left;">street_number street_name apt_number</p><p class="s91" style="padding-left: 20pt;text-indent: 0pt;line-height: 106%;text-align: left;">city state zip</p><p class="s91" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">{ phone_number } date_of_birth</p><p class="s91" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">age ( )</p><p style="text-indent: 0pt;text-align: left;"/><p class="s13" style="padding-top: 3pt;padding-left: 26pt;text-indent: 0pt;text-align: left;">instructor</p><p style="text-indent: 0pt;text-align: left;"/><p class="s73" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: center;"><a name="bookmark122">Figure 6.8 </a><span class="s151">E-R </span><span class="s152">diagram with composite, multivalued, and derived attributes.</span><a name="bookmark151">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 88pt;text-indent: 0pt;text-align: justify;">it is (missing), or that we do not know whether or not an apartment number is part of the instructor’s address (unknown).</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part133.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part135.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
