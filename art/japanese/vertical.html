<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<title>Vertical</title>
		<link rel="stylesheet" href="../../style.css" type="text/css" media="screen" title="no title" charset="utf-8">
	</head>
	<script type="text/x-mathjax-config">
		MathJax.Hub.Config({
		SVG: {
			font: "Latin-Modern"
		},
		"HTML-CSS":
		{
		availableFonts : ["Latin-Modern"],
		preferredFont : "Latin-Modern",
		imageFont : null
		}
		});
	</script>
	<script type="text/javascript" async
		src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-MML-AM_SVG">
	</script>

	<body>
		<nav>
			<acode>-></acode> <a href="../../index.html">index</a> <acode>-></acode> <a href="../japanese.html">Japanese</a> <acode>-></acode> <a href="vertical.html">Vertical Formatting using TeX</a>
		</nav>

		<h1>Japanese in \(\bf\TeX\)</h1>
		<p>pTeX is invented for typesetting Japanese. And upTeX is the extended version of pTeX. Both of them may have been viewed
		as Legacy for typesetting Japanese for LuaTeX is doing a pretty good job nowadays.</p>
		<p>Before you try to formatting some Japanese yourself, you may want to check out for this article about <a href="https://www.w3.org/TR/jlreq/?lang=en">jlreq</a> (and <a href="https://github.com/abenori/jlreq" target="_blank">document on <code>jlreq</code> documentclass</a>). Basically, it tells about the standard when formatting Japanese. You may skip it since it is too long. Anyway, you need to know that there is such thing as jlreq.</p>
		<p>You may begin with a simple <code>.tex</code> file</p>
		<pre><code><!--
-->        \documentclass{jlreq}
	\begin{document}
	こんにちは。
	\end{document}</code></pre>

		<p>And compile the <code>.tex</code> file with <code>uplatex</code>. And you will get a <code>.dvi</code> file, whose name stands for "device independent", which is one of the feature of <code>.pdf</code> file, since it is designed that the same thing is displayed even on different devices and you may guess that <code>.dvi</code> plays the similar role before <code>.pdf</code> is born. Stupid Japanese use it because they can, for their devices haven't been renewed for decades. Your device already have been installed with <code>.dvi</code> reader if you have installed TeX Live. A tool <code>dvipdfmx</code> is also installed which is used to, as its name has shown, to convert <code>.dvi</code> file into a <code>.pdf</code> file. You may run <code>dvipdfmx foo.dvi</code> to get a <code>.pdf</code> file.</p>

		<p>However, things get interesting when you try to open the output file, viz., the <code>.dvi</code> file: you just can't open it, or you may be able to open it since there could be something wrong with my device. Anyway, what is happening is that <code>.dvi</code> file does not have the information of font. When <code>uplatex</code> compile the <code>.tex</code> file, it use <code>.dvi</code> file to store information including the position of the characters, but not the specific font that would be displayed. It is later that <code>dvipdfmx</code> map the font to <code>.pdf</code>. And further more, you can actually change the font not by changing the <code>.tex</code> file, but by applying an additional map together with <code>dvipdfmx</code>. </p>

		<p>Consequently, you can formatting Hanzi using upLaTeX. And there is vertical typesetting mode in upLaTeX. For <code>jlreq</code> class, just add parameter <code>tate</code> to the document class, viz., <code>\documentclass[tate]{jlreq}</code>. Thus you can formatting Hanzi vertically (after reading LdBeth's <a href="https://ldbeth.github.io/2017/03/29/uplatex/" target="_blank">article</a>). </p>
		<p>Awesome.</p>

		<p>But, it is possible that the font you need is not installed on your device. In my case, <code>.ttf</code> font is needed. If you have the similar problem, please check <a href="https://zhuanlan.zhihu.com/p/618457933" target="_blank">an article in Zhihu.</a> about how to install a true type font and make TeX Live regonize it.</p>

		<h1>Vertical display in Epub reader</h1>
		<p>It is possible that you add a little additional code to display vertically in the <code>epub</code> reader. Things are easy if you are willing to google it up.</p>
		<p>You can insert <code>-webkit-writing-mode: vertical-rl; </code> in your <code>css</code> file. </p>
	</body>
</html>
