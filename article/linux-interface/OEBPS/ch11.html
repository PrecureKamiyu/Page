<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" xmlns:epub="http://www.idpf.org/2007/ops" xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:pls="http://www.w3.org/2005/01/pronunciation-lexicon" xmlns:ssml="http://www.w3.org/2001/10/synthesis" xmlns:svg="http://www.w3.org/2000/svg"><head><title>Chapter 11. System Limits and Options</title><link rel="stylesheet" type="text/css" href="core.css"/><meta name="generator" content="DocBook XSL Stylesheets V1.76.1"/><link rel="up" href="index.html" title="The Linux Programming Interface"/><link rel="prev" href="ch10.html" title="Chapter 10. Time"/><link rel="next" href="ch12.html" title="Chapter 12. System and Process Information"/></head><body><section class="chapter" title="Chapter 11. System Limits and Options" epub:type="chapter" id="system_limits_and_options"><div class="titlepage"><div><div><h2 class="title">Chapter 11. System Limits and Options</h2></div></div></div><p>Each UNIX implementation sets limits on various system features and resources, and
            provides—or chooses not to provide—options defined in various standards. Examples
            include the following:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>How many files can a process hold open at one time?</p></li><li class="listitem"><p>Does the system support realtime signals?</p></li><li class="listitem"><p>What is the largest value that can be stored in a variable of type
                        <span class="emphasis"><em>int</em></span>?</p></li><li class="listitem"><p>How big an argument list can a program have?</p></li><li class="listitem"><p>What is the maximum length of a pathname?</p></li></ul></div><p>While we could hard-code assumed limits and options into an application, this reduces
            portability, since limits and options may vary:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p><span class="emphasis"><em>Across UNIX implementations</em></span>: Although limits and options
                    may be fixed on an individual implementation, they can vary from one UNIX
                    implementation to another. The maximum value that can be stored in an
                        <span class="emphasis"><em>int</em></span> is an example of such a limit.</p></li><li class="listitem"><p><span class="emphasis"><em>At run time on a particular implementation</em></span>: The kernel
                    may have been reconfigured to change a limit, for example. Alternatively, the
                    application may have been compiled on one system, but run on another system with
                    different limits and options.</p></li><li class="listitem"><p><span class="emphasis"><em>From one file system to another</em></span>: For example, traditional
                    System V file systems allow a filename to be up to 14 bytes, while traditional
                    BSD file systems and most native Linux file systems allow filenames of up to 255
                    bytes.</p></li></ul></div><p>Since system limits and options affect what an application may do, a portable
            application needs ways of determining limit values and whether options are supported.
            The C programming language standards and SUSv3 provide two principal avenues for an
            application to obtain such information:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Some limits and options can be determined at compile time. For example, the
                    maximum value of an <span class="emphasis"><em>int</em></span> is determined by the hardware
                    architecture and compiler design choices. Such limits can be recorded in header
                    files.</p></li><li class="listitem"><p>Other limits and options may vary at run time. For such cases, SUSv3 defines
                    three functions—<span class="emphasis"><em>sysconf()</em></span>, <span class="emphasis"><em>pathconf()</em></span>,
                    and <span class="emphasis"><em>fpathconf()</em></span>—that an application can call to check these
                    implementation limits and options.</p></li></ul></div><p>SUSv3 specifies a range of limits that a conforming implementation may enforce, as
            well as a set of options, each of which may or may not be provided by a particular
            system. We describe a few of these limits and options in this chapter, and describe
            others at relevant points in later chapters.</p><div class="sect1" title="System Limits"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="system_limits">System Limits</h2></div></div></div><p>For each limit that it specifies, SUSv3 requires that all implementations support
                a <span class="emphasis"><em>minimum value</em></span> for the limit. In most cases, this minimum
                value is defined as a constant in <code class="literal">&lt;limits.h&gt;</code> with a name prefixed by the string <code class="literal">_POSIX_</code>, and (usually) containing the string <code class="literal">_MAX</code>; thus, the form of the name is <code class="literal">_POSIX_XXX_MAX</code>.<a id="IDX-CHP-11-1472" class="indexterm"/><a id="IDX-CHP-11-1473" class="indexterm"/></p><p>If an application restricts itself to the minimum values that SUSv3 requires for
                each limit, then it will be portable to all implementations of the standard.
                However, doing so prevents an application from taking advantage of implementations
                that provide higher limits. For this reason, it is usually preferable to determine
                the limit on a particular system using <code class="literal">&lt;limits.h&gt;</code>, <span class="emphasis"><em>sysconf()</em></span>, or
                    <span class="emphasis"><em>pathconf()</em></span>.</p><div class="note" title="Note"><h3 class="title">Note</h3><p>The use of the string <code class="literal">_MAX</code> in the limit
                    names defined by SUSv3 can appear confusing, given their description as
                        <span class="emphasis"><em>minimum</em></span> values. The rationale for the names becomes
                    clear when we consider that each of these constants defines an upper limit on
                    some resource or feature, and the standards are saying that this upper limit
                    must have a certain minimum value.</p><p>In some cases, <span class="emphasis"><em>maximum values</em></span> are provided for a limit,
                    and these values have names containing the string <code class="literal">_MIN</code>. For these constants, the converse holds true: they
                    represent a lower limit on some resource, and the standards are saying that, on
                    a conforming implementation, this lower limit can be no greater than a certain
                    value. For example, the <code class="literal">FLT_MIN</code> limit
                        (<code class="literal">1E-37</code>) defines the largest value that an
                    implementation may set for the smallest floating-point number that may be
                    represented, and all conforming implementations will be able to represent
                    floating-point numbers at least this small.</p></div><p>Each limit has a <span class="emphasis"><em>name</em></span>, which corresponds to the
                    <span class="emphasis"><em>minimum value name</em></span> described above, but lacks the <code class="literal">_POSIX_</code> prefix. An implementation
                    <span class="emphasis"><em>may</em></span> define a constant with this name in <code class="literal">&lt;limits.h&gt;</code> to indicate the corresponding
                limit for this implementation. If defined, this limit will always be at least the
                size of the minimum value described above (i.e., <code class="literal">XXX_MAX
                    &gt;= _POSIX_XXX_MAX</code>).</p><p>SUSv3 divides the limits that it specifies into three categories:
                    <span class="emphasis"><em>runtime invariant values</em></span>, <span class="emphasis"><em>pathname variable
                    values</em></span>, and <span class="emphasis"><em>runtime increasable values</em></span>. In the
                following paragraphs, we describe these categories and provide some examples.</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title" id="runtime_invariant_values_open_paren"/></div></div></div><div class="sect3" title="Runtime invariant values (possibly indeterminate)"><div class="titlepage"><div><div><h4 class="title" id="runtime_invariant_values_open_paren-id1">Runtime invariant values (possibly indeterminate)</h4></div></div></div><p>A runtime invariant value is a limit whose value, if defined in <code class="literal">&lt;limits.h&gt;</code>, is fixed for the
                        implementation. However, the value may be indeterminate (perhaps because it
                        depends on available memory space), and hence omitted from <code class="literal">&lt;limits.h&gt;</code>. In this case (and
                        even if the limit is also defined in <code class="literal">&lt;limits.h&gt;</code>), an application can use
                            <span class="emphasis"><em>sysconf()</em></span> to determine the value at run
                        time.</p><p>The <code class="literal">MQ_PRIO_MAX</code> limit is an example of
                        a runtime invariant value. As noted in <a class="xref" href="ch52.html#sending_messages-id1" title="Sending Messages">Sending Messages</a>, there is a limit on the priority for messages in POSIX message queues.
                        SUSv3 defines the constant <code class="literal">_POSIX_MQ_PRIO_MAX</code>, with the value 32, as the minimum value
                        that all conforming implementations must provide for this limit. This means
                        that we can be sure that all conforming implementations will allow
                        priorities from 0 up to at least 31 for message priorities. A UNIX
                        implementation can set a higher limit than this, defining the constant
                            <code class="literal">MQ_PRIO_MAX</code> in <code class="literal">&lt;limits.h&gt;</code> with the value of its
                        limit. For example, on Linux, <code class="literal">MQ_PRIO_MAX</code>
                        is defined with the value 32,768. This value can also be determined at run
                        time using the following call:</p><a id="I_programlisting11_d1e25609"/><pre class="programlisting">lim = sysconf(_SC_MQ_PRIO_MAX);</pre></div><div class="sect3" title="Pathname variable values"><div class="titlepage"><div><div><h4 class="title" id="pathname_variable_values">Pathname variable values</h4></div></div></div><p>Pathname variable values are limits that relate to pathnames (files,
                        directories, terminals, and so on). Each limit may be constant for the
                        implementation or may vary from one file system to another. In cases where a
                        limit can vary depending on the pathname, an application can determine its
                        value using <span class="emphasis"><em>pathconf()</em></span> or
                            <span class="emphasis"><em>fpathconf()</em></span>.</p><p>The <code class="literal">NAME_MAX</code> limit is an example of a
                        pathname variable value. This limit defines the maximum size for a filename
                        on a particular file system. SUSv3 defines the constant <code class="literal">_POSIX_NAME_MAX</code>, with the value 14 (the old
                        System V file-system limit), as the minimum value that an implementation
                        must allow. An implementation may define <code class="literal">NAME_MAX</code> with a limit higher than this and/or make
                        information about a specific file system available via a call of the
                        following form:</p><a id="I_programlisting11_d1e25633"/><pre class="programlisting">lim = pathconf(directory_path, _PC_NAME_MAX)</pre><p>The <span class="emphasis"><em>directory_path</em></span> is a pathname for a directory on
                        the file system of interest.</p></div><div class="sect3" title="Runtime increasable values"><div class="titlepage"><div><div><h4 class="title" id="runtime_increasable_values">Runtime increasable values</h4></div></div></div><p>A runtime increasable value is a limit that has a fixed minimum value for
                        a particular implementation, and all systems running the implementation will
                        provide at least this minimum value. However, a specific system may increase
                        this limit at run time, and an application can find the actual value
                        supported on the system using <span class="emphasis"><em>sysconf()</em></span>.</p><p>An example of a runtime increasable value is <code class="literal">NGROUPS_MAX</code>, which defines the maximum number of simultaneous
                        supplementary group IDs for a process (<a class="xref" href="ch09.html#supplementary_group_ids" title="Supplementary Group IDs">Supplementary Group IDs</a>). SUSv3 defines the corresponding
                        minimum value, <code class="literal">_POSIX_NGROUPS_MAX</code>, with
                        the value 8. At run time, an application can retrieve the limit using the
                        call <span class="emphasis"><em>sysconf(_SC_NGROUPS_MAX)</em></span>.</p></div><div class="sect3" title="Summary of selected SUSv3 limits"><div class="titlepage"><div><div><h4 class="title" id="summary_of_selected_susv3_limits">Summary of selected SUSv3 limits</h4></div></div></div><p><a class="xref" href="ch11.html#selected_susv3_limits" title="Table 11-1. Selected SUSv3 limits">Table 11-1</a> lists a few of the SUSv3-defined
                        limits that are relevant to this book (other limits are introduced in later
                            chapters).<a id="IDX-CHP-11-1474" class="indexterm"/><a id="IDX-CHP-11-1475" class="indexterm"/><a id="IDX-CHP-11-1476" class="indexterm"/><a id="IDX-CHP-11-1477" class="indexterm"/><a id="IDX-CHP-11-1478" class="indexterm"/><a id="IDX-CHP-11-1479" class="indexterm"/><a id="IDX-CHP-11-1480" class="indexterm"/><a id="IDX-CHP-11-1481" class="indexterm"/><a id="IDX-CHP-11-1482" class="indexterm"/><a id="IDX-CHP-11-1483" class="indexterm"/><a id="IDX-CHP-11-1484" class="indexterm"/><a id="IDX-CHP-11-1485" class="indexterm"/><a id="IDX-CHP-11-1486" class="indexterm"/><a id="IDX-CHP-11-1487" class="indexterm"/><a id="IDX-CHP-11-1488" class="indexterm"/><a id="IDX-CHP-11-1489" class="indexterm"/><a id="IDX-CHP-11-1490" class="indexterm"/><a id="IDX-CHP-11-1491" class="indexterm"/><a id="IDX-CHP-11-1492" class="indexterm"/><a id="IDX-CHP-11-1493" class="indexterm"/><a id="IDX-CHP-11-1494" class="indexterm"/><a id="IDX-CHP-11-1495" class="indexterm"/><a id="IDX-CHP-11-1496" class="indexterm"/><a id="IDX-CHP-11-1497" class="indexterm"/><a id="IDX-CHP-11-1498" class="indexterm"/><a id="IDX-CHP-11-1499" class="indexterm"/><a id="IDX-CHP-11-1500" class="indexterm"/><a id="IDX-CHP-11-1501" class="indexterm"/><a id="IDX-CHP-11-1502" class="indexterm"/></p><div class="table"><a id="selected_susv3_limits"/><div class="table-title">Table 11-1. Selected SUSv3 limits</div><div class="table-contents"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="col1"/><col class="col2"/><col class="col3"/><col class="col4"/></colgroup><thead><tr><td style="text-align: left; vertical-align: bottom; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>Name of limit (<code class="literal">&lt;limits.h&gt;</code>)</p>
                                    </td><td style="text-align: left; vertical-align: bottom; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>Min. value</p>
                                    </td><td style="text-align: left; vertical-align: bottom; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p><span class="emphasis"><em>sysconf()/pathconf()</em></span> name
                                                (<code class="literal">&lt;unistd.h&gt;</code></p>
                                    </td><td style="text-align: left; vertical-align: bottom; border-bottom: 0.5pt solid ; ">
                                        <p>Description</p>
                                    </td></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">ARG_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">4096</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_ARG_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum bytes for arguments
                                            (<span class="emphasis"><em>argv</em></span>) plus environment
                                                (<span class="emphasis"><em>environ</em></span>) that can be supplied
                                            to an <span class="emphasis"><em>exec()</em></span> (<a class="xref" href="ch06.html#environment_list-id1" title="Environment List">Environment List</a> and <a class="xref" href="ch27.html#passing_the_caller_number_symble_s_envir" title="Passing the Caller’s Environment to the New Program">Passing the Caller’s Environment to the New Program</a>)</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>none</p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>none</p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_CLK_TCK</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Unit of measurement for
                                            <span class="emphasis"><em>times()</em></span></p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">LOGIN_NAME_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">9</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_LOGIN_NAME_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum size of a login name (including terminating
                                            null byte)</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">OPEN_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">20</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_OPEN_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum number of file descriptors that a process can
                                            have open at one time, and one greater than maximum
                                            usable descriptor number (<a class="xref" href="ch36.html#process_resource_limits" title="Process Resource Limits">Process Resource Limits</a>)</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">NGROUPS_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">8</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_NGROUPS_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum number of supplementary groups of which a
                                            process can be a member (<a class="xref" href="ch09.html#retrieving_and_modifying_supplementary_g" title="Retrieving and Modifying Supplementary Group IDs">Retrieving and Modifying Supplementary Group IDs</a>)</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>none</p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">1</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_PAGESIZE</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Size of a virtual memory page (<code class="literal">_SC_PAGE_SIZE</code> is a
                                            synonym)</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">RTSIG_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">8</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_RTSIG_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum number of distinct realtime signals (<a class="xref" href="ch22.html#realtime_signals" title="Realtime Signals">Realtime Signals</a>)</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">SIGQUEUE_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">32</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_SIGQUEUE_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum number of queued realtime signals (<a class="xref" href="ch22.html#realtime_signals" title="Realtime Signals">Realtime Signals</a>)</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">STREAM_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">8</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_SC_STREAM_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum number of <span class="emphasis"><em>stdio</em></span> streams
                                            that can be open at one time</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">NAME_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">14</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_PC_NAME_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum number of bytes in a filename,
                                                <span class="emphasis"><em>excluding</em></span> terminating null
                                            byte</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">PATH_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">256</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_PC_PATH_MAX</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                        <p>Maximum number of bytes in a pathname,
                                                <span class="emphasis"><em>including</em></span> terminating null
                                            byte</p>
                                    </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">PIPE_BUF</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">512</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                                        <p>
                                            <code class="literal">_PC_PIPE_BUF</code>
                                        </p>
                                    </td><td style="text-align: left; vertical-align: top; ">
                                        <p>Maximum number of bytes that can be written atomically
                                            to a pipe or FIFO (<a class="xref" href="ch44.html#overview-id11" title="Overview">Overview</a>)<a id="IDX-CHP-11-1503" class="indexterm"/></p>
                                    </td></tr></tbody></table></div></div><p>The first column of <a class="xref" href="ch11.html#selected_susv3_limits" title="Table 11-1. Selected SUSv3 limits">Table 11-1</a> gives the name
                        of the limit, which may be defined as a constant in <code class="literal">&lt;limits.h&gt;</code> to indicate the limit for a
                        particular implementation. The second column is the SUSv3-defined minimum
                        for the limit (also defined in <code class="literal">&lt;limits.h&gt;</code>). In most cases, each of the minimum
                        values is defined as a constant prefixed with the string <code class="literal">_POSIX_</code>. For example, the constant <code class="literal">_POSIX_RTSIG_MAX</code> (defined with the value 8)
                        specifies the SUSv3-required minimum corresponding to the <code class="literal">RTSIG_MAX</code> implementation constant. The third
                        column specifies the constant name that can be given at run time to
                            <span class="emphasis"><em>sysconf()</em></span> or <span class="emphasis"><em>pathconf()</em></span> in
                        order to retrieve the implementation limit. The constants beginning with
                            <code class="literal">_SC_</code> are for use with
                            <span class="emphasis"><em>sysconf()</em></span>; those beginning with <code class="literal">_PC_</code> are for use with
                            <span class="emphasis"><em>pathconf()</em></span> and
                            <span class="emphasis"><em>fpathconf()</em></span>.<a id="IDX-CHP-11-1504" class="indexterm"/></p><p>Note the following information supplementary to that shown in <a class="xref" href="ch11.html#selected_susv3_limits" title="Table 11-1. Selected SUSv3 limits">Table 11-1</a>:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>The <span class="emphasis"><em>getdtablesize()</em></span> function is an obsolete
                                alternative for determining the process file descriptor limit
                                    (<code class="literal">OPEN_MAX</code>). This function was
                                specified in SUSv2 (marked LEGACY), but was removed in
                                    SUSv3.<a id="IDX-CHP-11-1505" class="indexterm"/></p></li><li class="listitem"><p>The <span class="emphasis"><em>getpagesize()</em></span> function is an obsolete
                                alternative for determining the system page size (<code class="literal">_SC_PAGESIZE</code>). This function was
                                specified in SUSv2 (marked LEGACY), but was removed in
                                    SUSv3.<a id="IDX-CHP-11-1506" class="indexterm"/></p></li><li class="listitem"><p>The constant <code class="literal">FOPEN_MAX</code>, defined
                                in <code class="literal">&lt;stdio.h&gt;</code>, is
                                synonymous with <code class="literal">STREAM_MAX</code>.</p></li><li class="listitem"><p><code class="literal">NAME_MAX</code> excludes the
                                terminating null byte, while <code class="literal">PATH_MAX</code> includes it. This inconsistency repairs an
                                earlier inconsistency in the POSIX.1 standard that left it unclear
                                whether <code class="literal">PATH_MAX</code> included the
                                terminating null byte. Defining <code class="literal">PATH_MAX</code> to include the terminator means that
                                applications that allocated just <code class="literal">PATH_MAX</code> bytes for a pathname will still conform to
                                the standard.</p></li></ul></div></div><div class="sect3" title="Determining limits and options from the shell: getconf"><div class="titlepage"><div><div><h4 class="title" id="determining_limits_and_options_from_the">Determining limits and options from the shell:
                            <span class="emphasis"><em>getconf</em></span></h4></div></div></div><p>From the shell, we can use the <span class="emphasis"><em>getconf</em></span> command to
                        obtain the limits and options implemented by a particular UNIX
                        implementation. The general form of this command is as follows:<a id="IDX-CHP-11-1507" class="indexterm"/><a id="IDX-CHP-11-1508" class="indexterm"/><a id="IDX-CHP-11-1509" class="indexterm"/><a id="IDX-CHP-11-1510" class="indexterm"/><a id="IDX-CHP-11-1511" class="indexterm"/><a id="IDX-CHP-11-1512" class="indexterm"/><a id="IDX-CHP-11-1513" class="indexterm"/><a id="IDX-CHP-11-1514" class="indexterm"/><a id="IDX-CHP-11-1515" class="indexterm"/><a id="IDX-CHP-11-1516" class="indexterm"/></p><a id="I_programlisting11_d1e26241"/><pre class="programlisting">$ <strong class="userinput"><code>getconf</code></strong> <strong class="userinput"><code><em class="replaceable"><code>variable-name</code></em></code></strong> [ <strong class="userinput"><code><em class="replaceable"><code>pathname</code></em></code></strong> ]</pre><p>The <span class="emphasis"><em>variable-name</em></span> identifies the limit of interest
                        and is one of the SUSV3 standard limit names, such as <code class="literal">ARG_MAX</code> or <code class="literal">NAME_MAX</code>. Where the limit relates to a pathname, we must
                        specify a pathname as the second argument to the command, as in the second
                        of the following examples.</p><a id="I_programlisting11_d1e26265"/><pre class="programlisting">$ <strong class="userinput"><code>getconf ARG_MAX</code></strong>
131072
$ <strong class="userinput"><code>getconf NAME_MAX /boot</code></strong>
255</pre></div></div></div><div class="sect1" title="Retrieving System Limits (and Options) at Run Time"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="retrieving_system_limits_open_parenthesi">Retrieving System Limits (and Options) at Run Time</h2></div></div></div><p>The <span class="emphasis"><em>sysconf()</em></span> function allows an application to obtain the
                values of system limits at run time.<a id="IDX-CHP-11-1517" class="indexterm"/><a id="IDX-CHP-11-1518" class="indexterm"/><a id="IDX-CHP-11-1519" class="indexterm"/></p><a id="I_programlisting11_d1e26297"/><pre class="programlisting">#include &lt;unistd.h&gt;

long <strong class="userinput"><code>sysconf</code></strong>(int <span class="emphasis"><em>name</em></span>);</pre><div class="note" title="Note"><h3 class="title">Note</h3><p>Returns value of limit specified by <span class="emphasis"><em>name</em></span>, or -1 if limit
                    is indeterminate or an error occurred</p></div><p>The <span class="emphasis"><em>name</em></span> argument is one of the <code class="literal">_SC_*</code> constants defined in <code class="literal">&lt;unistd.h&gt;</code>, some of which are listed in <a class="xref" href="ch11.html#selected_susv3_limits" title="Table 11-1. Selected SUSv3 limits">Table 11-1</a>. The value of the limit is returned as the
                function result.</p><p>If a limit can’t be determined, <span class="emphasis"><em>sysconf()</em></span> returns -1. It may
                also return -1 if an error occurred. (The only specified error is <code class="literal">EINVAL</code>, indicating that <span class="emphasis"><em>name</em></span> is
                not valid.) To distinguish the case of an indeterminate limit from an error, we must
                set <span class="emphasis"><em>errno</em></span> to 0 before the call; if the call returns -1 and
                    <span class="emphasis"><em>errno</em></span> is set after the call, then an error occurred.</p><div class="note" title="Note"><h3 class="title">Note</h3><p>The limit values returned by <span class="emphasis"><em>sysconf()</em></span> (as well as
                        <span class="emphasis"><em>pathconf()</em></span> and <span class="emphasis"><em>fpathconf()</em></span>) are
                    always (<span class="emphasis"><em>long</em></span>) integers. In the rationale text for
                        <span class="emphasis"><em>sysconf()</em></span>, SUSv3 notes that strings were considered as
                    possible return values, but were rejected because of the complexity of
                    implementation and use.</p></div><p><a class="xref" href="ch11.html#using_sysconf_open_parenthesis_close_par" title="Example 11-1. Using sysconf()">Example 11-1</a> demonstrates the use of
                    <span class="emphasis"><em>sysconf()</em></span> to display various system limits. Running this
                program on one Linux 2.6.31/x86-32 system yields the following:</p><a id="I_programlisting11_d1e26365"/><pre class="programlisting">$ <strong class="userinput"><code>./t_sysconf</code></strong>
_SC_ARG_MAX:         2097152
_SC_LOGIN_NAME_MAX:  256
_SC_OPEN_MAX:        1024
_SC_NGROUPS_MAX:     65536
_SC_PAGESIZE:        4096
_SC_RTSIG_MAX:       32</pre><div class="example"><a id="using_sysconf_open_parenthesis_close_par"/><div class="example-title">Example 11-1. Using <span class="emphasis"><em>sysconf()</em></span></div><div class="example-contents"><pre class="programlisting"><strong class="userinput"><code>syslim/t_sysconf.c</code></strong>
#include "tlpi_hdr.h"

static void             /* Print 'msg' plus sysconf() value for 'name' */
sysconfPrint(const char *msg, int name)
{
    long lim;

    errno = 0;
    lim = sysconf(name);
    if (lim != -1) {        /* Call succeeded, limit determinate */
        printf("%s %ld\n", msg, lim);
    } else {
        if (errno == 0)     /* Call succeeded, limit indeterminate */
            printf("%s (indeterminate)\n", msg);
        else                /* Call failed */
            errExit("sysconf %s", msg);
    }
}

int
main(int argc, char *argv[])
{
    sysconfPrint("_SC_ARG_MAX:        ", _SC_ARG_MAX);
    sysconfPrint("_SC_LOGIN_NAME_MAX: ", _SC_LOGIN_NAME_MAX);
    sysconfPrint("_SC_OPEN_MAX:       ", _SC_OPEN_MAX);
    sysconfPrint("_SC_NGROUPS_MAX:    ", _SC_NGROUPS_MAX);
    sysconfPrint("_SC_PAGESIZE:       ", _SC_PAGESIZE);
    sysconfPrint("_SC_RTSIG_MAX:      ", _SC_RTSIG_MAX);
    exit(EXIT_SUCCESS);
}
      <strong class="userinput"><code>syslim/t_sysconf.c</code></strong></pre></div></div><p>SUSv3 requires that the value returned by <span class="emphasis"><em>sysconf()</em></span> for a
                particular limit be constant for the lifetime of the calling process. For example,
                we can assume that the value returned for <code class="literal">_SC_PAGESIZE</code> won’t change while a process is running.</p><div class="note" title="Note"><h3 class="title">Note</h3><p>On Linux, there are some (sensible) exceptions to the statement that limit
                    values are constant for the life of a process. A process can use
                        <span class="emphasis"><em>setrlimit()</em></span> (<a class="xref" href="ch36.html#process_resource_limits" title="Process Resource Limits">Process Resource Limits</a>)
                    to change various process resource limits that affect limit values reported by
                        <span class="emphasis"><em>sysconf()</em></span>: <code class="literal">RLIMIT_NOFILE</code>, which determines the number of files the process
                    may open (<code class="literal">_SC_OPEN_MAX</code>); <code class="literal">RLIMIT_NPROC</code> (a resource limit not actually
                    specified in SUSv3), which is the per-user limit on the number of processes that
                    may created by this process (<code class="literal">_SC_CHILD_MAX</code>);
                    and <code class="literal">RLIMIT_STACK</code>, which, since Linux 2.6.23,
                    determines the limit on the space allowed for the process’s command-line
                    arguments and environment (<code class="literal">_SC_ARG_MAX</code>; see
                    the <span class="emphasis"><em>execve(2)</em></span> manual page for details).</p></div></div><div class="sect1" title="Retrieving File-Related Limits (and Options) at Run Time"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="retrieving_file-related_limits_open_pare">Retrieving File-Related Limits (and Options) at Run Time</h2></div></div></div><p>The <span class="emphasis"><em>pathconf()</em></span> and <span class="emphasis"><em>fpathconf()</em></span> functions
                allow an application to obtain the values of file-related limits at run
                    time.<a id="IDX-CHP-11-1520" class="indexterm"/><a id="IDX-CHP-11-1521" class="indexterm"/><a id="IDX-CHP-11-1522" class="indexterm"/><a id="IDX-CHP-11-1523" class="indexterm"/><a id="IDX-CHP-11-1524" class="indexterm"/><a id="IDX-CHP-11-1525" class="indexterm"/><a id="IDX-CHP-11-1526" class="indexterm"/><a id="IDX-CHP-11-1527" class="indexterm"/><a id="IDX-CHP-11-1528" class="indexterm"/><a id="IDX-CHP-11-1529" class="indexterm"/><a id="IDX-CHP-11-1530" class="indexterm"/><a id="IDX-CHP-11-1531" class="indexterm"/></p><a id="I_programlisting11_d1e26501"/><pre class="programlisting">#include &lt;unistd.h&gt;

long <strong class="userinput"><code>pathconf</code></strong>(const char *<span class="emphasis"><em>pathname</em></span>, int <span class="emphasis"><em>name</em></span>);
long <strong class="userinput"><code>fpathconf</code></strong>(int <span class="emphasis"><em>fd</em></span>, int <span class="emphasis"><em>name</em></span>);</pre><div class="note" title="Note"><h3 class="title">Note</h3><p>Both return value of limit specified by <span class="emphasis"><em>name</em></span>, or -1 if
                    limit is indeterminate or an error occurred</p></div><p>The only difference between <span class="emphasis"><em>pathconf()</em></span> and
                    <span class="emphasis"><em>fpathconf()</em></span> is the manner in which a file or directory is
                specified. For <span class="emphasis"><em>pathconf()</em></span>, specification is by pathname; for
                    <span class="emphasis"><em>fpathconf()</em></span>, specification is via a (previously opened)
                file descriptor.</p><p>The <span class="emphasis"><em>name</em></span> argument is one of the <code class="literal">_PC_*</code> constants defined in <code class="literal">&lt;unistd.h&gt;</code>, some of which are listed in <a class="xref" href="ch11.html#selected_susv3_limits" title="Table 11-1. Selected SUSv3 limits">Table 11-1</a>. <a class="xref" href="ch11.html#details_of_selected_pathconf_open_parent" title="Table 11-2. Details of selected pathconf() _PC_* names">Table 11-2</a> provides some further
                details about the <code class="literal">_PC_*</code> constants that were shown
                in <a class="xref" href="ch11.html#selected_susv3_limits" title="Table 11-1. Selected SUSv3 limits">Table 11-1</a>.</p><p>The value of the limit is returned as the function result. We can distinguish
                between an indeterminate return and an error return in the same manner as for
                    <span class="emphasis"><em>sysconf()</em></span>.</p><p>Unlike <span class="emphasis"><em>sysconf()</em></span>, SUSv3 doesn’t require that the values
                returned by <span class="emphasis"><em>pathconf()</em></span> and <span class="emphasis"><em>fpathconf()</em></span>
                remain constant over the lifetime of a process, since, for example, a file system
                may be dismounted and remounted with different characteristics while a process is
                running.</p><div class="table"><a id="details_of_selected_pathconf_open_parent"/><div class="table-title">Table 11-2. Details of selected <span class="emphasis"><em>pathconf()</em></span>
                    <code class="literal">_PC_*</code> names</div><div class="table-contents"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="col1"/><col class="col2"/></colgroup><thead><tr><td style="text-align: left; vertical-align: bottom; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>Constant</p>
                            </td><td style="text-align: left; vertical-align: bottom; border-bottom: 0.5pt solid ; ">
                                <p>Notes</p>
                            </td></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_PC_NAME_MAX</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                <p>For a directory, this yields a value for files in the
                                    directory. Behavior for other file types is unspecified.</p>
                            </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_PC_PATH_MAX</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                <p>For a directory, this yields the maximum length for a relative
                                    pathname from this directory. Behavior for other file types is
                                    unspecified.</p>
                            </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_PC_PIPE_BUF</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; ">
                                <p>For a FIFO or a pipe, this yields a value that applies to the
                                    referenced file. For a directory, the value applies to a FIFO
                                    created in that directory. Behavior for other file types is
                                    unspecified.</p>
                            </td></tr></tbody></table></div></div><p><a class="xref" href="ch11.html#using_fpathconf_open_parenthesis_close_p" title="Example 11-2. Using fpathconf()">Example 11-2</a> shows the use of
                    <span class="emphasis"><em>fpathconf()</em></span> to retrieve various limits for the file
                referred to by its standard input. When we run this program specifying standard
                input as a directory on an <span class="emphasis"><em>ext2</em></span> file system, we see the
                following:</p><a id="I_programlisting11_d1e26633"/><pre class="programlisting">$ <strong class="userinput"><code>./t_fpathconf &lt; .</code></strong>
_PC_NAME_MAX:  255
_PC_PATH_MAX:  4096
_PC_PIPE_BUF:  4096</pre><div class="example"><a id="using_fpathconf_open_parenthesis_close_p"/><div class="example-title">Example 11-2. Using <span class="emphasis"><em>fpathconf()</em></span></div><div class="example-contents"><pre class="programlisting"><strong class="userinput"><code>syslim/t_fpathconf.c</code></strong>
#include "tlpi_hdr.h"

static void             /* Print 'msg' plus value of fpathconf(fd, name) */
fpathconfPrint(const char *msg, int fd, int name)
{
    long lim;

    errno = 0;
    lim = fpathconf(fd, name);
    if (lim != -1) {        /* Call succeeded, limit determinate */
        printf("%s %ld\n", msg, lim);
    } else {
        if (errno == 0)     /* Call succeeded, limit indeterminate */
            printf("%s (indeterminate)\n", msg);
        else                /* Call failed */
            errExit("fpathconf %s", msg);
    }
}

int
main(int argc, char *argv[])
{
    fpathconfPrint("_PC_NAME_MAX: ", STDIN_FILENO, _PC_NAME_MAX);
    fpathconfPrint("_PC_PATH_MAX: ", STDIN_FILENO, _PC_PATH_MAX);
    fpathconfPrint("_PC_PIPE_BUF: ", STDIN_FILENO, _PC_PIPE_BUF);
    exit(EXIT_SUCCESS);
}
     <strong class="userinput"><code>syslim/t_fpathconf.c</code></strong></pre></div></div></div><div class="sect1" title="Indeterminate Limits"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="indeterminate_limits">Indeterminate Limits</h2></div></div></div><p>On occasion, we may find that some system limit is not defined by an
                implementation limit constant (e.g., <code class="literal">PATH_MAX</code>),
                and that <span class="emphasis"><em>sysconf()</em></span> or <span class="emphasis"><em>pathconf()</em></span> informs
                us that the limit (e.g., <code class="literal">_PC_PATH_MAX</code>) is
                indeterminate. In this case, we can employ one of the following strategies:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>When writing an application to be portable across multiple UNIX
                        implementations, we could elect to use the minimum limit value specified by
                        SUSv3. These are the constants with names of the form <code class="literal">_POSIX_*_MAX</code>, described in Section 11.1.
                        Sometimes, this approach may not be viable because the limit is
                        unrealistically low, as in the cases of <code class="literal">_POSIX_PATH_MAX</code> and <code class="literal">_POSIX_OPEN_MAX</code>.</p></li><li class="listitem"><p>In some cases, a practical solution may be to ignore the checking of
                        limits, and instead perform the relevant system or library function call.
                        (Similar arguments can also apply with respect to some of the SUSv3 options
                        described in Section 11.5.) If the call fails and <span class="emphasis"><em>errno</em></span>
                        indicates that the error occurred because some system limit was exceeded,
                        then we can try again, modifying the application behavior as necessary. For
                        example, most UNIX implementations impose a limit on the number of realtime
                        signals that can be queued to a process. Once this limit is reached,
                        attempts to send further signals (using <span class="emphasis"><em>sigqueue()</em></span>)
                        fail with the error <code class="literal">EAGAIN</code>. In this case,
                        the sending process could simply retry, perhaps after some delay interval.
                        Similarly, attempting to open a file whose name is too long yields the error
                            <code class="literal">ENAMETOOLONG</code>, and an application
                        could deal with this by trying again with a shorter name.</p></li><li class="listitem"><p>We can write our own program or function to either deduce or estimate the
                        limit. In each case, the relevant <span class="emphasis"><em>sysconf()</em></span> or
                            <span class="emphasis"><em>pathconf()</em></span> call is made, and if this limit is
                        indeterminate, the function returns a “good guess” value. While not perfect,
                        such a solution is often viable in practice.</p></li><li class="listitem"><p>We can employ a tool such as GNU <span class="emphasis"><em>Autoconf</em></span>, an
                        extensible tool that can determine the existence and settings of various
                        system features and limits. The Autoconf program produces header files based
                        on the information it determines, and these files can then be included in C
                        programs. Further information about Autoconf can be found at <a class="ulink" href="http://www.gnu.org/software/autoconf/" target="_top">http://www.gnu.org/software/autoconf/</a>.</p></li></ul></div></div><div class="sect1" title="System Options"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="system_options">System Options</h2></div></div></div><p>As well as specifying limits for various system resources, SUSv3 also specifies
                various options that a UNIX implementation may support. These include support for
                features such as realtime signals, POSIX shared memory, job control, and POSIX
                threads. With a few exceptions, implementations are not required to support these
                options. Instead, SUSv3 allows an implementation to advise—at both compile time and
                run time—whether it supports a particular feature.<a id="IDX-CHP-11-1532" class="indexterm"/><a id="IDX-CHP-11-1533" class="indexterm"/><a id="IDX-CHP-11-1534" class="indexterm"/></p><p>An implementation can advertise support for a particular SUSv3 option at compile
                time by defining a corresponding constant in <code class="literal">&lt;unistd.h&gt;</code>. Each such constant starts with a prefix
                that indicates the standard from which it originates (e.g., <code class="literal">_POSIX_</code> or <code class="literal">_XOPEN_</code>).</p><p>Each option constant, if defined, has one of the following values:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>A value of -1 means that <span class="emphasis"><em>the option is not supported</em></span>.
                        In this case, header files, data types, and function interfaces associated
                        with the option need not be defined by the implementation. We may need to
                        handle this possibility by conditional compilation using <code class="literal">#if</code> preprocessor directives.</p></li><li class="listitem"><p>A value of 0 means that <span class="emphasis"><em>the option may be supported</em></span>.
                        An application must check at run time to see whether the option is
                        supported.</p></li><li class="listitem"><p>A value greater than 0 means that <span class="emphasis"><em>the option is
                            supported</em></span>. All header files, data types, and function
                        interfaces associated with this option are defined and behave as specified.
                        In many cases, SUSv3 requires that this positive value be <code class="literal">200112L</code>, a constant corresponding to the year
                        and month number in which SUSv3 was approved as a standard. (The analogous
                        value for SUSv4 is <code class="literal">200809L</code>.)</p></li></ul></div><p>Where a constant is defined with the value 0, an application can use the
                    <span class="emphasis"><em>sysconf()</em></span> and <span class="emphasis"><em>pathconf()</em></span> (or
                    <span class="emphasis"><em>fpathconf()</em></span>) functions to check at run time whether the
                option is supported. The <span class="emphasis"><em>name</em></span> arguments passed to these
                functions generally have the same form as the corresponding compile-time constants,
                but with the prefix replaced by <code class="literal">_SC_</code> or <code class="literal">_PC_</code>. The implementation must provide at least the
                header files, constants, and function interfaces necessary to perform the run-time
                check.</p><div class="note" title="Note"><h3 class="title">Note</h3><p>SUSv3 is unclear on whether an undefined option constant has the same meaning
                    as defining the constant with the value 0 (“the option may be supported”) or
                    with the value -1 (“the option is not supported”). The standards committee
                    subsequently resolved that this case should mean the same as defining the
                    constant with the value -1, and SUSv4 states this explicitly.</p></div><p><a class="xref" href="ch11.html#selected_susv3_options" title="Table 11-3. Selected SUSv3 options">Table 11-3</a> lists some of the options specified in
                SUSv3. The first column of the table gives the name of the associated compile-time
                constant for the option (defined in <code class="literal">&lt;unistd.h&gt;</code>), as well as the corresponding
                    <span class="emphasis"><em>sysconf()</em></span> (<code class="literal">_SC_*</code>) or
                    <span class="emphasis"><em>pathconf()</em></span> (<code class="literal">_PC_*</code>)
                    <span class="emphasis"><em>name</em></span> argument. Note the following points regarding specific
                options:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>Certain options are required by SUSv3; that is, the compile-time constant
                        always evaluates to a value greater than 0. Historically, these options were
                        truly optional, but nowadays they are not. These options are marked with the
                        character <code class="literal">+</code> in the
                            <span class="emphasis"><em>Notes</em></span> column. (In SUSv4, a range of options that
                        were optional in SUSv3 become mandatory.)</p><div class="note" title="Note"><h3 class="title">Note</h3><p>Although such options are required by SUSv3, some UNIX systems may
                            nevertheless be installed in a nonconforming configuration. Thus, for
                            portable applications, it may be worth checking whether an option that
                            affects the application is supported, regardless of whether the standard
                            requires that option.</p></div></li><li class="listitem"><p>For certain options, the compile-time constant must have a value other
                        than -1. In other words, either the option must be supported or support at
                        run time must be checkable. These options are marked with the character
                            <code class="literal">*</code> in the <span class="emphasis"><em>Notes</em></span>
                        column.</p></li></ul></div><div class="table"><a id="selected_susv3_options"/><div class="table-title">Table 11-3. Selected SUSv3 options</div><div class="table-contents"><table style="border-collapse: collapse; border-top: 0.5pt solid ; border-bottom: 0.5pt solid ; border-left: 0.5pt solid ; border-right: 0.5pt solid ; "><colgroup><col class="col1"/><col class="col2"/><col class="col3"/></colgroup><thead><tr><td style="text-align: left; vertical-align: bottom; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>Option (constant) name (<span class="emphasis"><em>sysconf()</em></span> /
                                        <span class="emphasis"><em>pathconf()</em></span> name)</p>
                            </td><td style="text-align: left; vertical-align: bottom; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>Description</p>
                            </td><td style="text-align: left; vertical-align: bottom; border-bottom: 0.5pt solid ; ">
                                <p>Notes</p>
                            </td></tr></thead><tbody><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_ASYNCHRONOUS_IO
                                        (_SC_ASYNCHRONOUS_IO)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <span class="emphasis"><em>Asynchronous I/O</em></span>
                                </p>
                            </td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_CHOWN_RESTRICTED
                                        (_PC_CHOWN_RESTRICTED)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>Only privileged processes can use <span class="emphasis"><em>chown()</em></span>
                                    and <span class="emphasis"><em>fchown()</em></span> to change the user ID and
                                    group ID of a file to arbitrary values (<a class="xref" href="ch15.html#changing_file_ownership_colon_chown_open" title="Changing File Ownership: chown(), fchown(), and lchown()">Changing File Ownership: <span class="emphasis"><em>chown()</em></span>,
                        <span class="emphasis"><em>fchown()</em></span>, and <span class="emphasis"><em>lchown()</em></span></a>)<a id="IDX-CHP-11-1535" class="indexterm"/><a id="IDX-CHP-11-1536" class="indexterm"/></p>
                            </td><td style="text-align: center; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">*</code>
                                </p>
                            </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_JOB_CONTROL
                                        (_SC_JOB_CONTROL)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p><span class="emphasis"><em>Job Control</em></span> (<a class="xref" href="ch34.html#job_control" title="Job Control">Job Control</a>)</p>
                            </td><td style="text-align: center; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">+</code>
                                </p>
                            </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_MESSAGE_PASSING
                                        (_SC_MESSAGE_PASSING)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p><span class="emphasis"><em>POSIX Message Queues</em></span> (<a class="xref" href="ch52.html" title="Chapter 52. POSIX Message Queues">Chapter 52</a>)</p>
                            </td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_PRIORITY_SCHEDULING
                                        (_SC_PRIORITY_SCHEDULING)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p><span class="emphasis"><em>Process Scheduling</em></span> (<a class="xref" href="ch35.html#realtime_process_scheduling_api" title="Realtime Process Scheduling API">Realtime Process Scheduling API</a>)</p>
                            </td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_REALTIME_SIGNALS
                                        (_SC_REALTIME_SIGNALS)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p><span class="emphasis"><em>Realtime Signals Extension</em></span> (<a class="xref" href="ch22.html#realtime_signals" title="Realtime Signals">Realtime Signals</a>)</p>
                            </td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p><code class="literal">_POSIX_SAVED_IDS</code>
                                    (none)</p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>Processes have saved set-user-IDs and saved set-group-IDs
                                        (<a class="xref" href="ch09.html#saved_set-user-id_and_saved_set-group-id" title="Saved Set-User-ID and Saved Set-Group-ID">Saved Set-User-ID and Saved Set-Group-ID</a>)</p>
                            </td><td style="text-align: center; vertical-align: top; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">+</code>
                                </p>
                            </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_SEMAPHORES
                                        (_SC_SEMAPHORES)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p><span class="emphasis"><em>POSIX Semaphores</em></span> (<a class="xref" href="ch53.html" title="Chapter 53. POSIX Semaphores">Chapter 53</a>)</p>
                            </td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_SHARED_MEMORY_OBJECTS
                                        (_SC_SHARED_MEMORY_OBJECTS)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p><span class="emphasis"><em>POSIX Shared Memory Objects</em></span>(<a class="xref" href="ch54.html" title="Chapter 54. POSIX Shared Memory">Chapter 54</a>)</p>
                            </td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <code class="literal">_POSIX_THREADS (_SC_THREADS)</code>
                                </p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; border-bottom: 0.5pt solid ; ">
                                <p>
                                    <span class="emphasis"><em>POSIX Threads</em></span>
                                </p>
                            </td><td style="border-bottom: 0.5pt solid ; "> </td></tr><tr><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                                <p><code class="literal">_XOPEN_UNIX</code> (<code class="literal">_SC_XOPEN_UNIX</code>)</p>
                            </td><td style="text-align: left; vertical-align: top; border-right: 0.5pt solid ; ">
                                <p>The XSI extension is supported (<a class="xref" href="ch01.html#susv3_and_posix.1-2001" title="SUSv3 and POSIX.1-2001">SUSv3 and POSIX.1-2001</a>)<a id="IDX-CHP-11-1537" class="indexterm"/></p>
                            </td><td> </td></tr></tbody></table></div></div></div><div class="sect1" title="Summary"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="summary-id10">Summary</h2></div></div></div><p>SUSv3 specifies limits that an implementation may enforce and system options that
                an implementation may support.<a id="IDX-CHP-11-1538" class="indexterm"/><a id="IDX-CHP-11-1539" class="indexterm"/><a id="IDX-CHP-11-1540" class="indexterm"/><a id="IDX-CHP-11-1541" class="indexterm"/><a id="IDX-CHP-11-1542" class="indexterm"/><a id="IDX-CHP-11-1543" class="indexterm"/><a id="IDX-CHP-11-1544" class="indexterm"/><a id="IDX-CHP-11-1545" class="indexterm"/><a id="IDX-CHP-11-1546" class="indexterm"/><a id="IDX-CHP-11-1547" class="indexterm"/><a id="IDX-CHP-11-1548" class="indexterm"/><a id="IDX-CHP-11-1549" class="indexterm"/><a id="IDX-CHP-11-1550" class="indexterm"/><a id="IDX-CHP-11-1551" class="indexterm"/><a id="IDX-CHP-11-1552" class="indexterm"/><a id="IDX-CHP-11-1553" class="indexterm"/><a id="IDX-CHP-11-1554" class="indexterm"/><a id="IDX-CHP-11-1555" class="indexterm"/><a id="IDX-CHP-11-1556" class="indexterm"/><a id="IDX-CHP-11-1557" class="indexterm"/><a id="IDX-CHP-11-1558" class="indexterm"/></p><p>Often, it is desirable not to hard-code assumptions about system limits and
                options into a program, since these may vary across implementations and also on a
                single implementation, either at run time or across file systems. Therefore, SUSv3
                specifies methods by which an implementation can advertise the limits and options it
                supports. For most limits, SUSv3 specifies a minimum value that all implementations
                must support. Additionally, each implementation can advertise its
                implementation-specific limits and options at compile time (via a constant
                definition in <code class="literal">&lt;limits.h&gt;</code> or
                    <code class="literal">&lt;unistd.h&gt;</code>) and/or run time
                (via a call to <span class="emphasis"><em>sysconf()</em></span>, <span class="emphasis"><em>pathconf()</em></span>, or
                    <span class="emphasis"><em>fpathconf()</em></span>). These techniques may similarly be used to
                find out which SUSv3 options an implementation supports. In some cases, it may not
                be possible to determine a particular limit using either of these methods. For such
                indeterminate limits, we must resort to ad hoc techniques to determine the limit to
                which an application should adhere.</p><div class="sect2"><div class="titlepage"><div><div><h3 class="title" id="further_information-id7"/></div></div></div><div class="sect3" title="Further information"><div class="titlepage"><div><div><h4 class="title" id="further_information-id8">Further information</h4></div></div></div><p><a class="xref" href="ch02.html" title="Chapter 2. Fundamental Concepts">Chapter 2</a> of [Stevens &amp; Rago, 2005]
                        and <a class="xref" href="ch02.html" title="Chapter 2. Fundamental Concepts">Chapter 2</a> of [Gallmeister, 1995] cover
                        similar ground to this chapter. [Lewine, 1991] also provides much useful
                        (although now slightly outdated) background. Some information about POSIX
                        options with notes on <span class="emphasis"><em>glibc</em></span> and Linux details can be
                        found at <a class="ulink" href="http://people.redhat.com/drepper/posix-option-groups.html" target="_top">http://people.redhat.com/drepper/posix-option-groups.html</a>. The
                        following Linux manual pages are also relevant:
                            <span class="emphasis"><em>sysconf(3)</em></span>, <span class="emphasis"><em>pathconf(3)</em></span>,
                            <span class="emphasis"><em>feature_test_macros(7)</em></span>,
                            <span class="emphasis"><em>posixoptions(7)</em></span>, and
                            <span class="emphasis"><em>standards(7)</em></span>.</p><p>The best sources of information (though sometimes difficult reading) are
                        the relevant parts of SUSv3, particularly <a class="xref" href="ch02.html" title="Chapter 2. Fundamental Concepts">Chapter 2</a> from the Base Definitions (XBD), and
                        the specifications for <span class="emphasis"><em>&lt;unistd.h&gt;</em></span>,
                            <span class="emphasis"><em>&lt;limits.h&gt;</em></span>,
                            <span class="emphasis"><em>sysconf()</em></span>, and <span class="emphasis"><em>fpathconf()</em></span>.
                        [Josey, 2004] provides guidance on the use of SUSv3.</p></div></div></div><div class="sect1" title="Exercises"><div class="titlepage"><div><div><h2 class="title" style="clear: both" id="exercises-id7">Exercises</h2></div></div></div><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>Try running the program in <a class="xref" href="ch11.html#using_sysconf_open_parenthesis_close_par" title="Example 11-1. Using sysconf()">Example 11-1</a> on other UNIX
                        implementations if you have access to them.<a id="IDX-CHP-11-1559" class="indexterm"/><a id="IDX-CHP-11-1560" class="indexterm"/><a id="IDX-CHP-11-1561" class="indexterm"/><a id="IDX-CHP-11-1562" class="indexterm"/></p></li><li class="listitem"><p>Try running the program in <a class="xref" href="ch11.html#using_fpathconf_open_parenthesis_close_p" title="Example 11-2. Using fpathconf()">Example 11-2</a> on other file
                        systems.</p></li></ol></div></div></section></body></html>
