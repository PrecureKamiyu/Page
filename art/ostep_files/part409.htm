<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>RAID-5 Analysis</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part408.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part410.htm">下一个 &gt;</a></p><p class="s32" style="padding-top: 8pt;padding-left: 68pt;text-indent: 0pt;text-align: justify;">RAID-5 Analysis</p><p style="padding-top: 6pt;padding-left: 68pt;text-indent: 0pt;line-height: 89%;text-align: justify;">Much of the analysis for RAID-5 is identical to RAID-4. For example, the effective capacity and failure tolerance of the two levels are identical. So are sequential read and write performance. The latency of a single request (whether a read or a write) is also the same as RAID-4.</p><p style="padding-left: 68pt;text-indent: 12pt;line-height: 89%;text-align: justify;">Random read performance is a little better, because we can utilize all of the disks. Finally, random write performance improves noticeably over RAID-4, as it allows for parallelism across requests. Imagine a write to block 1 and a write to block 10; this will turn into requests to disk 1 and disk 4 (for block 1 and its parity) and requests to disk 0 and disk 2 (for block 10 and its parity). Thus, they can proceed in parallel. In fact, we can generally assume that that given a large number of random requests, we will be able to keep all the disks about evenly busy. If that is the case,</p><p class="s62" style="text-indent: 0pt;line-height: 6pt;text-align: left;">4</p><p style="text-indent: 0pt;text-align: left;"/><p class="s43" style="padding-top: 1pt;padding-left: 68pt;text-indent: 0pt;line-height: 89%;text-align: justify;"><span class="p">then our total bandwidth for small writes will be </span><u>N</u> <span class="s4">· </span>R <span class="p">MB/s. The factor of four loss is due to the fact that each RAID-5 write still generates 4 total I/O operations, which is simply the cost of using parity-based RAID.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse" cellspacing="0"><tr style="height:8pt"><td style="width:114pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-right: 6pt;text-indent: 0pt;line-height: 8pt;text-align: right;">RAID-0</p></td><td style="width:54pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-left: 7pt;padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">RAID-1</p></td><td style="width:53pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">RAID-4</p></td><td style="width:53pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">RAID-5</p></td></tr><tr style="height:11pt"><td style="width:114pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Capacity     <span class="s203">N</span></p></td><td style="width:54pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s203" style="padding-left: 8pt;padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">N/<span class="s204">2</span></p></td><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s203" style="padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">N <span class="s128">− </span><span class="s204">1</span></p></td><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s203" style="padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">N <span class="s128">− </span><span class="s204">1</span></p></td></tr><tr style="height:21pt"><td style="width:114pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Reliability<span class="s129">     </span><span class="s204">0</span></p></td><td style="width:54pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s204" style="padding-left: 7pt;text-indent: 0pt;line-height: 9pt;text-align: left;">1 <span class="s108">(for sure)</span></p><p class="s205" style="padding-left: 6pt;text-indent: 0pt;line-height: 8pt;text-align: left;">N<span class="s203"> </span><span class="s108">(if lucky)</span></p><p class="s206" style="text-indent: 0pt;line-height: 2pt;text-align: left;"> &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; &nbsp;</p></td><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s204" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td><td style="width:53pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s204" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td></tr><tr style="height:19pt"><td style="width:114pt"><p class="s108" style="padding-left: 6pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Throughput</p><p class="s203" style="padding-left: 10pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s108">Sequential Read  </span>N <span class="s128">· </span>S</p></td><td style="width:54pt"><p class="s204" style="padding-top: 8pt;padding-left: 7pt;padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">(<span class="s203">N/</span>2) <span class="s128">· </span><span class="s203">S</span></p></td><td style="width:53pt"><p class="s204" style="padding-top: 8pt;padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">(<span class="s203">N </span><span class="s128">− </span>1) <span class="s128">· </span><span class="s203">S</span></p></td><td style="width:53pt"><p class="s204" style="padding-top: 8pt;padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">(<span class="s203">N </span><span class="s128">− </span>1) <span class="s128">· </span><span class="s203">S</span></p></td></tr><tr style="height:10pt"><td style="width:114pt"><p class="s203" style="padding-left: 10pt;text-indent: 0pt;line-height: 8pt;text-align: left;"><span class="s108">Sequential Write  </span>N <span class="s128">· </span>S</p></td><td style="width:54pt"><p class="s204" style="padding-left: 7pt;padding-right: 8pt;text-indent: 0pt;line-height: 8pt;text-align: center;">(<span class="s203">N/</span>2) <span class="s128">· </span><span class="s203">S</span></p></td><td style="width:53pt"><p class="s204" style="padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">(<span class="s203">N </span><span class="s128">− </span>1) <span class="s128">· </span><span class="s203">S</span></p></td><td style="width:53pt"><p class="s204" style="padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 8pt;text-align: center;">(<span class="s203">N </span><span class="s128">− </span>1) <span class="s128">· </span><span class="s203">S</span></p></td></tr><tr style="height:16pt"><td style="width:114pt"><p class="s203" style="padding-left: 10pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s108">Random Read  </span>N <span class="s128">· </span>R</p><p class="s203" style="padding-left: 10pt;text-indent: 0pt;line-height: 5pt;text-align: left;"><span class="s108">Random Write  </span>N <span class="s128">· </span>R</p></td><td style="width:54pt"><p class="s203" style="padding-left: 8pt;padding-right: 8pt;text-indent: 0pt;text-align: center;">N <span class="s128">· </span>R</p><p class="s204" style="padding-left: 8pt;padding-right: 8pt;text-indent: 0pt;line-height: 5pt;text-align: center;">(<span class="s203">N/</span>2) <span class="s128">· </span><span class="s203">R</span></p></td><td style="width:53pt"><p class="s204" style="padding-left: 6pt;text-indent: 0pt;text-align: left;">(<span class="s203">N </span><span class="s128">− </span>1) <span class="s128">· </span><span class="s203">R</span></p><p class="s197" style="padding-left: 18pt;text-indent: 0pt;line-height: 5pt;text-align: left;">1<span class="s207"> </span><span class="s128">· </span><i>R</i></p></td><td style="width:53pt"><p class="s203" style="padding-left: 4pt;padding-right: 4pt;text-indent: 0pt;line-height: 9pt;text-align: center;">N <span class="s128">· </span>R</p><p class="s208" style="padding-left: 4pt;padding-right: 3pt;text-indent: 0pt;line-height: 5pt;text-align: center;">N<span class="s209"> </span><span class="s210">R</span></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"/><p class="s158" style="padding-top: 5pt;padding-left: 170pt;text-indent: 0pt;text-align: left;">2 &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 234pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="5" height="1" alt="image" src="Image_567.png"/></span></p><p class="s62" style="padding-left: 234pt;text-indent: 0pt;line-height: 5pt;text-align: left;">2       4</p><p class="s5" style="padding-left: 54pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Latency</p><p class="s5" style="padding-left: 58pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Read         <span class="s184">D     D      D      D</span></p><p class="s184" style="padding-left: 58pt;text-indent: 0pt;line-height: 10pt;text-align: left;"><span class="s5">Write         </span>D     D      <span class="s186">2</span>D      <span class="s186">2</span>D</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 71pt;text-indent: 0pt;text-align: left;">Table 38.7: <b>RAID Capacity, Reliability, and Performance</b></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 41pt;text-indent: 11pt;line-height: 89%;text-align: justify;">Because RAID-5 is basically identical to RAID-4 except in the few cases where it is better, it has almost completely replaced RAID-4 in the market- place. The only place where it has not is in systems that know they will never perform anything other than a large write, thus avoiding the small- write problem altogether [HLM94]; in those cases, RAID-4 is sometimes used as it is slightly simpler to build.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part408.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part410.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
