<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>6.7   Reducing E-R Diagrams to Relational Schemas</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part137.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part139.htm">下一个 &gt;</a></p><p class="s65" style="padding-top: 9pt;padding-left: 40pt;text-indent: 0pt;text-align: left;">6.7   <span style=" color: #00AEEF;">Reducing E-R Diagrams to Relational Schemas</span></p><p style="padding-top: 12pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">Both the <span class="s44">E-R </span>model and the relational database model are abstract, logical representa- tions of real-world enterprises. Because the two models employ similar design princi- ples, we can convert an <span class="s44">E-R </span>design into a relational design. For each entity set and for each relationship set in the database design, there is a unique relation schema to which we assign the name of the corresponding entity set or relationship set.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 119pt;text-indent: 17pt;text-align: justify;">In this section, we describe how an <span class="s44">E-R </span>schema can be represented by relation schemas and how constraints arising from the <span class="s44">E-R </span>design can be mapped to constraints on relation schemas.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 119pt;text-indent: 0pt;text-align: left;">6.7.1 Representation of Strong Entity Sets</p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: 0pt;line-height: 94%;text-align: justify;">Let <i>E </i>be a strong entity set with only simple descriptive attributes <i>a</i><span class="s98">1</span>, <i>a</i><span class="s98">2</span>, <span class="s15">… </span>, <i>a</i><span class="s97">n</span>. We represent this entity with a schema called <i>E </i>with <i>n </i>distinct attributes. Each tuple in a relation on this schema corresponds to one entity of the entity set <i>E</i>.</p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">For schemas derived from strong entity sets, the primary key of the entity set serves as the primary key of the resulting schema. This follows directly from the fact that each tuple corresponds to a speciﬁc entity in the entity set.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1534.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">As an illustration, consider the entity set <i>student </i>of the <span class="s44">E-R </span>diagram in Figure 6.15. This entity set has three attributes: <span class="s69">ID</span>, <i>name</i>, <i>tot cred</i>. We represent this entity set by a schema called <i>student </i>with three attributes:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1535.png"/></span></p><p style="padding-left: 248pt;text-indent: 0pt;text-align: left;"><i>student </i>(<span class="s99">ID</span>, <i>name</i>, <i>tot cred</i>)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">Note that since student <span class="s69">ID </span>is the primary key of the entity set, it is also the primary key of the relation schema.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1536.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1537.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">Continuing with our example, for the <span class="s44">E-R </span>diagram in Figure 6.15, all the strong entity sets, except <i>time slot</i>, have only simple attributes. The schemas derived from these strong entity sets are depicted in Figure 6.16. Note that the <i>instructor</i>, <i>student</i>, and <i>course </i>schemas are diﬀerent from the schemas we have used in the previous chapters (they do not contain the attribute <i>dept name</i>). We shall revisit this issue shortly.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 119pt;text-indent: 0pt;text-align: left;">6.7.2  Representation of Strong Entity Sets with Complex Attributes</p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">When a strong entity set has nonsimple attributes, things are a bit more complex. We handle composite attributes by creating a separate attribute for each of the component attributes; we do not create a separate attribute for the composite attribute itself. To illustrate, consider the version of the <i>instructor </i>entity set depicted in Figure 6.8. For the composite attribute <i>name</i>, the schema generated for <i>instructor </i>contains the attributes</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="494" height="1" alt="image" src="Image_1538.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="46" height="1" alt="image" src="Image_1539.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1540.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1541.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="59" height="1" alt="image" src="Image_1542.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1543.png"/></span></p><p style="padding-top: 4pt;padding-left: 214pt;text-indent: 0pt;line-height: 114%;text-align: left;"><i>classroom</i>(<i>building</i>, <u><i>room number</i></u>, <i>capacity</i>) <i>department</i>(<i>dept name</i>, <i>building</i>, <i>budget</i>) <i>course</i>(<u><i>course id</i></u>, <i>title</i>, <i>credits</i>)</p><p style="padding-left: 214pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><i>instructor</i>(<span class="s99">ID</span>, <i>name</i>, <i>salary</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1544.png"/></span></p><p style="padding-left: 214pt;text-indent: 0pt;text-align: left;"><i>student</i>(<span class="s99">ID</span>, <i>name</i>, <i>tot cred</i>)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="494" height="1" alt="image" src="Image_1545.png"/></span></p><p class="s74" style="padding-top: 8pt;padding-left: 123pt;text-indent: 0pt;text-align: left;"><span class="s73">Figure 6.16 </span>Schemas derived from the entity sets in the <span class="s157">E-R </span>diagram in Figure 6.15.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1546.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1547.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1548.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1549.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1550.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1551.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1552.png"/></span></p><p class="s13" style="padding-top: 4pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">ﬁrst name<span class="p">, </span>middle initial<span class="p">, and </span>last name<span class="p">; there is no separate attribute or schema for </span>name<span class="p">. Similarly, for the composite attribute </span>address<span class="p">, the schema generated contains the attributes </span>street<span class="p">, </span>city<span class="p">, </span>state<span class="p">, and </span>postal code<span class="p">. Since </span>street <span class="p">is a composite attribute it is replaced by </span>street number<span class="p">, </span>street name<span class="p">, and </span>apt number<span class="p">.</span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">Multivalued attributes are treated diﬀerently from other attributes. We have seen that attributes in an <span class="s44">E-R </span>diagram generally map directly into attributes for the appropri- ate relation schemas. Multivalued attributes, however, are an exception; new relation schemas are created for these attributes, as we shall see shortly.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">Derived attributes are not explicitly represented in the relational data model. How- ever, they can be represented as stored procedures, functions, or methods in other data models.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">The relational schema derived from the version of entity set <i>instructor </i>with complex attributes, without including the multivalued attribute, is thus:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1553.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1554.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1555.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1556.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1557.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1558.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1559.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1560.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1561.png"/></span></p><p style="padding-left: 215pt;text-indent: -48pt;text-align: justify;"><i>instructor </i>(<span class="s69">ID</span>, <i>ﬁrst name</i>, <i>middle initial</i>, <i>last name</i>, <i>street number</i>, <i>street name</i>, <i>apt number</i>, <i>city</i>, <i>state</i>, <i>postal code</i>, <i>date of birth</i>)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">For a multivalued attribute <i>M </i>, we create a relation schema <i>R </i>with an attribute <i>A </i>that corresponds to <i>M </i>and attributes corresponding to the primary key of the entity set or relationship set of which <i>M </i>is an attribute.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1562.png"/></span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">As an illustration, consider the <span class="s44">E-R </span>diagram in Figure 6.8 that depicts the entity set <i>instructor</i>, which includes the multivalued attribute <i>phone number</i>. The primary key of <i>instructor </i>is <span class="s69">ID</span>. For this multivalued attribute, we create a relation schema</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1563.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1564.png"/></span></p><p style="padding-bottom: 1pt;padding-left: 64pt;text-indent: 0pt;text-align: center;"><i>instructor phone </i>(<span class="s99">ID</span>, <i>phone number</i>)</p><p style="padding-left: 289pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="81" height="1" alt="image" src="Image_1565.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1566.png"/></span></p><p style="padding-left: 88pt;text-indent: 0pt;text-align: justify;">Each phone number of an instructor is represented as a unique tuple in the relation on this schema. Thus, if we had an instructor with <span class="s69">ID </span>22222, and phone numbers 555-1234 and 555-4321, the relation <i>instructor phone </i>would have two tuples (22222, 555-1234) and (22222, 555-4321).</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1567.png"/></span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">We create a primary key of the relation schema consisting of all attributes of the schema. In the above example, the primary key consists of both attributes of the relation schema <i>instructor phone</i>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1568.png"/></span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">In addition, we create a foreign-key constraint on the relation schema created from the multivalued attribute. In that newly created schema, the attribute generated from the primary key of the entity set must reference the relation generated from the entity set. In the above example, the foreign-key constraint on the <i>instructor phone </i>relation would be that attribute <span class="s69">ID </span>references the <i>instructor </i>relation.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">In the case that an entity set consists of only two attributes — a single primary-key attribute <i>B </i>and a single multivalued attribute <i>M </i>— the relation schema for the entity set would contain only one attribute, namely, the primary-key attribute <i>B</i>. We can drop</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">this relation, while retaining the relation schema with the attribute <i>B </i>and attribute <i>A</i></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">that corresponds to <i>M </i>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1569.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1570.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1571.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1572.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">To illustrate, consider the entity set <i>time slot </i>depicted in Figure 6.15. Here, <i>time slot id </i>is the primary key of the <i>time slot </i>entity set, and there is a single multivalued attribute that happens also to be composite. The entity set can be represented by just the following schema created from the multivalued composite attribute:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1573.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1574.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1575.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1576.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1577.png"/></span></p><p style="padding-bottom: 1pt;padding-left: 207pt;text-indent: 0pt;text-align: left;"><i>time slot </i>(<u><i>time slot id</i></u>, <i>day</i>, <u><i>start time</i></u>, <i>end time</i>)</p><p style="padding-left: 302pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Image_1578.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1579.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1580.png"/></span></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">Although not represented as a constraint on the <span class="s44">E-R </span>diagram, we know that there can- not be two meetings of a class that start at the same time of the same day of the week but end at diﬀerent times; based on this constraint, <i>end time </i>has been omitted from the primary key of the <i>time slot </i>schema.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1581.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1582.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">The relation created from the entity set would have only a single attribute <i>time slot id</i>; the optimization of dropping this relation has the beneﬁt of simplifying the resultant database schema, although it has a drawback related to foreign keys, which we brieﬂy discuss in Section 6.7.4.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 119pt;text-indent: 0pt;text-align: left;">6.7.3 Representation of Weak Entity Sets</p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: 0pt;line-height: 13pt;text-align: justify;">Let <i>A </i>be a weak entity set with attributes <i>a</i><span class="s98">1</span>, <i>a</i><span class="s98">2</span>, <span class="s15">… </span>, <i>a</i><span class="s97">m</span>. Let <i>B </i>be the strong entity set on which <i>A </i>depends. Let the primary key of <i>B </i>consist of attributes <i>b</i><span class="s98">1</span>, <i>b</i><span class="s98">2</span>, <span class="s15">… </span>, <i>b</i><span class="s97">n</span>. We represent the entity set <i>A </i>by a relation schema called <i>A </i>with one attribute for each member of the set:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s13" style="padding-top: 5pt;padding-left: 236pt;text-indent: 0pt;text-align: left;"><span class="s95">{</span>a<span class="s93">1</span><span class="s94">, </span>a<span class="s93">2</span><span class="s94">, </span><span class="s15">… </span><span class="p">, </span>a<span class="s145">m</span><span class="s95">} </span><span class="s15">∪ </span><span class="s95">{</span>b<span class="s93">1</span><span class="s94">, </span>b<span class="s93">2</span><span class="s94">, </span><span class="s15">… </span><span class="p">, </span>b<span class="s145">n</span><span class="s95">}</span></p><p style="padding-top: 12pt;padding-left: 119pt;text-indent: 17pt;text-align: justify;">For schemas derived from a weak entity set, the combination of the primary key of the strong entity set and the discriminator of the weak entity set serves as the primary key of the schema. In addition to creating a primary key, we also create a foreign-key constraint on the relation <i>A</i>, specifying that the attributes <i>b</i><span class="s98">1</span>, <i>b</i><span class="s98">2</span>, <span class="s15">… </span>, <i>b</i><span class="s97">n </span>reference the</p><p style="padding-left: 119pt;text-indent: 0pt;line-height: 10pt;text-align: justify;">primary key of the relation <i>B</i>. The foreign-key constraint ensures that for each tuple rep-</p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">resenting a weak entity, there is a corresponding tuple representing the corresponding strong entity.</p><p style="padding-left: 137pt;text-indent: 0pt;text-align: justify;">As an illustration, consider the weak entity set <i>section </i>in the <span class="s44">E-R </span>diagram of Figure</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1583.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1584.png"/></span></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">6.15. This entity set has the attributes: <i>sec id</i>, <i>semester</i>, and <i>year</i>. The primary key of the <i>course </i>entity set, on which <i>section </i>depends, is <i>course id</i>. Thus, we represent <i>section </i>by a schema with the following attributes:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1585.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1586.png"/></span></p><p style="padding-bottom: 1pt;padding-left: 222pt;text-indent: 0pt;text-align: left;"><i>section </i>(<u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>)</p><p style="padding-left: 371pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1587.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1588.png"/></span></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">The primary key consists of the primary key of the entity set <i>course</i>, along with the discriminator of <i>section</i>, which is <i>sec id</i>, <i>semester</i>, and <i>year</i>. We also createa foreign-key</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1589.png"/></span></p><p style="padding-top: 4pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">constraint on the <i>section </i>schema, with the attribute <i>course id </i>referencing the primary key of the <i>course </i>schema.<span class="s76">5</span></p><p class="s68" style="padding-top: 11pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">6.7.4 Representation of Relationship Sets</p><p style="padding-top: 7pt;padding-left: 88pt;text-indent: 0pt;line-height: 91%;text-align: justify;">Let <i>R </i>be a relationship set, let <i>a</i><span class="s98">1</span>, <i>a</i><span class="s98">2</span>, <span class="s15">… </span>, <i>a</i><span class="s97">m </span>be the set of attributes formed by the union of the primary keys of each of the entity sets participating in <i>R</i>, and let the descriptive attributes (if any) of <i>R </i>be <i>b</i><span class="s98">1</span>, <i>b</i><span class="s98">2</span>, <span class="s15">… </span>, <i>b</i><span class="s97">n</span>. We represent this relationship set by a relation schema called <i>R </i>with one attribute for each member of the set:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s13" style="padding-left: 59pt;text-indent: 0pt;text-align: center;"><span class="s95">{</span>a<span class="s130">1</span><span class="s94">, </span>a<span class="s130">2</span><span class="s94">, </span><span class="s15">… </span><span class="p">, </span>a<span class="s97">m</span><span class="s95">} </span><span class="s15">∪ </span><span class="s95">{</span>b<span class="s130">1</span><span class="s94">, </span>b<span class="s130">2</span><span class="s94">, </span><span class="s15">… </span><span class="p">, </span>b<span class="s97">n</span><span class="s95">}</span></p><p style="padding-top: 10pt;padding-left: 88pt;text-indent: 17pt;text-align: justify;">We described in Section 6.5, how to choose a primary key for a binary relationship set. The primary key attributes of the relationship set are also used as the primary key attributes of the relational schema <i>R</i>.</p><p style="padding-left: 106pt;text-indent: 0pt;text-align: justify;">As an illustration, consider the relationship set <i>advisor </i>in the <span class="s44">E-R </span>diagram of Figure</p><p style="padding-left: 88pt;text-indent: 0pt;text-align: justify;">6.15. This relationship set involves the following entity sets:</p><p style="padding-top: 9pt;padding-left: 91pt;text-indent: 0pt;text-align: justify;"><span class="s39">• </span><i>instructor</i>, with the primary key <span class="s69">ID</span>.</p><p style="padding-top: 3pt;padding-left: 91pt;text-indent: 0pt;text-align: justify;"><span class="s39">• </span><i>student</i>, with the primary key <span class="s69">ID</span>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1590.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1591.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1592.png"/></span></p><p style="padding-top: 11pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">Since the relationship set has no attributes, the <i>advisor </i>schema has two attributes, the primary keys of <i>instructor </i>and <i>student</i>. Since both attributes have the same name, we re- name them <i>i </i><span class="s101">ID </span>and s <span class="s69">ID</span>. Since the <i>advisor </i>relationship set is many-to-one from <i>student </i>to <i>instructor </i>the primary key for the <i>advisor </i>relation schema is <i>s </i><span class="s101">ID</span>.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">We also create foreign-key constraints on the relation schema <i>R </i>as follows: For each entity set <i>E</i><span class="s145">i </span>related by relationship set <i>R</i>, we create a foreign-key constraint from rela- tion schema <i>R</i>, with the attributes of <i>R </i>that were derived from primary-key attributes of <i>E</i><span class="s97">i </span>referencing the primary key of the relation schema representing <i>E</i><span class="s97">i</span>.</p><p style="padding-left: 106pt;text-indent: 0pt;line-height: 11pt;text-align: justify;">Returning to our earlier example, we thus create two foreign-key constraints on</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1593.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1594.png"/></span></p><p style="padding-left: 88pt;text-indent: 0pt;text-align: justify;">the <i>advisor </i>relation, with attribute <i>i </i><span class="s101">ID </span>referencing the primary key of <i>instructor </i>and attribute <i>s </i><span class="s101">ID </span>referencing the primary key of <i>student</i>.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">Applying the preceding techniques to the other relationship sets in the <span class="s44">E-R </span>diagram in Figure 6.15, we get the relational schemas depicted in Figure 6.17.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">Observe that for the case of the relationship set <i>prereq</i>, the role indicators asso- ciated with the relationship are used as attribute names, since both roles refer to the same relation <i>course</i>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1595.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1596.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1597.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1598.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1599.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1600.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1601.png"/></span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">Similar to the case of <i>advisor</i>, the primary key for each of the relations <i>sec course</i>, <i>sec time slot</i>, <i>sec class</i>, <i>inst dept</i>, <i>stud dept</i>, and <i>course dept </i>consists of the primary key</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 88pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="95" height="1" alt="image" src="Image_1602.png"/></span></p><p class="s111" style="padding-top: 3pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;"><span class="s77">5</span><span class="s78">Optionally, the foreign-key constraint could have an “on delete cascade” speciﬁcation, so that deletion of a </span>course <span class="s80">entity automatically deletes any </span>section <span class="s80">entities that reference the </span>course <span class="s80">entity. Without that speciﬁcation, each section of a course would have to be deleted before the corresponding course can be deleted.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="494" height="1" alt="image" src="Image_1603.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1604.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1605.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1606.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1607.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1608.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1609.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1610.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1611.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="50" height="1" alt="image" src="Image_1612.png"/></span></p><p style="padding-top: 4pt;padding-left: 166pt;text-indent: 0pt;line-height: 114%;text-align: left;"><i>teaches </i>(<span class="s99">ID</span>, <u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>) <i>takes </i>(<span class="s99">ID</span>, <u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>, <i>grade</i>) <i>prereq </i>(<u><i>course id</i></u>, <i>prereq id</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1613.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1614.png"/></span></p><p style="padding-left: 166pt;text-indent: 0pt;line-height: 13pt;text-align: left;"><i>advisor </i>(<u><i>s </i></u><span class="s100">ID</span>, <i>i </i><span class="s101">ID</span>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1615.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1616.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1617.png"/></span></p><p style="padding-bottom: 1pt;padding-left: 166pt;text-indent: 0pt;text-align: left;"><i>sec course </i>(<u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>)</p><p style="padding-left: 329pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1618.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1619.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1620.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1621.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1622.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1623.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1624.png"/></span></p><p style="padding-left: 166pt;text-indent: 0pt;text-align: left;"><i>sec time slot </i>(<u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>, <i>time slot id</i>)</p><p style="padding-left: 338pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1625.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1626.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1627.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1628.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1629.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1630.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1631.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1632.png"/></span></p><p style="padding-left: 166pt;text-indent: 0pt;line-height: 113%;text-align: left;"><i>sec class </i>(<u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>, <i>building</i>, <i>room number</i>) <i>inst dept </i>(<span class="s99">ID</span>, <i>dept name</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1633.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1634.png"/></span></p><p style="padding-left: 166pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><i>stud dept </i>(<span class="s99">ID</span>, <i>dept name</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1635.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1636.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1637.png"/></span></p><p style="padding-left: 166pt;text-indent: 0pt;text-align: left;"><i>course dept </i>(<u><i>course id</i></u>, <i>dept name</i>)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="494" height="1" alt="image" src="Image_1638.png"/></span></p><p class="s74" style="padding-top: 8pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;"><span class="s73">Figure 6.17 </span>Schemas derived from relationship sets in the <span class="s157">E-R </span>diagram in Figure 6.15.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">of only one of the two related entity sets, since each of the corresponding relationships is many-to-one.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1639.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">Foreign keys are not shown in Figure 6.17, but for each of the relations in the ﬁgure there are two foreign-key constraints, referencing the two relations created from the two related entity sets. Thus, for example, <i>sec course </i>has foreign keys referencing <i>section </i>and <i>classroom</i>, <i>teaches </i>has foreign keys referencing <i>instructor </i>and <i>section</i>, and <i>takes </i>has foreign keys referencing <i>student </i>and <i>section</i>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1640.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1641.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1642.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1643.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1644.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1645.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1646.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1647.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1648.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1649.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1650.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1651.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1652.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1653.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">The optimization that allowed us to create only a single relation schema from the entity set <i>time slot</i>, which had a multivalued attribute, prevents the creation of a foreign key from the relation schema <i>sec time slot </i>to the relation created from entity set <i>time slot</i>, since we dropped the relation created from the entity set <i>time slot</i>. We retained the relation created from the multivalued attribute and named it <i>time slot</i>, but this relation may potentially have no tuples corresponding to a <i>time slot id</i>, or it may have multiple tuples corresponding to a <i>time slot id</i>; thus, <i>time slot id </i>in <i>sec time slot </i>cannot reference this relation.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1654.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1655.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1656.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1657.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1658.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1659.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1660.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">The astute reader may wonder why we have not seen the schemas <i>sec course</i>, <i>sec time slot</i>, <i>sec class</i>, <i>inst dept</i>, <i>stud dept</i>, and <i>course dept </i>in the previous chapters. The reason is that the algorithm we have presented thus far results in some schemas that can be either eliminated or combined with other schemas. We explore this issue next.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 119pt;text-indent: 0pt;text-align: left;">6.7.5 Redundancy of Schemas</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1661.png"/></span></p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">A relationship set linking a weak entity set to the corresponding strong entity set is treated specially. As we noted in Section 6.5.3, these relationships are many-to-one and have no descriptive attributes. Furthermore, the of a weak entity set includes the pri- mary key of the strong entity set. In the <span class="s44">E-R </span>diagram of Figure 6.14, the weak entity set <i>section </i>is dependent on the strong entity set <i>course </i>via the relationship set <i>sec course</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1662.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1663.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1664.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1665.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1666.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1667.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1668.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1669.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1670.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1671.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1672.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1673.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1674.png"/></span></p><p style="padding-top: 4pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">The primary key of <i>section </i>is <span class="s95">{</span><i>course id</i>, <i>sec id</i>, <i>semester</i>, <i>year</i><span class="s95">}</span>, and the primary key of <i>course </i>is <i>course id</i>. Since <i>sec course </i>has no descriptive attributes, the <i>sec course </i>schema has attributes <i>course id</i>, <i>sec id</i>, <i>semester</i>, and <i>year</i>. The schema for the entity set <i>sec- tion </i>includes the attributes <i>course id</i>, <i>sec id</i>, <i>semester</i>, and <i>year </i>(among others). Every (<i>course id</i>, <i>sec id</i>, <i>semester</i>, <i>year</i>) combination in a <i>sec course </i>relation would also be present in the relation on schema <i>section</i>, and vice versa. Thus, the <i>sec course </i>schema is redundant.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">In general, the schema for the relationship set linking a weak entity set to its corre- sponding strong entity set is redundant and does not need to be present in a relational database design based upon an <span class="s44">E-R </span>diagram.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 88pt;text-indent: 0pt;text-align: justify;">6.7.6 Combination of Schemas</p><p style="padding-top: 6pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">Consider a many-to-one relationship set <i>AB </i>from entity set <i>A </i>to entity set <i>B</i>. Using our relational-schema construction algorithm outlined previously, we get three schemas: <i>A</i>, <i>B</i>, and <i>AB</i>. Suppose further that the participation of <i>A </i>in the relationship is total; that is, every entity <i>a </i>in the entity set <i>A </i>must participate in the relationship <i>AB</i>. Then we can combine the schemas <i>A </i>and <i>AB </i>to form a single schema consisting of the union of attributes of both schemas. The primary key of the combined schema is the primary key of the entity set into whose schema the relationship set schema was merged.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">To illustrate, let’s examine the various relations in the <span class="s44">E-R </span>diagram of Figure 6.15 that satisfy the preceding criteria:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1675.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1676.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1677.png"/></span></p><p style="padding-left: 107pt;text-indent: -16pt;text-align: justify;"><span class="s39">• </span><i>inst dept</i>. The schemas <i>instructor </i>and <i>department </i>correspond to the entity sets <i>A </i>and <i>B</i>, respectively. Thus, the schema <i>inst dept </i>can be combined with the <i>instructor </i>schema. The resulting <i>instructor </i>schema consists of the attributes <span class="s95">{</span><span class="s69">ID</span>, <i>name</i>, <i>dept name</i>, <i>salary</i><span class="s95">}</span>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1678.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1679.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1680.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1681.png"/></span></p><p style="padding-top: 4pt;padding-left: 107pt;text-indent: -16pt;text-align: justify;"><span class="s39">• </span><i>stud dept</i>. The schemas <i>student </i>and <i>department </i>correspond to the entity sets <i>A </i>and <i>B</i>, respectively. Thus, the schema <i>stud dept </i>can be combined with the <i>student </i>schema. The resulting <i>student </i>schema consists of the attributes <span class="s95">{</span><span class="s69">ID</span>, <i>name</i>, <i>dept name</i>, <i>tot cred</i><span class="s95">}</span>.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1682.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1683.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1684.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1685.png"/></span></p><p class="s13" style="padding-top: 4pt;padding-left: 107pt;text-indent: -16pt;text-align: justify;"><span class="s39">• </span>course dept<span class="p">. The schemas </span>course <span class="p">and </span>department <span class="p">correspond to the entity sets </span>A <span class="p">and </span>B<span class="p">, respectively. Thus, the schema </span>course dept <span class="p">can be combined with the </span>course <span class="p">schema. The resulting </span>course <span class="p">schema consists of the attributes </span><span class="s95">{</span>course id<span class="p">, </span>title<span class="p">, </span>dept name<span class="p">, </span>credits<span class="s95">}</span><span class="p">.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1686.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1687.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1688.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1689.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1690.png"/></span></p><p class="s13" style="padding-top: 4pt;padding-left: 107pt;text-indent: -16pt;text-align: justify;"><span class="s39">• </span>sec class<span class="p">. The schemas </span>section <span class="p">and </span>classroom <span class="p">correspond to the entity sets </span>A <span class="p">and </span>B<span class="p">, respectively. Thus, the schema </span>sec class <span class="p">can be combined with the </span>section <span class="p">schema. The resulting </span>section <span class="p">schema consists of the attributes </span><span class="s95">{</span>course id<span class="p">, </span>sec id<span class="p">, </span>semester<span class="p">, </span>year<span class="p">, </span>building<span class="p">, </span>room number<span class="s95">}</span><span class="p">.</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1691.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1692.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1693.png"/></span></p><p class="s13" style="padding-top: 4pt;padding-left: 91pt;text-indent: 0pt;line-height: 15pt;text-align: justify;"><span class="s39">• </span>sec time slot<span class="p">. The schemas </span>section <span class="p">and </span>time slot <span class="p">correspond to the entity sets </span>A <span class="p">and</span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1694.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1695.png"/></span></p><p class="s13" style="padding-left: 107pt;text-indent: 0pt;line-height: 13pt;text-align: left;">B <span class="p">respectively, Thus, the schema </span>sec time slot <span class="p">can be combined with the </span>section</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1696.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1697.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1698.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1699.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1700.png"/></span></p><p style="padding-top: 4pt;padding-left: 139pt;text-indent: 0pt;text-align: justify;"><a name="bookmark126">schema obtained in the previous step. The resulting </a><i>section </i>schema consists of the attributes <span class="s95">{</span><i>course id</i>, <i>sec id</i>, <i>semester</i>, <i>year</i>, <i>building</i>, <i>room number</i>, <i>time slot id</i><span class="s95">}</span>.<a name="bookmark155">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">In the case of one-to-one relationships, the relation schema for the relationship set can be combined with the schemas for either of the entity sets.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1701.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1702.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">We can combine schemas even if the participation is partial by using null values. In the preceding example, if <i>inst dept </i>were partial, then we would store null values for the <i>dept name </i>attribute for those instructors who have no associated department.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1703.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1704.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1705.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">Finally, we consider the foreign-key constraints that would have appeared in the schema representing the relationship set. There would have been foreign-key con- straints referencing each of the entity sets participating in the relationship set. We drop the constraint referencing the entity set into whose schema the relationship set schema is merged, and add the other foreign-key constraints to the combined schema. For ex- ample, <i>inst dept </i>has a foreign key constraint of the attribute <i>dept name </i>referencing the <i>department </i>relation. This foreign constraint is enforced implicitly by the <i>instructor </i>re- lation when the schema for <i>inst dept </i>is merged into <i>instructor</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part137.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part139.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
