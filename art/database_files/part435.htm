<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>24.1  Bloom Filter</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part434.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part436.htm">下一个 &gt;</a></p><p class="s65" style="padding-left: 72pt;text-indent: 0pt;text-align: left;">24.1  <span style=" color: #00AEEF;">Bloom Filter</span></p><p style="padding-top: 11pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">A <span class="s63">Bloom ﬁlter </span>is a probabilistic data structure that can check for membership of a value in a set using very little space, but at a small risk of overestimating the set of elements that are in the set. A Bloom ﬁlter is basically a bitmap. If the set has <i>n </i>values, the associated bitmap has a few times <i>n </i>(typically 10<i>n</i>) bits; the Bloom ﬁlter also has associated with it several hash functions. We assume initially that there is only one hash function <i>h</i>().</p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">The bits in the bitmap are all initially set to 0; subsequently, each value in the set is read, and the hash function <i>h</i>(<i>v</i>) is computed on the element <i>v</i>, with the range of the function being 1 to 10<i>n</i>. The bit at position <i>h</i>(<i>v</i>) is then set to 1. This is repeated for every element <i>v</i>. To check if a particular value <i>v </i>is present in the set, the hash function <i>h</i>(<i>v</i>) is computed. If bit <i>h</i>(<i>v</i>) in the Bloom ﬁlter is equal to 0, we can infer that <i>v </i>cannot possibly be in the set. However, if bit <i>h</i>(<i>v</i>) is equal to 1, <i>v </i>may be present in the set. Note that with some probability, the bit <i>h</i>(<i>v</i>) may be 1 even if <i>v </i>is not present, if some other value <i>v</i><span class="s181">′</span>, present in the set has <i>h</i>(<i>v</i><span class="s181">′</span>) <span class="s15">= </span><i>h</i>(<i>v</i>). Thus, a lookup for <i>v </i>results in a <i>false positive</i>.</p><p style="padding-top: 1pt;padding-left: 119pt;text-indent: 17pt;line-height: 83%;text-align: justify;">To reduce the chance of false positives, Bloom ﬁlters use <i>k </i>independent hash func- tions <i>h</i><span class="s97">i</span>(), <i>i </i><span class="s15">= </span>1<span class="s83">..</span><i>k</i>, for some <i>k </i><span class="s83">&gt; </span>1; for each value <i>v </i>in the set, bits corresponding to</p><p class="s13" style="padding-left: 119pt;text-indent: 0pt;line-height: 14pt;text-align: justify;">h<span class="s97">i</span><span class="p">(</span>v<span class="p">), </span>i <span class="s15">= </span><span class="p">1</span><span class="s83">..</span>k <span class="p">are all set to 1 in the bitmap. When querying the Bloom ﬁlter with a</span></p><p class="s20" style="padding-top: 2pt;padding-left: 119pt;text-indent: 0pt;text-align: right;">1175</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;"><a name="bookmark544">given value </a><i>v </i>the same <i>k </i>hash functions are used to identify <i>k </i>bit locations; the value <i>v </i>is determined to be absent if even one of these bits has a 0 value. Otherwise the value is judged to be potentially present. For example, if the bitmap has 10<i>n </i>bits, where <i>n </i>is the number of values in the set, and <i>k </i><span class="s15">= </span>7 hash functions are used, the false positive rate would be about 1%.<a name="bookmark574">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part434.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part436.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
