<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>7.1   Features of Good Relational Designs</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part151.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part153.htm">下一个 &gt;</a></p><p class="s65" style="padding-left: 72pt;text-indent: 0pt;text-align: left;">7.1   <span style=" color: #00AEEF;">Features of Good Relational Designs</span></p><p style="padding-top: 12pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">Our study of entity-relationship design in Chapter 6 provides an excellent starting point for creating a relational database design. We saw in Section 6.7 that it is possible to gen- erate a set of relation schemas directly from the <span class="s44">E-R </span>design. The goodness (or badness) of the resulting set of schemas depends on how good the <span class="s44">E-R </span>design was in the ﬁrst place. Later in this chapter, we shall study precise ways of assessing the desirability of a collection of relation schemas. However, we can go a long way toward a good design using concepts we have already studied. For ease of reference, we repeat the schemas for the university database in Figure 7.1.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1837.png"/></span></p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">Suppose that we had started out when designing the university enterprise with the schema <i>in dep</i>.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1838.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1839.png"/></span></p><p style="padding-top: 4pt;padding-left: 193pt;text-indent: 0pt;text-align: left;"><i>in dep </i>(<span class="s69">ID</span>, <i>name</i>, <i>salary</i>, <i>dept name</i>, <i>building</i>, <i>budget</i>)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s20" style="padding-left: 56pt;text-indent: 0pt;text-align: center;">303</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 88pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="494" height="1" alt="image" src="Image_1840.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="46" height="1" alt="image" src="Image_1841.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1842.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1843.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="59" height="1" alt="image" src="Image_1844.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1845.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1846.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1847.png"/></span></p><p style="padding-top: 4pt;padding-left: 114pt;text-indent: 0pt;line-height: 111%;text-align: left;"><i>classroom</i>(<i>building</i>, <u><i>room number</i></u>, <i>capacity</i>) <i>department</i>(<i>dept name</i>, <i>building</i>, <i>budget</i>) <i>course</i>(<u><i>course id</i></u>, <i>title</i>, <i>dept name</i>, <i>credits</i>) <i>instructor</i>(<span class="s99">ID</span>, <i>name</i>, <i>dept name</i>, <i>salary</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1848.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1849.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1850.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1851.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1852.png"/></span></p><p style="padding-bottom: 1pt;padding-left: 114pt;text-indent: 0pt;line-height: 12pt;text-align: left;"><i>section</i>(<u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>, <i>building</i>, <i>room number</i>, <i>time slot id</i>)</p><p style="padding-left: 261pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="23" height="1" alt="image" src="Image_1853.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1854.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1855.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1856.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1857.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1858.png"/></span></p><p style="padding-left: 114pt;text-indent: 0pt;line-height: 114%;text-align: left;"><i>teaches</i>(<span class="s99">ID</span>, <u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>) <i>student</i>(<span class="s99">ID</span>, <i>name</i>, <i>dept name</i>, <i>tot cred</i>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1859.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1860.png"/></span></p><p style="padding-left: 114pt;text-indent: 0pt;line-height: 11pt;text-align: left;"><i>takes</i>(<span class="s99">ID</span>, <u><i>course id</i></u>, <u><i>sec id</i></u>, <u><i>semester</i></u>, <i>year</i>, <i>grade</i>)</p><p style="padding-left: 269pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="24" height="1" alt="image" src="Image_1861.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1862.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1863.png"/></span></p><p style="padding-left: 114pt;text-indent: 0pt;text-align: left;"><i>advisor</i>(<u><i>s </i></u><span class="s100">ID</span>, <i>i </i><span class="s101">ID</span>)</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1864.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1865.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1866.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="20" height="1" alt="image" src="Image_1867.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1868.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1869.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1870.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1871.png"/></span></p><p style="padding-left: 114pt;text-indent: 0pt;line-height: 114%;text-align: left;"><i>time slot</i>(<u><i>time slot id</i></u>, <i>day</i>, <u><i>start time</i></u>, <i>end time</i>) <i>prereq</i>(<u><i>course id</i></u>, <i>prereq id</i>)</p><p style="padding-left: 188pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="50" height="1" alt="image" src="Image_1872.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 88pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="494" height="1" alt="image" src="Image_1873.png"/></span></p><p class="s73" style="padding-top: 8pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Figure 7.1 <span class="s74">Database schema for the university example.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 8pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">This represents the result of a natural join on the relations corresponding to <i>instructor </i>and <i>department</i>. This seems like a good idea because some queries can be expressed using fewer joins, until we think carefully about the facts about the university that led to our <span class="s44">E-R </span>design.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1874.png"/></span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">Let us consider the instance of the <i>in dep </i>relation shown in Figure 7.2. Notice that we have to repeat the department information (“building” and “budget”) once for each instructor in the department. For example, the information about the Comp. Sci. department (Taylor, 100000) is included in the tuples of instructors Katz, Srinivasan, and Brandt.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1875.png"/></span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">It is important that all these tuples agree as to the budget amount since otherwise our database would be inconsistent. In our original design using <i>instructor </i>and <i>depart- ment</i>, we stored the amount of each budget exactly once. This suggests that using <i>in dep </i>is a bad idea since it stores the budget amounts redundantly and runs the risk that some user might update the budget amount in one tuple but not all, and thus create inconsistency.</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1876.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1877.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1878.png"/></span></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">Even if we decided to live with the redundancy problem, there is still another prob- lem with the <i>in dep </i>schema. Suppose we are creating a new department in the uni- versity. In the alternative design above, we cannot represent directly the information concerning a department (<i>dept name</i>, <i>building</i>, <i>budget</i>) unless that department has at least one instructor at the university. This is because tuples in the <i>in dep </i>table require values for <span class="s69">ID</span>, <i>name</i>, and <i>salary</i>. This means that we cannot record information about the newly created department until the ﬁrst instructor is hired for the new department. In the old design, the schema <i>department </i>can handle this, but under the revised design, we would have to create a tuple with a null value for <i>building </i>and <i>budget</i>. In some cases null values are troublesome, as we saw in our study of <span class="s44">SQL</span>. However, if we decide that</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:145.084pt" cellspacing="0"><tr style="height:17pt"><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F" bgcolor="#C6E9FA"><p class="s70" style="padding-top: 1pt;padding-left: 8pt;text-indent: 0pt;text-align: left;">ID</p></td><td style="width:63pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F" bgcolor="#C6E9FA"><p class="s71" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">name</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F" bgcolor="#C6E9FA"><p class="s71" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;text-align: center;">salary</p></td><td style="width:66pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F" bgcolor="#C6E9FA"><p class="s71" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">dept name</p></td><td style="width:52pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F" bgcolor="#C6E9FA"><p class="s71" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">building</p></td><td style="width:50pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F" bgcolor="#C6E9FA"><p class="s71" style="padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;text-align: center;">budget</p></td></tr><tr style="height:16pt"><td style="width:45pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">22222</p></td><td style="width:63pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Einstein</p></td><td style="width:44pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-top: 2pt;padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">95000</p></td><td style="width:66pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Physics</p></td><td style="width:52pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-top: 2pt;padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Watson</p></td><td style="width:50pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-top: 2pt;padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;line-height: 12pt;text-align: center;">70000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">12121</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Wu</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">90000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Finance</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Painter</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 6pt;padding-right: 6pt;text-indent: 0pt;line-height: 12pt;text-align: center;">120000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">32343</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">El Said</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">60000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">History</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Painter</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;line-height: 12pt;text-align: center;">50000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">45565</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Katz</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">75000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Comp. Sci.</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Taylor</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;line-height: 12pt;text-align: center;">100000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">98345</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Kim</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">80000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Elec. Eng.</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Taylor</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;line-height: 12pt;text-align: center;">85000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">76766</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Crick</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">72000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Biology</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Watson</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;line-height: 12pt;text-align: center;">90000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">10101</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Srinivasan</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">65000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Comp. Sci.</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Taylor</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;line-height: 12pt;text-align: center;">100000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">58583</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Caliﬁeri</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">62000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">History</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Painter</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;line-height: 12pt;text-align: center;">50000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">83821</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Brandt</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">92000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Comp. Sci.</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Taylor</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;line-height: 12pt;text-align: center;">100000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">15151</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Mozart</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">40000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Music</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Packard</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;line-height: 12pt;text-align: center;">80000</p></td></tr><tr style="height:13pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">33456</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Gold</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">87000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Physics</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Watson</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 2pt;text-indent: 0pt;line-height: 12pt;text-align: center;">70000</p></td></tr><tr style="height:14pt"><td style="width:45pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">76543</p></td><td style="width:63pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Singh</p></td><td style="width:44pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;line-height: 12pt;text-align: center;">80000</p></td><td style="width:66pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Finance</p></td><td style="width:52pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">Painter</p></td><td style="width:50pt;border-left-style:solid;border-left-width:1pt;border-left-color:#221E1F;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F;border-right-style:solid;border-right-width:1pt;border-right-color:#221E1F"><p class="s72" style="padding-left: 6pt;padding-right: 6pt;text-indent: 0pt;line-height: 12pt;text-align: center;">120000</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1879.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1880.png"/></span></p><p class="s74" style="padding-top: 4pt;padding-left: 238pt;text-indent: 0pt;text-align: left;"><span class="s73">Figure 7.2 </span>The <span class="s91">in dep </span>relation.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">this is not a problem to us in this case, then we can proceed to use the revised design, though, as we noted, we would still have the redundancy problem.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 119pt;text-indent: 0pt;text-align: left;">7.1.1 Decomposition</p><p style="text-indent: 0pt;text-align: left;"><span><img width="4" height="1" alt="image" src="Image_1881.png"/></span></p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">The only way to avoid the repetition-of-information problem in the <i>in dep </i>schema is to decompose it into two schemas (in this case, the <i>instructor </i>and <i>department </i>schemas). Later on in this chapter we shall present algorithms to decide which schemas are ap- propriate and which ones are not. In general, a schema that exhibits repetition of in- formation may have to be decomposed into several smaller schemas.</p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">Not all decompositions of schemas are helpful. Consider an extreme case in which all schemas consist of one attribute. No interesting relationships of any kind could be expressed. Now consider a less extreme case where we choose to decompose the <i>employee </i>schema (Section 6.8):</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 104pt;line-height: 214%;text-align: left;"><i>employee </i>(<span class="s69">ID</span>, <i>name</i>, <i>street</i>, <i>city</i>, <i>salary</i>) into the following two schemas:</p><p style="padding-left: 229pt;text-indent: 0pt;text-align: left;"><i>employee1 </i>(<span class="s69">ID</span>, <i>name</i>)</p><p class="s13" style="padding-left: 229pt;text-indent: 0pt;text-align: left;">employee2 <span class="p">(</span>name<span class="p">, </span>street<span class="p">, </span>city<span class="p">, </span>salary<span class="p">)</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;text-align: justify;">The ﬂaw in this decomposition arises from the possibility that the enterprise has two employees with the same name. This is not unlikely in practice, as many cultures have certain highly popular names. Each person would have a unique employee-id, which is why <span class="s69">ID </span>can serve as the primary key. As an example, let us assume two employees,</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">both named Kim, work at the university and have the following tuples in the relation on schema <i>employee </i>in the original design:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 63pt;text-indent: 0pt;text-align: center;">(57766, Kim, Main, Perryridge, 75000)</p><p style="padding-left: 63pt;text-indent: 0pt;text-align: center;">(98776, Kim, North, Hampton, 67000)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="316" height="288" alt="image" src="Image_1882.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="56" height="37" alt="image" src="Image_1883.png"/></span></p><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: center;">ID</p><p class="s69" style="padding-top: 8pt;text-indent: 0pt;line-height: 11pt;text-align: center;">.</p><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: center;">57766</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">name</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">street</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">city</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">salary</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 93%;text-align: left;">987<span class="s225">. </span>76</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;text-align: left;">Kim  Main Perryridge  75000 Kim  North  Hampton  67000</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">.</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">employee</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">ID</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">name</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: center;">.</p><p class="s69" style="text-indent: 0pt;text-align: center;">57766</p><p class="s69" style="text-indent: 0pt;text-align: center;">987<span class="s226">. </span>76</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;text-align: left;">Kim Kim</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">.</p><p style="text-indent: 0pt;text-align: left;"/><p class="s69" style="text-indent: 0pt;line-height: 11pt;text-align: left;">natural join</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 88pt;text-indent: 0pt;text-align: justify;">Figure 7.3 shows these tuples, the resulting tuples using the schemas resulting from the decomposition, and the result if we attempted to regenerate the original tuples us- ing a natural join. As we see in the ﬁgure, the two original tuples appear in the result along with two new tuples that incorrectly mix data values pertaining to the two em- ployees named Kim. Although we have more tuples, we actually have less information in the following sense. We can indicate that a certain street, city, and salary pertain to someone named Kim, but we are unable to distinguish which of the Kims. Thus, our decomposition is unable to represent certain important facts about the university</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:270.926pt" cellspacing="0"><tr style="height:15pt"><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">name</p></td><td style="width:37pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">street</p></td><td style="width:59pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 21pt;padding-right: 20pt;text-indent: 0pt;text-align: center;">city</p></td><td style="width:46pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">salary</p></td></tr><tr style="height:54pt"><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-top: 6pt;padding-left: 1pt;text-indent: 0pt;line-height: 11pt;text-align: center;">.</p><p class="s70" style="padding-left: 9pt;padding-right: 9pt;text-indent: 0pt;line-height: 11pt;text-align: center;">Kim</p><p class="s70" style="padding-top: 2pt;padding-left: 9pt;padding-right: 9pt;text-indent: 0pt;line-height: 48%;text-align: center;">Ki<span class="s227">.</span>m</p><p class="s228" style="padding-left: 9pt;padding-right: 8pt;text-indent: 0pt;line-height: 57%;text-align: center;">.<span class="s70">.</span></p></td><td style="width:37pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s70" style="padding-left: 7pt;padding-right: 6pt;text-indent: 0pt;text-align: left;">Main North</p></td><td style="width:59pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s70" style="padding-left: 11pt;text-indent: -1pt;line-height: 110%;text-align: left;">Perryridge Hampton</p></td><td style="width:46pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s70" style="padding-left: 10pt;text-indent: 0pt;text-align: left;">75000</p><p class="s70" style="padding-top: 1pt;padding-left: 10pt;text-indent: 0pt;text-align: left;">67000</p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:116.44pt" cellspacing="0"><tr style="height:15pt"><td style="width:33pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 10pt;padding-right: 9pt;text-indent: 0pt;text-align: center;">ID</p></td><td style="width:39pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 7pt;padding-right: 7pt;text-indent: 0pt;text-align: center;">name</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-right: 8pt;text-indent: 0pt;text-align: right;">street</p></td><td style="width:59pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 21pt;padding-right: 20pt;text-indent: 0pt;text-align: center;">city</p></td><td style="width:43pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20" bgcolor="#C7EAFB"><p class="s70" style="padding-left: 9pt;text-indent: 0pt;text-align: left;">salary</p></td></tr><tr style="height:25pt"><td style="width:33pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-top: 3pt;padding-left: 1pt;text-indent: 0pt;line-height: 10pt;text-align: center;">.</p><p class="s70" style="padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;line-height: 10pt;text-align: center;">57766</p></td><td style="width:39pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s70" style="padding-left: 10pt;padding-right: 9pt;text-indent: 0pt;line-height: 11pt;text-align: center;">Kim</p></td><td style="width:40pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s70" style="padding-right: 9pt;text-indent: 0pt;line-height: 11pt;text-align: right;">Main</p></td><td style="width:59pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s70" style="padding-left: 9pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Perryridge</p></td><td style="width:43pt;border-top-style:solid;border-top-width:1pt;border-top-color:#231F20;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s70" style="padding-left: 8pt;text-indent: 0pt;line-height: 11pt;text-align: left;">75000</p></td></tr><tr style="height:13pt"><td style="width:33pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;line-height: 11pt;text-align: center;">57766</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 10pt;padding-right: 9pt;text-indent: 0pt;line-height: 11pt;text-align: center;">Kim</p></td><td style="width:40pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-right: 7pt;text-indent: 0pt;line-height: 11pt;text-align: right;">North</p></td><td style="width:59pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 9pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Hampton</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 8pt;text-indent: 0pt;line-height: 11pt;text-align: left;">67000</p></td></tr><tr style="height:12pt"><td style="width:33pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;line-height: 11pt;text-align: center;">98776</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 10pt;padding-right: 9pt;text-indent: 0pt;line-height: 11pt;text-align: center;">Kim</p></td><td style="width:40pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-right: 9pt;text-indent: 0pt;line-height: 11pt;text-align: right;">Main</p></td><td style="width:59pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 9pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Perryridge</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 8pt;text-indent: 0pt;line-height: 11pt;text-align: left;">75000</p></td></tr><tr style="height:14pt"><td style="width:33pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 3pt;padding-right: 2pt;text-indent: 0pt;line-height: 11pt;text-align: center;">98776</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 10pt;padding-right: 9pt;text-indent: 0pt;line-height: 11pt;text-align: center;">Kim</p></td><td style="width:40pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-right: 7pt;text-indent: 0pt;line-height: 11pt;text-align: right;">North</p></td><td style="width:59pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 9pt;text-indent: 0pt;line-height: 11pt;text-align: left;">Hampton</p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 8pt;text-indent: 0pt;line-height: 12pt;text-align: left;">67000</p></td></tr><tr style="height:14pt"><td style="width:33pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p class="s70" style="padding-left: 1pt;text-indent: 0pt;line-height: 11pt;text-align: center;">.</p></td><td style="width:39pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:40pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:59pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:43pt;border-left-style:solid;border-left-width:1pt;border-left-color:#231F20;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#231F20;border-right-style:solid;border-right-width:1pt;border-right-color:#231F20"><p style="text-indent: 0pt;text-align: left;"><br/></p></td></tr></table><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s73" style="padding-top: 4pt;padding-left: 59pt;text-indent: 0pt;text-align: center;">Figure 7.3 <span class="s74">Loss of information via a bad decomposition.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">employees. We would like to avoid such decompositions. We shall refer to such decom- positions as being <span class="s63">lossy decompositions</span>, and, conversely, to those that are not as <span class="s63">lossless decompositions</span>.</p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">For the remainder of the text we shall insist that all decompositions should be lossless decompositions.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 119pt;text-indent: 0pt;text-align: left;">7.1.2 Lossless Decomposition</p><p class="s13" style="padding-top: 6pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;"><span class="p">Let </span>R <span class="p">be a relation schema and let </span>R<span class="s98">1</span><span class="p"> and </span>R<span class="s98">2</span><span class="p"> form a decomposition of </span>R <span class="p">— that is, view- ing </span>R<span class="p">, </span>R<span class="s93">1</span><span class="s94">, and </span>R<span class="s93">2 </span><span class="s94">as sets of attributes, </span>R <span class="s15">= </span>R<span class="s93">1 </span><span class="s15">∪ </span>R<span class="s93">2</span><span class="s94">. We say that the decomposition is a </span><span class="s63">lossless decomposition </span><span class="p">if there is no loss of information by replacing </span>R <span class="p">with two relation schemas </span>R<span class="s98">1</span><span class="p"> and </span>R<span class="s98">2</span><span class="p">. Loss of information occurs if it is possible to have an instance of a relation </span>r<span class="p">(</span>R<span class="p">) that includes information that cannot be represented if instead of the</span></p><p class="s13" style="padding-left: 119pt;text-indent: 0pt;line-height: 13pt;text-align: justify;"><span class="p">instance of </span>r<span class="p">(</span>R<span class="p">) we must use instances of </span>r<span class="s130">1</span><span class="s94">(</span>R<span class="s130">1</span><span class="s94">) and </span>r<span class="s130">2</span><span class="s94">(</span>R<span class="s130">2</span><span class="s94">). More precisely, we say the decomposition is lossless if, for all legal (we shall formally deﬁne “legal” in Section 7.2.2.) database instances, relation </span>r <span class="p">contains the same set of tuples as the result of the following </span><span class="s44">SQL </span><span class="p">query:</span><span class="s76">1</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s46" style="padding-top: 4pt;padding-left: 258pt;text-indent: 0pt;text-align: left;">select <span class="p">*</span></p><p class="s46" style="padding-left: 280pt;text-indent: -22pt;text-align: left;">from <span class="p">(</span>select <i>R</i><span class="s98">1</span><span class="p"> </span>from <span class="p">r) </span>natural join <span class="p">(</span>select <i>R</i><span class="s98">2</span><span class="p"> </span>from <span class="p">r)</span></p><p style="padding-top: 11pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">This is stated more succinctly in the relational algebra as:</p><p class="s150" style="text-indent: 0pt;line-height: 6pt;text-align: left;">1     2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s13" style="padding-top: 10pt;padding-left: 262pt;text-indent: 0pt;text-align: left;"><span class="s15">Π</span><span class="s123">R</span> <span class="p">(</span>r<span class="p">) </span><span class="s86">⋈ </span><span class="s15">Π</span><span class="s123">R</span> <span class="p">(</span>r<span class="p">) </span><span class="s15">= </span>r</p><p style="padding-top: 9pt;padding-left: 119pt;text-indent: 0pt;text-align: justify;">In other words, if we project <i>r </i>onto <i>R</i><span class="s98">1</span> and <i>R</i><span class="s98">2</span>, and compute the natural join of the projection results, we get back exactly <i>r</i>.</p><p style="padding-left: 119pt;text-indent: 17pt;text-align: justify;">Conversely, a decomposition is lossy if when we compute the natural join of the projection results, we get a proper superset of the original relation. This is stated more succinctly in the relational algebra as:</p><p class="s150" style="text-indent: 0pt;line-height: 6pt;text-align: left;">1     2</p><p style="text-indent: 0pt;text-align: left;"/><p class="s13" style="padding-top: 9pt;padding-left: 262pt;text-indent: 0pt;text-align: left;">r <span class="s83">⊂ </span><span class="s15">Π</span><span class="s123">R</span> <span class="p">(</span>r<span class="p">) </span><span class="s86">⋈ </span><span class="s15">Π</span><span class="s123">R</span> <span class="p">(</span>r<span class="p">)</span></p><p style="padding-top: 6pt;padding-left: 119pt;text-indent: 17pt;text-align: justify;">Let us return to our decomposition of the <i>employee </i>schema into <i>employee1 </i>and <i>employee2 </i>(Figure 7.3) and a case where two or more employees have the same name. The result of <i>employee1 </i>natural join <i>employee2 </i>is a superset of the original relation <i>employee</i>, but the decomposition is lossy since the join result has lost information about which employee identiﬁers correspond to which addresses and salaries.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 119pt;text-indent: 0pt;line-height: 1pt;text-align: left;"><span><img width="96" height="1" alt="image" src="Image_1884.png"/></span></p><p class="s77" style="padding-top: 3pt;padding-left: 119pt;text-indent: 0pt;text-align: left;">1<span class="s78">The deﬁnition of lossless is stated assuming that no attribute that appears on the left side of a functional dependency can have a null value. This is explored further in Exercise 7.10.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 4pt;padding-left: 88pt;text-indent: 17pt;text-align: justify;"><a name="bookmark135">It may seem counterintuitive that we have </a><i>more </i>tuples but <i>less </i>information, but that is indeed the case. The decomposed version is unable to represent the <i>absence </i>of a connection between a name and an address or salary, and absence of a connection is indeed information.<a name="bookmark163">&zwnj;</a></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s68" style="padding-left: 88pt;text-indent: 0pt;text-align: left;">7.1.3 Normalization Theory</p><p style="padding-top: 6pt;padding-left: 88pt;text-indent: 0pt;text-align: justify;">We are now in a position to deﬁne a general methodology for deriving a set of schemas each of which is in “good form”; that is, does not suﬀer from the repetition- of-information problem.</p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">The method for designing a relational database is to use a process commonly known as <span class="s63">normalization</span>. The goal is to generate a set of relation schemas that allows us to store information without unnecessary redundancy, yet also allows us to retrieve information easily. The approach is:</p><p class="s39" style="padding-top: 10pt;padding-left: 107pt;text-indent: -16pt;text-align: justify;">• <span class="s40">Decide if a given relation schema is in “good form.” There are a number of diﬀerent forms (called </span><span class="s13">normal form</span><span class="p">s), which we cover in Section 7.3.</span></p><p class="s39" style="padding-top: 4pt;padding-left: 107pt;text-indent: -16pt;text-align: justify;">• <span class="s40">If a given relation schema is not in “good form,” then we decompose it into a number of smaller relation schemas, each of which is in an appropriate normal form. The decomposition must be a lossless decomposition.</span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 88pt;text-indent: 17pt;text-align: justify;">To determine whether a relation schema is in one of the desirable normal forms, we need additional information about the real-world enterprise that we are modeling with the database. The most common approach is to use <span class="s63">functional dependencies</span>, which we cover in Section 7.2.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part151.htm">&lt; 上一个</a><span> | </span><a href="../database.html">内容</a><span> | </span><a href="part153.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
