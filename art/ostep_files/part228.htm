<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>22.4 Another Simple Policy: Random</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part227.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part229.htm">下一个 &gt;</a></p><p class="s40" style="padding-left: 38pt;text-indent: 0pt;text-align: left;">22.4 Another Simple Policy: Random</p><p style="padding-top: 7pt;padding-left: 68pt;text-indent: 12pt;line-height: 89%;text-align: justify;">Another similar replacement policy is Random, which simply picks a random page to replace under memory pressure. Random has properties similar to FIFO; it is simple to implement, but it doesn’t really try to be too intelligent in picking which blocks to evict. Let’s look at how Random does on our famous example reference stream (see Table <span style=" color: #00AEEF;">22.3</span>).</p><p style="padding-left: 68pt;text-indent: 12pt;line-height: 89%;text-align: justify;">Of course, how Random does depends entirely upon how lucky (or unlucky) Random gets in its choices. In the example above, Random does a little better than FIFO, and a little worse than optimal. In fact, we can run the Random experiment thousands of times and determine how it does in general. Figure <span style=" color: #00AEEF;">22.1 </span>shows how many hits Random achieves over 10,000 trials, each with a different random seed. As you can see, some- times (just over 40% of the time), Random is as good as optimal, achieving 6 hits on the example trace; sometimes it does much worse, achieving 2 hits or fewer. How Random does depends on the luck of the draw.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="219" height="112" alt="image" src="Image_295.png"/></span></p><p class="s91" style="padding-top: 5pt;padding-left: 42pt;text-indent: 0pt;text-align: center;">50</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s48" style="padding-left: 1pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Frequency</p><p style="text-indent: 0pt;text-align: left;"/><p class="s91" style="padding-left: 42pt;text-indent: 0pt;text-align: center;">40</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 42pt;text-indent: 0pt;text-align: center;">30</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 42pt;text-indent: 0pt;text-align: center;">20</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 42pt;text-indent: 0pt;text-align: center;">10</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="text-indent: 0pt;line-height: 7pt;text-align: center;">0</p><p class="s91" style="padding-left: 72pt;text-indent: 0pt;line-height: 7pt;text-align: center;">0   1   2   3   4   5   6   7</p><p class="s48" style="padding-left: 103pt;text-indent: 0pt;text-align: center;">Number of Hits</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 2pt;padding-left: 108pt;text-indent: 0pt;text-align: left;">Figure 22.1: <b>Random Performance over 10,000 Trials</b></p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:92.668pt" cellspacing="0"><tr style="height:18pt"><td style="width:36pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s123" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Access</p></td><td style="width:48pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s123" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Hit/Miss?</p></td><td style="width:30pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s123" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Evict</p></td><td style="width:69pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s123" style="padding-left: 16pt;text-indent: 0pt;line-height: 8pt;text-align: left;">Resulting</p><p class="s123" style="padding-left: 13pt;text-indent: 0pt;line-height: 9pt;text-align: left;">Cache State</p></td></tr><tr style="height:10pt"><td style="width:36pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="text-indent: 0pt;line-height: 7pt;text-align: center;">0</p></td><td style="width:48pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 7pt;text-align: center;">Miss</p></td><td style="width:30pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 7pt;text-align: center;">LRU<span class="s128">→</span><span class="s129">   </span>0</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Miss</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>0, 1</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">2</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Miss</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>0, 1, 2</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">0</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Hit</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>1, 2, 0</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Hit</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>2, 0, 1</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">3</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">Miss</p></td><td style="width:30pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">2</p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">LRU<span class="s128">→  </span>0, 1, 3</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">0</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">Hit</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">LRU<span class="s128">→  </span>1, 3, 0</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">3</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Hit</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>1, 0, 3</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Hit</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>0, 3, 1</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">2</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Miss</p></td><td style="width:30pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">0</p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>3, 1, 2</p></td></tr><tr style="height:10pt"><td style="width:36pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td><td style="width:48pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">Hit</p></td><td style="width:30pt"><p style="text-indent: 0pt;text-align: left;"><br/></p></td><td style="width:69pt"><p class="s108" style="padding-left: 5pt;padding-right: 5pt;text-indent: 0pt;line-height: 9pt;text-align: center;">LRU<span class="s128">→  </span>3, 2, 1</p></td></tr></table><p style="padding-top: 4pt;padding-left: 115pt;text-indent: 0pt;text-align: left;">Table 22.4: <b>Tracing the LRU Policy</b></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part227.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part229.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
