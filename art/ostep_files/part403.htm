<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>38.5 RAID Level 1: Mirroring</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part402.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part404.htm">下一个 &gt;</a></p><p class="s40" style="padding-left: 11pt;text-indent: 0pt;text-align: left;">38.5 RAID Level 1: Mirroring</p><p style="padding-top: 7pt;padding-left: 41pt;text-indent: 11pt;line-height: 89%;text-align: justify;">Our first RAID level beyond striping is known as RAID level 1, or mirroring. With a mirrored system, we simply make more than one copy of each block in the system; each copy should be placed on a separate disk, of course. By doing so, we can tolerate disk failures.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 3pt;padding-left: 68pt;text-indent: 12pt;line-height: 89%;text-align: justify;">In a typical mirrored system, we will assume that for each logical block, the RAID keeps two physical copies of it. Here is an example:</p><p style="text-indent: 0pt;text-align: left;"><br/></p><table style="border-collapse:collapse;margin-left:144.388pt" cellspacing="0"><tr style="height:9pt"><td style="width:34pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-left: 1pt;padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: center;">Disk 0</p></td><td style="width:35pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-left: 1pt;padding-right: 1pt;text-indent: 0pt;line-height: 8pt;text-align: center;">Disk 1</p></td><td style="width:34pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">Disk 2</p></td><td style="width:34pt;border-bottom-style:solid;border-bottom-width:1pt;border-bottom-color:#221E1F"><p class="s108" style="padding-left: 4pt;padding-right: 5pt;text-indent: 0pt;line-height: 8pt;text-align: center;">Disk 3</p></td></tr><tr style="height:10pt"><td style="width:34pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">0</p></td><td style="width:35pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">0</p></td><td style="width:34pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td><td style="width:34pt;border-top-style:solid;border-top-width:1pt;border-top-color:#221E1F"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">1</p></td></tr><tr style="height:10pt"><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">2</p></td><td style="width:35pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">2</p></td><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">3</p></td><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">3</p></td></tr><tr style="height:10pt"><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">4</p></td><td style="width:35pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">4</p></td><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">5</p></td><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 9pt;text-align: center;">5</p></td></tr><tr style="height:9pt"><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">6</p></td><td style="width:35pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">6</p></td><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">7</p></td><td style="width:34pt"><p class="s108" style="text-indent: 0pt;line-height: 8pt;text-align: center;">7</p></td></tr></table><p style="padding-top: 6pt;padding-left: 136pt;text-indent: 0pt;text-align: justify;">Table 38.3: <b>Simple RAID-1: Mirroring</b></p><p style="padding-top: 2pt;padding-left: 68pt;text-indent: 12pt;line-height: 89%;text-align: justify;">In the example, disk 0 and disk 1 have identical contents, and disk 2 and disk 3 do as well; the data is striped across these mirror pairs. In fact, you may have noticed that there are a number of different ways to place block copies across the disks. The arrangement above is a common one and is sometimes called <b>RAID-10 </b>or (<b>RAID 1+0</b>) because it uses mirrored pairs (RAID-1) and then stripes (RAID-0) on top of them; another com- mon arrangement is <b>RAID-01 </b>(or <b>RAID 0+1</b>), which contains two large striping (RAID-0) arrays, and then mirrors (RAID-1) on top of them. For now, we will just talk about mirroring assuming the above layout.</p><p style="padding-left: 68pt;text-indent: 12pt;line-height: 89%;text-align: justify;">When reading a block from a mirrored array, the RAID has a choice: it can read either copy. For example, if a read to logical block 5 is issued to the RAID, it is free to read it from either disk 2 or disk 3. When writing a block, though, no such choice exists: the RAID must update <i>both </i>copies of the data, in order to preserve reliability. Do note, though, that these writes can take place in parallel; for example, a write to logical block 5 could proceed to disks 2 and 3 at the same time.</p><p class="toc">&nbsp;</p><div class="toc"><a class="toc0" href="part404.htm">RAID-1 Analysis</a></div><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part402.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part404.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
