<?xml version="1.0" encoding="utf-8"?><html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/"><head>
<meta name="dcterms.conformsTo" content="PXE Basic 1.0"></meta>
<meta name="generator" content="PXE Tools version 1.39.109"></meta>
<!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.109, partial=false-->
<title>5.7 Network Management and SNMP</title><link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/sepia.css"></link><link rel="alternate stylesheet" type="text/css" title="night" href="../css/night.css"></link><link rel="stylesheet" type="text/css" title="day" href="../css/main.css"></link><link rel="stylesheet" type="text/css" title="day" href="../css/print.css"></link>
<script src="js/format_lg_obj.js"></script>
</head><body epub:type="bodymatter">
<section id="P7001011952000000000000000002202" class="level1"><header><h1 class="title" id="P700101195200000000000000000ADD7" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADD7" epub:type="title"><span class="number">5.7</span> Network Management and SNMP</h1></header>
<p id="P700101195200000000000000000ADD8" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADD8">Having now made our way to the end of our study of the network layer, with only the link-layer before us, we’re well aware that a network consists of many complex, interacting pieces of hardware and software—from the links, switches, routers, hosts, and other devices that comprise the physical components of the network to the many protocols that control and coordinate these devices. When hundreds or thousands of such components are brought together by an organization to form a network, the job of the network administrator to keep the network “up and running” is surely a challenge. We saw in <a class="xref" href="fileP7001011952000000000000000002156.xhtml#P7001011952000000000000000002156" data-foobar="7"><span class="label">Section</span> <span class="number">5.5</span></a> that the logically centralized controller can help with this process in an SDN context. But the challenge of network management has been around long before SDN, with a rich set of network management tools and approaches that help the network administrator monitor, manage, and control the network. We’ll study these tools and techniques in this section.</p>
<p id="P700101195200000000000000000ADD9" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADD9">An often-asked question is “What is network management?” A well-conceived, single-sentence (albeit a rather long run-on sentence) definition of network management from <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003BEE" data-foobar="7">[Saydam 1996]</a> is:</p>
<div class="blockquotegroup" id="P700101195200000000000000000ADDA" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADDA"><blockquote class="extract" id="P700101195200000000000000000ADDB" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADDB"><p id="P700101195200000000000000000ADDC" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADDC"><i>Network management includes the deployment, integration, and coordination of the hardware, software, and human elements to monitor, test, poll, configure, analyze, evaluate, and control the network and element resources to meet the real-time, operational performance, and Quality of Service requirements at a reasonable cost.</i></p></blockquote></div>
<p id="P700101195200000000000000000ADDD" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADDD">Given this broad definition, we’ll cover only the rudiments of network management in this section—the architecture, protocols, and information base used by <span class="pagebreak" title="422" id="P700101195200000000000000000220A" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000220A" epub:type="pagebreak" role="doc-pagebreak"></span>a network administrator in performing their task. We’ll not cover the administrator’s decision-making processes, where topics such as fault identification <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003A07" data-foobar="7">[Labovitz 1997</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003C22" data-foobar="7">Steinder 2002</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P70010119520000000000000000038F3" data-foobar="7">Feamster 2005</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003C88" data-foobar="7">Wu 2005</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003C43" data-foobar="7">Teixeira 2006]</a>, anomaly detection <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003A12" data-foobar="7">[Lakhina 2005</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003826" data-foobar="7">Barford 2009]</a>, network design/engineering to meet contracted Service Level Agreements (SLA’s) <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P700101195200000000000000000395D" data-foobar="7">[Huston 1999a]</a>, and more come into consideration. Our focus is thus purposefully narrow; the interested reader should consult these references, the excellent network-management text by Subramanian <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003C35" data-foobar="7">[Subramanian 2000]</a>, and the more detailed treatment of network management available on the Web site for this text.</p>
<section id="P700101195200000000000000000220B" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000220B" class="level2"><header><h1 class="title" id="P700101195200000000000000000ADDE" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADDE" epub:type="title"><span class="number">5.7.1</span> The Network Management Framework</h1></header>
<p id="P700101195200000000000000000ADDF" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADDF"><a class="xref" href="#P700101195200000000000000000221D" data-foobar="1"><span class="label">Figure</span> <span class="number">5.20</span></a> shows the key components of network management:</p>
<ul id="P700101195200000000000000000ADE0" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE0">
<li id="P700101195200000000000000000ADE1" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE1"><p id="P700101195200000000000000000ADE2" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE2">The <span class="keyword" id="P7001011952000000000000000002211" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002211"><b>managing server</b></span> is an application, typically with a human in the loop, running in a centralized network management station in the network operations center (NOC). The managing server is the locus of activity for network management; it controls the collection, processing, analysis, and/or display of network management information. It is here that actions are initiated to control network behavior and here that the human network administrator interacts with the network’s devices.</p></li>
<li id="P700101195200000000000000000ADE3" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE3"><p id="P700101195200000000000000000ADE4" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE4">A <span class="keyword" id="P7001011952000000000000000002214" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002214"><b>managed device</b></span> is a piece of network equipment (including its software) that resides on a managed network. A managed device might be a host, router, switch, middlebox, modem, thermometer, or other network-connected device. There may be several so-called <span class="keyword" id="P7001011952000000000000000002215" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002215"><b>managed objects</b></span> within a managed device. These managed objects are the actual pieces of hardware within the managed device (for example, a network interface card is but one component of a host or router), and configuration parameters for these hardware and software components (for example, an intra-AS routing protocol such as OSPF).</p></li>
<li id="P700101195200000000000000000ADE5" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE5"><p id="P700101195200000000000000000ADE6" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE6">Each managed object within a managed device associated information that is collected into a <span class="keyword" id="P7001011952000000000000000002218" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002218"><b>Management Information Base (MIB)</b></span>; we’ll see that the values of these pieces of information are available to (and in many cases able to be set by) the managing server. A MIB object might be a counter, such as the number of IP datagrams discarded at a router due to errors in an IP datagram header, or the number of UDP segments received at a host; descriptive information such as the version of the software running on a DNS server; status information such as whether a particular device is functioning correctly; or protocol-specific information such as a routing path to a destination. MIB objects are specified in a data description language known as SMI (Structure of Management Information) <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003B3D" data-foobar="7">[RFC 2578</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003B3F" data-foobar="7">RFC 2579</a>; <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003B41" data-foobar="7">RFC 2580]</a>. A formal definition language is used to ensure that the syntax and semantics of the network management data are well defined and unambiguous. Related MIB objects are gathered into MIB modules. As of mid-2015, there were nearly 400 MIB modules defined by RFCs, and a much larger number of vendor-specific (private) MIB modules.</p></li>
<li id="P700101195200000000000000000ADE7" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE7"><p id="P700101195200000000000000000ADE8" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADE8">Also resident in each managed device is a <span class="keyword" id="P700101195200000000000000000221B" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000221B"><b>network management agent</b></span>, a process running in the managed device that communicates with the managing server,<span class="pagebreak" title="423" id="P700101195200000000000000000221C" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000221C" epub:type="pagebreak" role="doc-pagebreak"></span></p>
<figure id="P700101195200000000000000000221D" class="figure" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000221D">
<img alt="Elements of network management: managing server, managed devices, MIB data, remote agents, SNMP." height="543" width="596" aria-describedby="P7001011952000000000000000002221" id="P700101195200000000000000000ADE9" data-uri="P70010119520000000000000000055BA" src="../images/4055105020.png"></img>
<figcaption id="P700101195200000000000000000ADEA" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADEA"><header><h1 class="title" id="P700101195200000000000000000ADEB" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADEB" epub:type="title"><span class="label">Figure </span><span class="number">5.20</span> Elements of network management: Managing server, ­managed devices, MIB data, remote agents, SNMP</h1></header>

</figcaption>
</figure><div class="longdesc" id="P7001011952000000000000000002221" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002221" aria-hidden="false"><a class="xref" aria-hidden="false" href="../longalt/la_4055105020.xhtml#la_4055105020"><span class="label">Description</span></a></div>
<p class="continued" id="P700101195200000000000000000ADEE" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADEE">taking local actions at the managed device under the command and control of the managing server. The network management agent is similar to the routing agent that we saw in <a class="xref" href="fileP7001011952000000000000000001EE4.xhtml#P7001011952000000000000000001EF6" data-foobar="7"><span class="label">Figure</span> <span class="number">5.2</span></a>.</p></li>
<li id="P700101195200000000000000000ADEF" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADEF"><p id="P700101195200000000000000000ADF0" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF0">The final component of a network management framework is the <span class="keyword" id="P7001011952000000000000000002227" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002227"><b>network ­management protocol</b></span>. The protocol runs between the managing server and the managed devices, allowing the managing server to query the status of managed devices and indirectly take actions at these devices via its agents. Agents can use the network management protocol to inform the managing server of exceptional events (for example, component failures or violation of performance thresholds). It’s important to note that the network management protocol does not itself manage the network. Instead, it provides capabilities that a network administrator can use to manage (“monitor, test, poll, configure, analyze, evaluate, and control”) the network. This is a subtle, but important, distinction. In the following section, we’ll cover the Internet’s SNMP (Simple Network Management Protocol) ­protocol.</p></li>
</ul>
</section>
<section id="P7001011952000000000000000002228" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002228" class="level2"><header><h1 class="title" id="P700101195200000000000000000ADF1" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF1" epub:type="title"><span class="pagebreak" title="424" id="P700101195200000000000000000222A" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000222A" epub:type="pagebreak" role="doc-pagebreak"></span><span class="number">5.7.2</span> The Simple Network Management Protocol (SNMP)</h1></header>
<p id="P700101195200000000000000000ADF2" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF2">The <span class="keyword" id="P700101195200000000000000000222C" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000222C"><b>Simple Network Management Protocol</b></span> version 2 (SNMPv2) <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003B77" data-foobar="7">[RFC 3416]</a> is an application-layer protocol used to convey network-management control and information messages between a managing server and an agent executing on behalf of that managing server. The most common usage of SNMP is in a request-response mode in which an SNMP managing server sends a request to an SNMP agent, who receives the request, performs some action, and sends a reply to the request. Typically, a request will be used to query (retrieve) or modify (set) MIB object values associated with a managed device. A second common usage of SNMP is for an agent to send an unsolicited message, known as a trap message, to a managing server. Trap messages are used to notify a managing server of an exceptional situation (e.g., a link interface going up or down) that has resulted in changes to MIB object values.</p>
<p id="P700101195200000000000000000ADF3" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF3">SNMPv2 defines seven types of messages, known generically as protocol data units—PDUs—as shown in <a class="xref" href="#P7001011952000000000000000002234" data-foobar="1"><span class="label">Table</span> <span class="number">5.2</span></a> and described below. The format of the PDU is shown in <a class="xref" href="#P7001011952000000000000000002264" data-foobar="1"><span class="label">Figure</span> <span class="number">5.21</span></a>.</p>
<ul id="P700101195200000000000000000ADF4" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF4">
<li id="P700101195200000000000000000ADF5" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF5"><p id="P700101195200000000000000000ADF6" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF6">The <code id="P700101195200000000000000000ADF7" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF7">GetRequest</code>, <code id="P700101195200000000000000000ADF8" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF8">GetNextRequest,</code> and <code id="P700101195200000000000000000ADF9" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADF9">GetBulkRequest</code> PDUs are all sent from a managing server to an agent to request the value of one or more MIB objects at the agent’s managed device. The MIB objects whose values are being</p>
<figure id="P7001011952000000000000000002234" class="table" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002234">
<figcaption id="P700101195200000000000000000ADFA" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADFA"><header><h1 class="title" id="P700101195200000000000000000ADFB" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADFB" epub:type="title"><span class="label">Table </span> <span class="number">5.2</span> SNMPv2 PDU types</h1></header></figcaption>
<table id="P700101195200000000000000000ADFC" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADFC">
<tbody>
<tr>
<td id="P700101195200000000000000000ADFD" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADFD">SNMPv2 PDU Type</td>
<td id="P700101195200000000000000000ADFE" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADFE">Sender-receiver</td>
<td id="P700101195200000000000000000ADFF" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000ADFF">Description</td>
</tr>
<tr>
<td id="P700101195200000000000000000AE00" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE00"><code id="P700101195200000000000000000AE01" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE01">GetRequest</code></td>
<td id="P700101195200000000000000000AE02" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE02">manager-to-agent</td>
<td id="P700101195200000000000000000AE03" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE03">get value of one or more MIB object instances</td>
</tr>
<tr>
<td id="P700101195200000000000000000AE04" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE04"><code id="P700101195200000000000000000AE05" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE05">GetNextRequest</code></td>
<td id="P700101195200000000000000000AE06" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE06">manager-to-agent</td>
<td id="P700101195200000000000000000AE07" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE07">get value of next MIB object instance in list or table</td>
</tr>
<tr>
<td id="P700101195200000000000000000AE08" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE08"><code id="P700101195200000000000000000AE09" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE09">GetBulkRequest</code></td>
<td id="P700101195200000000000000000AE0A" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE0A">manager-to-agent</td>
<td id="P700101195200000000000000000AE0B" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE0B">get values in large block of data, for example, values in a large table</td>
</tr>
<tr>
<td id="P700101195200000000000000000AE0C" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE0C"><code id="P700101195200000000000000000AE0D" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE0D">InformRequest</code></td>
<td id="P700101195200000000000000000AE0E" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE0E">manager-to-manager</td>
<td id="P700101195200000000000000000AE0F" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE0F">inform remote managing entity of MIB values remote to its access</td>
</tr>
<tr>
<td id="P700101195200000000000000000AE10" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE10"><code id="P700101195200000000000000000AE11" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE11">SetRequest</code></td>
<td id="P700101195200000000000000000AE12" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE12">manager-to-agent</td>
<td id="P700101195200000000000000000AE13" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE13">set value of one or more MIB object instances</td>
</tr>
<tr>
<td id="P700101195200000000000000000AE14" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE14"><code id="P700101195200000000000000000AE15" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE15">Response</code></td>
<td id="P700101195200000000000000000AE16" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE16">agent-to-manager or</td>
<td id="P700101195200000000000000000AE17" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE17">generated in response to </td>
</tr>
<tr>
<td></td>
<td id="P700101195200000000000000000AE18" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE18">manager-to-manager</td>
<td id="P700101195200000000000000000AE19" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE19"> <code id="P700101195200000000000000000AE1A" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE1A">GetRequest,</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td id="P700101195200000000000000000AE1B" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE1B"> <code id="P700101195200000000000000000AE1C" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE1C">GetNextRequest,</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td id="P700101195200000000000000000AE1D" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE1D"> <code id="P700101195200000000000000000AE1E" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE1E">GetBulkRequest,</code></td>
</tr>
<tr>
<td></td>
<td></td>
<td id="P700101195200000000000000000AE1F" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE1F"> <code id="P700101195200000000000000000AE20" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE20">SetRequest PDU,</code> or</td>
</tr>
<tr>
<td></td>
<td></td>
<td id="P700101195200000000000000000AE21" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE21"> <code id="P700101195200000000000000000AE22" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE22">InformRequest</code></td>
</tr>
<tr>
<td id="P700101195200000000000000000AE23" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE23"><code id="P700101195200000000000000000AE24" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE24">SNMPv2-Trap</code></td>
<td id="P700101195200000000000000000AE25" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE25">agent-to-manager</td>
<td id="P700101195200000000000000000AE26" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE26">inform manager of an exceptional event #</td>
</tr>
</tbody>
</table>
</figure>
<p id="P700101195200000000000000000AE27" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE27"><span class="pagebreak" title="425" id="P7001011952000000000000000002263" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002263" epub:type="pagebreak" role="doc-pagebreak"></span></p>
<figure id="P7001011952000000000000000002264" class="figure" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002264">
<img alt="Illustration of SNMP PDU format." height="328" width="699" aria-describedby="P7001011952000000000000000002268" id="P700101195200000000000000000AE28" data-uri="P70010119520000000000000000055BB" src="../images/4055105021.png"></img>
<figcaption id="P700101195200000000000000000AE29" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE29"><header><h1 class="title" id="P700101195200000000000000000AE2A" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE2A" epub:type="title"><span class="label">Figure </span><span class="number">5.21</span> SNMP PDU format</h1></header>

</figcaption>
</figure><div class="longdesc" id="P7001011952000000000000000002268" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002268" aria-hidden="false"><a class="xref" aria-hidden="false" href="../longalt/la_4055105021.xhtml#la_4055105021"><span class="label">Description</span></a></div>
<p class="continued" id="P700101195200000000000000000AE2D" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE2D">requested are specified in the variable binding portion of the PDU. <code id="P700101195200000000000000000AE2E" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE2E">­GetRequest</code>, <code id="P700101195200000000000000000AE2F" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE2F">GetNextRequest</code>, and GetBulkRequest differ in the granularity of their data requests. <code id="P700101195200000000000000000AE30" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE30">GetRequest</code> can request an arbitrary set of MIB values; multiple <code id="P700101195200000000000000000AE31" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE31">GetNextRequest</code>s can be used to sequence through a list or table of MIB objects; <code id="P700101195200000000000000000AE32" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE32">GetBulkRequest</code> allows a large block of data to be returned, avoiding the overhead incurred if multiple <code id="P700101195200000000000000000AE33" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE33">GetRequest</code> or ­<code id="P700101195200000000000000000AE34" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE34">GetNextRequest</code> messages were to be sent. In all three cases, the agent responds with a <code id="P700101195200000000000000000AE35" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE35">Response PDU</code> containing the object identifiers and their associated values.</p></li>
<li id="P700101195200000000000000000AE36" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE36"><p id="P700101195200000000000000000AE37" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE37">The <code id="P700101195200000000000000000AE38" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE38">SetRequest</code> PDU is used by a managing server to set the value of one or more MIB objects in a managed device. An agent replies with a <code id="P700101195200000000000000000AE39" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE39">Response</code> PDU with the “noError” error status to confirm that the value has indeed been set.</p></li>
<li id="P700101195200000000000000000AE3A" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE3A"><p id="P700101195200000000000000000AE3B" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE3B">The <code id="P700101195200000000000000000AE3C" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE3C">InformRequest</code> PDU is used by a managing server to notify another managing server of MIB information that is remote to the receiving server.</p></li>
<li id="P700101195200000000000000000AE3D" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE3D"><p id="P700101195200000000000000000AE3E" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE3E">The <code id="P700101195200000000000000000AE3F" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE3F">Response PDU</code> is typically sent from a managed device to the managing server in response to a request message from that server, returning the requested information.</p></li>
<li id="P700101195200000000000000000AE40" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE40"><p id="P700101195200000000000000000AE41" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE41">The final type of SNMPv2 PDU is the trap message. Trap messages are generated asynchronously; that is, they are not generated in response to a received request but rather in response to an event for which the managing server requires notification. RFC 3418 defines well-known trap types that include a cold or warm start by a device, a link going up or down, the loss of a neighbor, or an authentication failure event. A received trap request has no required response from a managing server.</p></li>
</ul>
<p class="continued" id="P700101195200000000000000000AE42" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE42">Given the request-response nature of SNMP, it is worth noting here that although SNMP PDUs can be carried via many different transport protocols, the SNMP PDU is typically carried in the payload of a UDP datagram. Indeed, RFC 3417 states <span class="pagebreak" title="426" id="P7001011952000000000000000002281" data-uri="M05_KURO4140_07_SE_C05.xhtml#P7001011952000000000000000002281" epub:type="pagebreak" role="doc-pagebreak"></span>that UDP is “the ­preferred transport mapping.” However, since UDP is an unreliable transport protocol, there is no guarantee that a request, or its response, will be received at the intended destination. The request ID field of the PDU (see <a class="xref" href="#P7001011952000000000000000002264" data-foobar="1"><span class="label">Figure</span> <span class="number">5.21</span></a>) is used by the managing server to number its requests to an agent; the agent’s response takes its request ID from that of the received request. Thus, the request ID field can be used by the managing server to detect lost requests or replies. It is up to the managing server to decide whether to retransmit a request if no corresponding response is received after a given amount of time. In particular, the SNMP standard does not mandate any particular procedure for retransmission, or even if retransmission is to be done in the first place. It only requires that the managing server “needs to act responsibly in respect to the frequency and duration of retransmissions.” This, of course, leads one to wonder how a “responsible” protocol should act!</p>
<p id="P700101195200000000000000000AE43" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE43">SNMP has evolved through three versions. The designers of SNMPv3 have said that “SNMPv3 can be thought of as SNMPv2 with additional security and administration capabilities” <a class="biblioref" href="fileP70010119520000000000000000037E0.xhtml#P7001011952000000000000000003B73" data-foobar="7">[RFC 3410]</a>. Certainly, there are changes in SNMPv3 over SNMPv2, but nowhere are those changes more evident than in the area of administration and security. The central role of security in SNMPv3 was particularly important, since the lack of adequate security resulted in SNMP being used primarily for monitoring rather than control (for example, <code id="P700101195200000000000000000AE44" data-uri="M05_KURO4140_07_SE_C05.xhtml#P700101195200000000000000000AE44">SetRequest</code> is rarely used in SNMPv1). Once again, we see that ­security—a topic we’ll cover in detail in <a class="xref" href="fileP7001011952000000000000000002D4B.xhtml#P7001011952000000000000000002D4B" data-foobar="7"><span class="label">Chapter</span> <span class="number">8</span></a> — is of critical concern, but once again a concern whose importance had been realized perhaps a bit late and only then “added on.”</p>
</section>
</section></body></html>