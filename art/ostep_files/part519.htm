<!DOCTYPE  html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=utf-8"/><title>Sun’s Network File System (NFS)</title><link href="navigation.css" rel="stylesheet" type="text/css"/><link href="document.css" rel="stylesheet" type="text/css"/></head><body><p class="top_nav"><a href="part518.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part520.htm">下一个 &gt;</a></p><p class="s8" style="padding-top: 3pt;padding-left: 115pt;text-indent: 0pt;text-align: left;">Sun’s Network File System (NFS)</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="42" height="46" alt="image" src="Image_667.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">Client 0</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><span><img width="23" height="1" alt="image" src="Image_668.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 10pt;text-indent: 0pt;text-align: left;">Server</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-left: 41pt;text-indent: 0pt;line-height: 89%;text-align: justify;">One of the first uses of distributed client/server computing was in the realm of distributed file systems. In such an environment, there are a number of client machines and one server (or a few); the server stores the data on its disks, and clients request data through well-formed protocol messages. Figure <span style=" color: #00AEEF;">48.1 </span>depicts the basic setup.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><span><img width="42" height="13" alt="image" src="Image_669.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><span><img width="42" height="46" alt="image" src="Image_670.png"/></span></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s235" style="padding-left: 1pt;text-indent: 0pt;text-align: left;">Network</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">Client 3</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">Client 2</p><p style="text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="s91" style="padding-left: 8pt;text-indent: 0pt;text-align: left;">Client 1</p><p style="text-indent: 0pt;text-align: left;"/><p style="padding-top: 2pt;padding-left: 95pt;text-indent: 0pt;text-align: justify;">Figure 48.1: <b>A Generic Client/Server System</b></p><p style="padding-top: 5pt;padding-left: 41pt;text-indent: 11pt;line-height: 89%;text-align: justify;">As you can see from the picture, the server has the disks, and clients send messages network to access their directories and files on those disks. Why do we bother with this arrangement? (i.e., why don’t we just let clients use their local disks?) Well, primarily this setup allows for easy <b>sharing </b>of data across clients. Thus, if you access a file on one machine (Client 0) and then later use another (Client 2), you will have the same view of the file system. Your data is naturally shared across these dif- ferent machines. A secondary benefit is <b>centralized administration</b>; for example, backing up files can be done from the few server machines in- stead of from the multitude of clients. Another advantage could be <b>secu- rity</b>; having all servers in a locked machine room prevents certain types of problems from arising.</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-left: 21pt;text-indent: 0pt;text-align: center;">559</p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="text-indent: 0pt;text-align: left;"><br/></p><p style="padding-top: 6pt;padding-left: 24pt;text-indent: 0pt;line-height: 11pt;text-align: center;">C<span class="s7">RUX</span>: H<span class="s7">OW </span>T<span class="s7">O </span>B<span class="s7">UILD </span>A D<span class="s7">ISTRIBUTED </span>F<span class="s7">ILE </span>S<span class="s7">YSTEM</span></p><p style="padding-left: 8pt;text-indent: 12pt;line-height: 89%;text-align: justify;">How do you build a distributed file system? What are the key aspects to think about? What is easy to get wrong? What can we learn from existing systems?</p><p style="padding-left: 60pt;text-indent: 0pt;text-align: left;"/><p style="text-indent: 0pt;text-align: left;"><br/></p><p class="toc">&nbsp;</p><div class="toc"><a class="toc0" href="part520.htm">48.1 A Basic Distributed File System</a><a class="toc0" href="part521.htm">48.2 On To NFS</a><a class="toc0" href="part522.htm">48.3 Focus: Simple and Fast Server Crash Recovery</a><a class="toc0" href="part523.htm">48.4 Key To Fast Crash Recovery: Statelessness</a><a class="toc0" href="part524.htm">48.5 The NFSv2 Protocol</a><a class="toc0" href="part525.htm">48.6 From Protocol to Distributed File System</a><a class="toc0" href="part526.htm">48.7 Handling Server Failure with Idempotent Operations</a><a class="toc0" href="part527.htm">48.8 Improving Performance: Client-side Caching</a><a class="toc0" href="part528.htm">48.9 The Cache Consistency Problem</a><a class="toc0" href="part529.htm">48.10 Assessing NFS Cache Consistency</a><a class="toc0" href="part530.htm">48.11 Implications on Server-Side Write Buffering</a><a class="toc0" href="part531.htm">48.12 Summary</a><a class="toc0" href="part532.htm">References</a></div><p class="nav">&nbsp;&nbsp;</p><p class="nav">&nbsp;</p><p class="nav"><a href="part518.htm">&lt; 上一个</a><span> | </span><a href="../ostep.html">内容</a><span> | </span><a href="part520.htm">下一个 &gt;</a></p><p class="nav">&nbsp;&nbsp;</p></body></html>
