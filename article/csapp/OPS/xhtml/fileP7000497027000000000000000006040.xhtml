<?xml version='1.0' encoding='utf-8'?>
<html xmlns:m="http://www.w3.org/1998/Math/MathML" xmlns:svg="http://www.w3.org/2000/svg" xmlns:epub="http://www.idpf.org/2007/ops" xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en" epub:prefix="index: http://www.index.com/">
  <head>
    <meta name="dcterms.conformsTo" content="PXE Basic 1.0"/>
    <meta name="generator" content="PXE Tools version 1.39.52"/>
    <!--Created by pxe.pl for standard version PXE Basic 1.0,data-profile-product=standard by PXE Tools 1.39.52, partial=false-->
    <title>7.3 Object Files</title>
    <link rel="alternate stylesheet" type="text/css" title="night" href="../css/theme/night.css"/>
    <link rel="alternate stylesheet" type="text/css" title="sepia" href="../css/theme/sepia.css"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
  <link href="../../stylesheet.css" rel="stylesheet" type="text/css"/>
<link href="../../page_styles.css" rel="stylesheet" type="text/css"/>
</head>
  <body epub:type="bodymatter" class="calibre pcalibre pcalibre1">
<section id="P7000497027000000000000000006040" class="pcalibre halftitlepage pcalibre1"><header class="calibre1 pcalibre pcalibre1"><h1 class="pcalibre title pcalibre1" id="P70004970270000000000000000447CE" data-uri="chapter07.xhtml#P70004970270000000000000000447CE" epub:type="title"><span class="pcalibre label pcalibre1">7.3 </span>Object Files</h1></header>
<p id="P70004970270000000000000000447CF" data-uri="chapter07.xhtml#P70004970270000000000000000447CF" class="pcalibre1 pcalibre calibre2">Object files come in three forms:</p>
<ul class="pcalibre ul_none pcalibre1" id="P70004970270000000000000000447D0" data-uri="chapter07.xhtml#P70004970270000000000000000447D0">
<li id="P70004970270000000000000000447D1" data-uri="chapter07.xhtml#P70004970270000000000000000447D1" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447D2" data-uri="chapter07.xhtml#P70004970270000000000000000447D2" class="calibre13 pcalibre pcalibre1"><span class="pcalibre leadin pcalibre1">Relocatable object file. </span>Contains binary code and data in a form that can be combined with other relocatable object files at compile time to create an executable object file.</p></li>
<li id="P70004970270000000000000000447D3" data-uri="chapter07.xhtml#P70004970270000000000000000447D3" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447D4" data-uri="chapter07.xhtml#P70004970270000000000000000447D4" class="calibre13 pcalibre pcalibre1"><span class="pcalibre leadin pcalibre1">Executable object file. </span>Contains binary code and data in a form that can be copied directly into memory and executed.</p></li>
<li id="P70004970270000000000000000447D5" data-uri="chapter07.xhtml#P70004970270000000000000000447D5" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447D6" data-uri="chapter07.xhtml#P70004970270000000000000000447D6" class="calibre13 pcalibre pcalibre1"><span class="pcalibre leadin pcalibre1">Shared object file. </span>A special type of relocatable object file that can be loaded into memory and linked dynamically, at either load time or run time.</p></li>
</ul>
<p id="P70004970270000000000000000447D7" data-uri="chapter07.xhtml#P70004970270000000000000000447D7" class="pcalibre1 pcalibre calibre2">Compilers and assemblers generate relocatable object files (including shared object files). Linkers generate executable object files. Technically, an <i class="calibre5 pcalibre pcalibre1">object module</i> is a sequence of bytes, and an <i class="calibre5 pcalibre pcalibre1">object file</i> is an object module stored on disk in a file. However, we will use these terms interchangeably.</p>
<p id="P70004970270000000000000000447D8" data-uri="chapter07.xhtml#P70004970270000000000000000447D8" class="pcalibre1 pcalibre calibre2">Object files are organized according to specific <i class="calibre5 pcalibre pcalibre1">object file formats</i>, which vary from system to system. The first Unix systems from Bell Labs used the <code id="P70004970270000000000000000447D9" data-uri="chapter07.xhtml#P70004970270000000000000000447D9" class="pcalibre1 calibre8 pcalibre">a.out</code> format. (To this day, executables are still referred to as <code id="P70004970270000000000000000447DA" data-uri="chapter07.xhtml#P70004970270000000000000000447DA" class="pcalibre1 calibre8 pcalibre">a.out</code> files.) Windows uses the Portable Executable (PE) format. Mac OS-X uses the Mach-O format. Modern x86-64 Linux and Unix systems use <i class="calibre5 pcalibre pcalibre1">Executable and Linkable Format (ELF</i>). Although our discussion will focus on ELF, the basic concepts are similar, regardless of the particular format.</p>
<figure class="pcalibre5 figure pcalibre" id="P700049702700000000000000000604E" data-uri="chapter07.xhtml#P700049702700000000000000000604E">
<span class="pcalibre pagebreak pcalibre1" id="P700049702700000000000000000604F" title="674" data-uri="chapter07.xhtml#P700049702700000000000000000604F" epub:type="pagebreak"></span>
<img alt="A diagram shows a typical ELF relocatable object file." id="P70004970270000000000000000447DB" data-uri="P700049702700000000000000000B759" src="../images/p674-1.png" class="pcalibre1 calibre231 pcalibre"/>
<figcaption id="P70004970270000000000000000447DC" data-uri="chapter07.xhtml#P70004970270000000000000000447DC" class="calibre11 pcalibre pcalibre1"><header class="pcalibre halftitlepage pcalibre1"><h1 class="title3 pcalibre pcalibre1" id="P70004970270000000000000000447DD" data-uri="chapter07.xhtml#P70004970270000000000000000447DD" epub:type="title"><span class="pcalibre1 label2 pcalibre">Figure </span><span class="number pcalibre pcalibre1">7.3 </span>Typical ELF relocatable object file.</h1></header>
<details class="longdesc pcalibre pcalibre1" id="P7000497027000000000000000024AEE" data-uri="chapter07.xhtml#P7000497027000000000000000024AEE">
<summary class="pcalibre6 pcalibre1 pcalibre calibre30"><span class="number pcalibre pcalibre1">Description</span></summary>
<p id="P70004970270000000000000000447DE" data-uri="chapter07.xhtml#P70004970270000000000000000447DE" class="pcalibre1 pcalibre calibre2">A diagram has 11 sections extending from 0 at the top, with a section at the bottom, containing section header table, describing object file sections. The sections, from bottom to top, are:</p>
<ul id="P70004970270000000000000000447DF" data-uri="chapter07.xhtml#P70004970270000000000000000447DF" class="pcalibre calibre31 pcalibre1">
<li id="P70004970270000000000000000447E0" data-uri="chapter07.xhtml#P70004970270000000000000000447E0" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447E1" data-uri="chapter07.xhtml#P70004970270000000000000000447E1" class="pcalibre calibre3 pcalibre1">ELF header</p></li>
<li id="P70004970270000000000000000447E2" data-uri="chapter07.xhtml#P70004970270000000000000000447E2" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447E3" data-uri="chapter07.xhtml#P70004970270000000000000000447E3" class="pcalibre calibre3 pcalibre1">.text</p></li>
<li id="P70004970270000000000000000447E4" data-uri="chapter07.xhtml#P70004970270000000000000000447E4" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447E5" data-uri="chapter07.xhtml#P70004970270000000000000000447E5" class="pcalibre calibre3 pcalibre1">.rodata</p></li>
<li id="P70004970270000000000000000447E6" data-uri="chapter07.xhtml#P70004970270000000000000000447E6" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447E7" data-uri="chapter07.xhtml#P70004970270000000000000000447E7" class="pcalibre calibre3 pcalibre1">.data</p></li>
<li id="P70004970270000000000000000447E8" data-uri="chapter07.xhtml#P70004970270000000000000000447E8" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447E9" data-uri="chapter07.xhtml#P70004970270000000000000000447E9" class="pcalibre calibre3 pcalibre1">.bss</p></li>
<li id="P70004970270000000000000000447EA" data-uri="chapter07.xhtml#P70004970270000000000000000447EA" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447EB" data-uri="chapter07.xhtml#P70004970270000000000000000447EB" class="pcalibre calibre3 pcalibre1">.symtab</p></li>
<li id="P70004970270000000000000000447EC" data-uri="chapter07.xhtml#P70004970270000000000000000447EC" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447ED" data-uri="chapter07.xhtml#P70004970270000000000000000447ED" class="pcalibre calibre3 pcalibre1">.rel .text</p></li>
<li id="P70004970270000000000000000447EE" data-uri="chapter07.xhtml#P70004970270000000000000000447EE" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447EF" data-uri="chapter07.xhtml#P70004970270000000000000000447EF" class="pcalibre calibre3 pcalibre1">.rel .data</p></li>
<li id="P70004970270000000000000000447F0" data-uri="chapter07.xhtml#P70004970270000000000000000447F0" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447F1" data-uri="chapter07.xhtml#P70004970270000000000000000447F1" class="pcalibre calibre3 pcalibre1">.debug</p></li>
<li id="P70004970270000000000000000447F2" data-uri="chapter07.xhtml#P70004970270000000000000000447F2" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447F3" data-uri="chapter07.xhtml#P70004970270000000000000000447F3" class="pcalibre calibre3 pcalibre1">.line</p></li>
<li id="P70004970270000000000000000447F4" data-uri="chapter07.xhtml#P70004970270000000000000000447F4" class="calibre12 pcalibre pcalibre1"><p id="P70004970270000000000000000447F5" data-uri="chapter07.xhtml#P70004970270000000000000000447F5" class="pcalibre calibre3 pcalibre1">.strtb</p></li>
</ul>
</details>
</figcaption>
</figure>
</section></body></html>
